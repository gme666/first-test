d1deb4b874f1a4f4ac4780f268ac31b5
































'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}

var React=require('react');
var ReactNative=require('react-native');
var NavigationContainer=require('./NavigationContainer');
var NavigationHeaderTitle=require('./NavigationHeaderTitle');
var NavigationHeaderBackButton=require('./NavigationHeaderBackButton');
var NavigationPropTypes=require('./NavigationPropTypes');
var NavigationHeaderStyleInterpolator=require('./NavigationHeaderStyleInterpolator');var


Animated=




ReactNative.Animated,Platform=ReactNative.Platform,StyleSheet=ReactNative.StyleSheet,View=ReactNative.View,ViewPropTypes=ReactNative.ViewPropTypes;























var APPBAR_HEIGHT=Platform.OS==='ios'?44:56;
var STATUSBAR_HEIGHT=Platform.OS==='ios'?20:0;
var PropTypes=require('prop-types');var

NavigationHeader=function(_React$PureComponent){_inherits(NavigationHeader,_React$PureComponent);function NavigationHeader(){_classCallCheck(this,NavigationHeader);return _possibleConstructorReturn(this,(NavigationHeader.__proto__||Object.getPrototypeOf(NavigationHeader)).apply(this,arguments));}_createClass(NavigationHeader,[{key:'render',value:function render()




























{var _this2=this;var _props=
this.props,scenes=_props.scenes,style=_props.style,viewProps=_props.viewProps;

var scenesProps=scenes.map(function(scene){
var props=NavigationPropTypes.extractSceneRendererProps(_this2.props);
props.scene=scene;
return props;
});

return(
React.createElement(View,_extends({style:[styles.appbar,style]},viewProps),
scenesProps.map(this._renderLeft,this),
scenesProps.map(this._renderTitle,this),
scenesProps.map(this._renderRight,this)));


}},{key:'_renderLeft',value:function _renderLeft(

props){
return this._renderSubView(
props,
'left',
this.props.renderLeftComponent,
NavigationHeaderStyleInterpolator.forLeft);

}},{key:'_renderTitle',value:function _renderTitle(

props){
return this._renderSubView(
props,
'title',
this.props.renderTitleComponent,
NavigationHeaderStyleInterpolator.forCenter);

}},{key:'_renderRight',value:function _renderRight(

props){
return this._renderSubView(
props,
'right',
this.props.renderRightComponent,
NavigationHeaderStyleInterpolator.forRight);

}},{key:'_renderSubView',value:function _renderSubView(


props,
name,
renderer,
styleInterpolator)
{var

scene=

props.scene,navigationState=props.navigationState;var


index=


scene.index,isStale=scene.isStale,key=scene.key;

var offset=navigationState.index-index;

if(Math.abs(offset)>2){


return null;
}

var subView=renderer(props);
if(subView===null){
return null;
}

var pointerEvents=offset!==0||isStale?'none':'box-none';
return(
React.createElement(Animated.View,{
pointerEvents:pointerEvents,
key:name+'_'+key,
style:[
styles[name],
styleInterpolator(props)]},

subView));


}}]);return NavigationHeader;}(React.PureComponent);NavigationHeader.defaultProps={renderTitleComponent:function renderTitleComponent(props){var navigationState=props.navigationState;var title=String(navigationState.title||'');return React.createElement(NavigationHeaderTitle,null,title);},renderLeftComponent:function renderLeftComponent(props){return props.scene.index>0?React.createElement(NavigationHeaderBackButton,null):null;},renderRightComponent:function renderRightComponent(props){return null;}};NavigationHeader.propTypes=_extends({},NavigationPropTypes.SceneRendererProps,{renderLeftComponent:PropTypes.func,renderRightComponent:PropTypes.func,renderTitleComponent:PropTypes.func,style:ViewPropTypes.style,viewProps:PropTypes.shape(ViewPropTypes)});


var styles=StyleSheet.create({
appbar:{
alignItems:'center',
backgroundColor:Platform.OS==='ios'?'#EFEFF2':'#FFF',
borderBottomColor:'rgba(0, 0, 0, .15)',
borderBottomWidth:Platform.OS==='ios'?StyleSheet.hairlineWidth:0,
elevation:2,
flexDirection:'row',
height:APPBAR_HEIGHT+STATUSBAR_HEIGHT,
justifyContent:'flex-start',
left:0,
marginBottom:16,
position:'absolute',
right:0,
top:0},


title:{
bottom:0,
left:APPBAR_HEIGHT,
marginTop:STATUSBAR_HEIGHT,
position:'absolute',
right:APPBAR_HEIGHT,
top:0},


left:{
bottom:0,
left:0,
marginTop:STATUSBAR_HEIGHT,
position:'absolute',
top:0},


right:{
bottom:0,
marginTop:STATUSBAR_HEIGHT,
position:'absolute',
right:0,
top:0}});



var NavigationHeaderContainer=NavigationContainer.create(NavigationHeader);

NavigationHeaderContainer.HEIGHT=APPBAR_HEIGHT+STATUSBAR_HEIGHT;
NavigationHeaderContainer.Title=NavigationHeaderTitle;
NavigationHeaderContainer.BackButton=NavigationHeaderBackButton;

module.exports=NavigationHeaderContainer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5hdmlnYXRpb25IZWFkZXIuanMiXSwibmFtZXMiOlsiUmVhY3QiLCJyZXF1aXJlIiwiUmVhY3ROYXRpdmUiLCJOYXZpZ2F0aW9uQ29udGFpbmVyIiwiTmF2aWdhdGlvbkhlYWRlclRpdGxlIiwiTmF2aWdhdGlvbkhlYWRlckJhY2tCdXR0b24iLCJOYXZpZ2F0aW9uUHJvcFR5cGVzIiwiTmF2aWdhdGlvbkhlYWRlclN0eWxlSW50ZXJwb2xhdG9yIiwiQW5pbWF0ZWQiLCJQbGF0Zm9ybSIsIlN0eWxlU2hlZXQiLCJWaWV3IiwiVmlld1Byb3BUeXBlcyIsIkFQUEJBUl9IRUlHSFQiLCJPUyIsIlNUQVRVU0JBUl9IRUlHSFQiLCJQcm9wVHlwZXMiLCJOYXZpZ2F0aW9uSGVhZGVyIiwicHJvcHMiLCJzY2VuZXMiLCJzdHlsZSIsInZpZXdQcm9wcyIsInNjZW5lc1Byb3BzIiwibWFwIiwiZXh0cmFjdFNjZW5lUmVuZGVyZXJQcm9wcyIsInNjZW5lIiwic3R5bGVzIiwiYXBwYmFyIiwiX3JlbmRlckxlZnQiLCJfcmVuZGVyVGl0bGUiLCJfcmVuZGVyUmlnaHQiLCJfcmVuZGVyU3ViVmlldyIsInJlbmRlckxlZnRDb21wb25lbnQiLCJmb3JMZWZ0IiwicmVuZGVyVGl0bGVDb21wb25lbnQiLCJmb3JDZW50ZXIiLCJyZW5kZXJSaWdodENvbXBvbmVudCIsImZvclJpZ2h0IiwibmFtZSIsInJlbmRlcmVyIiwic3R5bGVJbnRlcnBvbGF0b3IiLCJuYXZpZ2F0aW9uU3RhdGUiLCJpbmRleCIsImlzU3RhbGUiLCJrZXkiLCJvZmZzZXQiLCJNYXRoIiwiYWJzIiwic3ViVmlldyIsInBvaW50ZXJFdmVudHMiLCJQdXJlQ29tcG9uZW50IiwiZGVmYXVsdFByb3BzIiwidGl0bGUiLCJTdHJpbmciLCJwcm9wVHlwZXMiLCJTY2VuZVJlbmRlcmVyUHJvcHMiLCJmdW5jIiwic2hhcGUiLCJjcmVhdGUiLCJhbGlnbkl0ZW1zIiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQm90dG9tQ29sb3IiLCJib3JkZXJCb3R0b21XaWR0aCIsImhhaXJsaW5lV2lkdGgiLCJlbGV2YXRpb24iLCJmbGV4RGlyZWN0aW9uIiwiaGVpZ2h0IiwianVzdGlmeUNvbnRlbnQiLCJsZWZ0IiwibWFyZ2luQm90dG9tIiwicG9zaXRpb24iLCJyaWdodCIsInRvcCIsImJvdHRvbSIsIm1hcmdpblRvcCIsIk5hdmlnYXRpb25IZWFkZXJDb250YWluZXIiLCJIRUlHSFQiLCJUaXRsZSIsIkJhY2tCdXR0b24iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWdDQSxhOztBQUVBLEdBQU1BLE9BQVFDLFFBQVEsT0FBUixDQUFkO0FBQ0EsR0FBTUMsYUFBY0QsUUFBUSxjQUFSLENBQXBCO0FBQ0EsR0FBTUUscUJBQXNCRixRQUFRLHVCQUFSLENBQTVCO0FBQ0EsR0FBTUcsdUJBQXdCSCxRQUFRLHlCQUFSLENBQTlCO0FBQ0EsR0FBTUksNEJBQTZCSixRQUFRLDhCQUFSLENBQW5DO0FBQ0EsR0FBTUsscUJBQXNCTCxRQUFRLHVCQUFSLENBQTVCO0FBQ0EsR0FBTU0sbUNBQW9DTixRQUFRLHFDQUFSLENBQTFDLEM7OztBQUdFTyxROzs7OztBQUtFTixXLENBTEZNLFEsQ0FDQUMsUSxDQUlFUCxXLENBSkZPLFEsQ0FDQUMsVSxDQUdFUixXLENBSEZRLFUsQ0FDQUMsSSxDQUVFVCxXLENBRkZTLEksQ0FDQUMsYSxDQUNFVixXLENBREZVLGE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXlCRixHQUFNQyxlQUFnQkosU0FBU0ssRUFBVCxHQUFnQixLQUFoQixDQUF3QixFQUF4QixDQUE2QixFQUFuRDtBQUNBLEdBQU1DLGtCQUFtQk4sU0FBU0ssRUFBVCxHQUFnQixLQUFoQixDQUF3QixFQUF4QixDQUE2QixDQUF0RDtBQUNBLEdBQU1FLFdBQVlmLFFBQVEsWUFBUixDQUFsQixDOztBQUVNZ0IsZ0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FB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QkFIUDtBQUlKdUQsU0FBVSxVQUpOO0FBS0pFLElBQUssQ0FMRCxDQTFCeUI7OztBQWtDL0JELE1BQU87QUFDTEUsT0FBUSxDQURIO0FBRUxDLFVBQVczRCxnQkFGTjtBQUdMdUQsU0FBVSxVQUhMO0FBSUxDLE1BQU8sQ0FKRjtBQUtMQyxJQUFLLENBTEEsQ0FsQ3dCLENBQWxCLENBQWY7Ozs7QUEyQ0EsR0FBTUcsMkJBQTRCeEUsb0JBQW9CdUQsTUFBcEIsQ0FBMkJ6QyxnQkFBM0IsQ0FBbEM7O0FBRUEwRCwwQkFBMEJDLE1BQTFCLENBQW1DL0QsY0FBZ0JFLGdCQUFuRDtBQUNBNEQsMEJBQTBCRSxLQUExQixDQUFrQ3pFLHFCQUFsQztBQUNBdUUsMEJBQTBCRyxVQUExQixDQUF1Q3pFLDBCQUF2Qzs7QUFFQTBFLE9BQU9DLE9BQVAsQ0FBaUJMLHlCQUFqQiIsImZpbGUiOiJOYXZpZ2F0aW9uSGVhZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEZhY2Vib29rLCBJbmMuIChcIkZhY2Vib29rXCIpIG93bnMgYWxsIHJpZ2h0LCB0aXRsZSBhbmQgaW50ZXJlc3QsIGluY2x1ZGluZ1xuICogYWxsIGludGVsbGVjdHVhbCBwcm9wZXJ0eSBhbmQgb3RoZXIgcHJvcHJpZXRhcnkgcmlnaHRzLCBpbiBhbmQgdG8gdGhlIFJlYWN0XG4gKiBOYXRpdmUgQ3VzdG9tQ29tcG9uZW50cyBzb2Z0d2FyZSAodGhlIFwiU29mdHdhcmVcIikuICBTdWJqZWN0IHRvIHlvdXJcbiAqIGNvbXBsaWFuY2Ugd2l0aCB0aGVzZSB0ZXJtcywgeW91IGFyZSBoZXJlYnkgZ3JhbnRlZCBhIG5vbi1leGNsdXNpdmUsXG4gKiB3b3JsZHdpZGUsIHJveWFsdHktZnJlZSBjb3B5cmlnaHQgbGljZW5zZSB0byAoMSkgdXNlIGFuZCBjb3B5IHRoZSBTb2Z0d2FyZTtcbiAqIGFuZCAoMikgcmVwcm9kdWNlIGFuZCBkaXN0cmlidXRlIHRoZSBTb2Z0d2FyZSBhcyBwYXJ0IG9mIHlvdXIgb3duIHNvZnR3YXJlXG4gKiAoXCJZb3VyIFNvZnR3YXJlXCIpLiAgRmFjZWJvb2sgcmVzZXJ2ZXMgYWxsIHJpZ2h0cyBub3QgZXhwcmVzc2x5IGdyYW50ZWQgdG9cbiAqIHlvdSBpbiB0aGlzIGxpY2Vuc2UgYWdyZWVtZW50LlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBBTkQgRE9DVU1FTlRBVElPTiwgSUYgQU5ZLCBBUkUgUFJPVklERUQgXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTU1xuICogT1IgSU1QTElFRCBXQVJSQU5USUVTIChJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFU1xuICogT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSkgQVJFIERJU0NMQUlNRUQuXG4gKiBJTiBOTyBFVkVOVCBTSEFMTCBGQUNFQk9PSyBPUiBJVFMgQUZGSUxJQVRFUywgT0ZGSUNFUlMsIERJUkVDVE9SUyBPUlxuICogRU1QTE9ZRUVTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsXG4gKiBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sXG4gKiBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUztcbiAqIE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxuICogV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1JcbiAqIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRIRSBTT0ZUV0FSRSwgRVZFTiBJRlxuICogQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIE5hdmlnYXRpb25IZWFkZXJcbiAqIEBmbG93XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3ROYXRpdmUgPSByZXF1aXJlKCdyZWFjdC1uYXRpdmUnKTtcbmNvbnN0IE5hdmlnYXRpb25Db250YWluZXIgPSByZXF1aXJlKCcuL05hdmlnYXRpb25Db250YWluZXInKTtcbmNvbnN0IE5hdmlnYXRpb25IZWFkZXJUaXRsZSA9IHJlcXVpcmUoJy4vTmF2aWdhdGlvbkhlYWRlclRpdGxlJyk7XG5jb25zdCBOYXZpZ2F0aW9uSGVhZGVyQmFja0J1dHRvbiA9IHJlcXVpcmUoJy4vTmF2aWdhdGlvbkhlYWRlckJhY2tCdXR0b24nKTtcbmNvbnN0IE5hdmlnYXRpb25Qcm9wVHlwZXMgPSByZXF1aXJlKCcuL05hdmlnYXRpb25Qcm9wVHlwZXMnKTtcbmNvbnN0IE5hdmlnYXRpb25IZWFkZXJTdHlsZUludGVycG9sYXRvciA9IHJlcXVpcmUoJy4vTmF2aWdhdGlvbkhlYWRlclN0eWxlSW50ZXJwb2xhdG9yJyk7XG5cbmNvbnN0IHtcbiAgQW5pbWF0ZWQsXG4gIFBsYXRmb3JtLFxuICBTdHlsZVNoZWV0LFxuICBWaWV3LFxuICBWaWV3UHJvcFR5cGVzLFxufSA9IFJlYWN0TmF0aXZlO1xuXG5pbXBvcnQgdHlwZSAge1xuICBOYXZpZ2F0aW9uU2NlbmVSZW5kZXJlcixcbiAgTmF2aWdhdGlvblNjZW5lUmVuZGVyZXJQcm9wcyxcbiAgTmF2aWdhdGlvblN0eWxlSW50ZXJwb2xhdG9yLFxufSBmcm9tICdOYXZpZ2F0aW9uVHlwZURlZmluaXRpb24nO1xuXG50eXBlIERlZmF1bHRQcm9wcyA9IHtcbiAgcmVuZGVyTGVmdENvbXBvbmVudDogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXIsXG4gIHJlbmRlclJpZ2h0Q29tcG9uZW50OiBOYXZpZ2F0aW9uU2NlbmVSZW5kZXJlcixcbiAgcmVuZGVyVGl0bGVDb21wb25lbnQ6IE5hdmlnYXRpb25TY2VuZVJlbmRlcmVyLFxufTtcblxudHlwZSBQcm9wcyA9IE5hdmlnYXRpb25TY2VuZVJlbmRlcmVyUHJvcHMgJiB7XG4gIHJlbmRlckxlZnRDb21wb25lbnQ6IE5hdmlnYXRpb25TY2VuZVJlbmRlcmVyLFxuICByZW5kZXJSaWdodENvbXBvbmVudDogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXIsXG4gIHJlbmRlclRpdGxlQ29tcG9uZW50OiBOYXZpZ2F0aW9uU2NlbmVSZW5kZXJlcixcbiAgc3R5bGU/OiBhbnk7XG4gIHZpZXdQcm9wcz86IGFueTtcbn07XG5cbnR5cGUgU3ViVmlld05hbWUgPSAnbGVmdCcgfCAndGl0bGUnIHwgJ3JpZ2h0JztcblxuY29uc3QgQVBQQkFSX0hFSUdIVCA9IFBsYXRmb3JtLk9TID09PSAnaW9zJyA/IDQ0IDogNTY7XG5jb25zdCBTVEFUVVNCQVJfSEVJR0hUID0gUGxhdGZvcm0uT1MgPT09ICdpb3MnID8gMjAgOiAwO1xuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG5jbGFzcyBOYXZpZ2F0aW9uSGVhZGVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudDxEZWZhdWx0UHJvcHMsIFByb3BzLCBhbnk+IHtcbiAgcHJvcHM6IFByb3BzO1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cbiAgICByZW5kZXJUaXRsZUNvbXBvbmVudDogKHByb3BzOiBOYXZpZ2F0aW9uU2NlbmVSZW5kZXJlclByb3BzKSA9PiB7XG4gICAgICBjb25zdCB7bmF2aWdhdGlvblN0YXRlfSA9IHByb3BzO1xuICAgICAgY29uc3QgdGl0bGUgPSBTdHJpbmcobmF2aWdhdGlvblN0YXRlLnRpdGxlIHx8ICcnKTtcbiAgICAgIHJldHVybiA8TmF2aWdhdGlvbkhlYWRlclRpdGxlPnt0aXRsZX08L05hdmlnYXRpb25IZWFkZXJUaXRsZT47XG4gICAgfSxcblxuICAgIHJlbmRlckxlZnRDb21wb25lbnQ6IChwcm9wczogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXJQcm9wcykgPT4ge1xuICAgICAgcmV0dXJuIHByb3BzLnNjZW5lLmluZGV4ID4gMCA/IDxOYXZpZ2F0aW9uSGVhZGVyQmFja0J1dHRvbiAvPiA6IG51bGw7XG4gICAgfSxcblxuICAgIHJlbmRlclJpZ2h0Q29tcG9uZW50OiAocHJvcHM6IE5hdmlnYXRpb25TY2VuZVJlbmRlcmVyUHJvcHMpID0+IHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gIH07XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAuLi5OYXZpZ2F0aW9uUHJvcFR5cGVzLlNjZW5lUmVuZGVyZXJQcm9wcyxcbiAgICByZW5kZXJMZWZ0Q29tcG9uZW50OiBQcm9wVHlwZXMuZnVuYyxcbiAgICByZW5kZXJSaWdodENvbXBvbmVudDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgcmVuZGVyVGl0bGVDb21wb25lbnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIHN0eWxlOiBWaWV3UHJvcFR5cGVzLnN0eWxlLFxuICAgIHZpZXdQcm9wczogUHJvcFR5cGVzLnNoYXBlKFZpZXdQcm9wVHlwZXMpLFxuICB9O1xuXG4gIHJlbmRlcigpOiBSZWFjdEVsZW1lbnQge1xuICAgIGNvbnN0IHsgc2NlbmVzLCBzdHlsZSwgdmlld1Byb3BzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgY29uc3Qgc2NlbmVzUHJvcHMgPSBzY2VuZXMubWFwKHNjZW5lID0+IHtcbiAgICAgIGNvbnN0IHByb3BzID0gTmF2aWdhdGlvblByb3BUeXBlcy5leHRyYWN0U2NlbmVSZW5kZXJlclByb3BzKHRoaXMucHJvcHMpO1xuICAgICAgcHJvcHMuc2NlbmUgPSBzY2VuZTtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyBzdHlsZT17WyBzdHlsZXMuYXBwYmFyLCBzdHlsZSBdfSB7Li4udmlld1Byb3BzfT5cbiAgICAgICAge3NjZW5lc1Byb3BzLm1hcCh0aGlzLl9yZW5kZXJMZWZ0LCB0aGlzKX1cbiAgICAgICAge3NjZW5lc1Byb3BzLm1hcCh0aGlzLl9yZW5kZXJUaXRsZSwgdGhpcyl9XG4gICAgICAgIHtzY2VuZXNQcm9wcy5tYXAodGhpcy5fcmVuZGVyUmlnaHQsIHRoaXMpfVxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cblxuICBfcmVuZGVyTGVmdChwcm9wczogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXJQcm9wcyk6ID9SZWFjdEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLl9yZW5kZXJTdWJWaWV3KFxuICAgICAgcHJvcHMsXG4gICAgICAnbGVmdCcsXG4gICAgICB0aGlzLnByb3BzLnJlbmRlckxlZnRDb21wb25lbnQsXG4gICAgICBOYXZpZ2F0aW9uSGVhZGVyU3R5bGVJbnRlcnBvbGF0b3IuZm9yTGVmdCxcbiAgICApO1xuICB9XG5cbiAgX3JlbmRlclRpdGxlKHByb3BzOiBOYXZpZ2F0aW9uU2NlbmVSZW5kZXJlclByb3BzKTogP1JlYWN0RWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlclN1YlZpZXcoXG4gICAgICBwcm9wcyxcbiAgICAgICd0aXRsZScsXG4gICAgICB0aGlzLnByb3BzLnJlbmRlclRpdGxlQ29tcG9uZW50LFxuICAgICAgTmF2aWdhdGlvbkhlYWRlclN0eWxlSW50ZXJwb2xhdG9yLmZvckNlbnRlcixcbiAgICApO1xuICB9XG5cbiAgX3JlbmRlclJpZ2h0KHByb3BzOiBOYXZpZ2F0aW9uU2NlbmVSZW5kZXJlclByb3BzKTogP1JlYWN0RWxlbWVudCB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbmRlclN1YlZpZXcoXG4gICAgICBwcm9wcyxcbiAgICAgICdyaWdodCcsXG4gICAgICB0aGlzLnByb3BzLnJlbmRlclJpZ2h0Q29tcG9uZW50LFxuICAgICAgTmF2aWdhdGlvbkhlYWRlclN0eWxlSW50ZXJwb2xhdG9yLmZvclJpZ2h0LFxuICAgICk7XG4gIH1cblxuICBfcmVuZGVyU3ViVmlldyhcbiAgICBwcm9wczogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXJQcm9wcyxcbiAgICBuYW1lOiBTdWJWaWV3TmFtZSxcbiAgICByZW5kZXJlcjogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXIsXG4gICAgc3R5bGVJbnRlcnBvbGF0b3I6IE5hdmlnYXRpb25TdHlsZUludGVycG9sYXRvcixcbiAgKTogP1JlYWN0RWxlbWVudCB7XG4gICAgY29uc3Qge1xuICAgICAgc2NlbmUsXG4gICAgICBuYXZpZ2F0aW9uU3RhdGUsXG4gICAgfSA9IHByb3BzO1xuXG4gICAgY29uc3Qge1xuICAgICAgaW5kZXgsXG4gICAgICBpc1N0YWxlLFxuICAgICAga2V5LFxuICAgIH0gPSBzY2VuZTtcblxuICAgIGNvbnN0IG9mZnNldCA9IG5hdmlnYXRpb25TdGF0ZS5pbmRleCAtIGluZGV4O1xuXG4gICAgaWYgKE1hdGguYWJzKG9mZnNldCkgPiAyKSB7XG4gICAgICAvLyBTY2VuZSBpcyBmYXIgYXdheSBmcm9tIHRoZSBhY3RpdmUgc2NlbmUuIEhpZGVzIGl0IHRvIGF2b2lkIHVubmVjZXNzYXJ5XG4gICAgICAvLyByZW5kZXJpbmcuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBzdWJWaWV3ID0gcmVuZGVyZXIocHJvcHMpO1xuICAgIGlmIChzdWJWaWV3ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBwb2ludGVyRXZlbnRzID0gb2Zmc2V0ICE9PSAwIHx8IGlzU3RhbGUgPyAnbm9uZScgOiAnYm94LW5vbmUnO1xuICAgIHJldHVybiAoXG4gICAgICA8QW5pbWF0ZWQuVmlld1xuICAgICAgICBwb2ludGVyRXZlbnRzPXtwb2ludGVyRXZlbnRzfVxuICAgICAgICBrZXk9e25hbWUgKyAnXycgKyBrZXl9XG4gICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgc3R5bGVzW25hbWVdLFxuICAgICAgICAgIHN0eWxlSW50ZXJwb2xhdG9yKHByb3BzKSxcbiAgICAgICAgXX0+XG4gICAgICAgIHtzdWJWaWV3fVxuICAgICAgPC9BbmltYXRlZC5WaWV3PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBhcHBiYXI6IHtcbiAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFBsYXRmb3JtLk9TID09PSAnaW9zJyA/ICcjRUZFRkYyJyA6ICcjRkZGJyxcbiAgICBib3JkZXJCb3R0b21Db2xvcjogJ3JnYmEoMCwgMCwgMCwgLjE1KScsXG4gICAgYm9yZGVyQm90dG9tV2lkdGg6IFBsYXRmb3JtLk9TID09PSAnaW9zJyA/IFN0eWxlU2hlZXQuaGFpcmxpbmVXaWR0aCA6IDAsXG4gICAgZWxldmF0aW9uOiAyLFxuICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgIGhlaWdodDogQVBQQkFSX0hFSUdIVCArIFNUQVRVU0JBUl9IRUlHSFQsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdmbGV4LXN0YXJ0JyxcbiAgICBsZWZ0OiAwLFxuICAgIG1hcmdpbkJvdHRvbTogMTYsIC8vIFRoaXMgaXMgbmVlZGVkIGZvciBlbGV2YXRpb24gc2hhZG93XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgcmlnaHQ6IDAsXG4gICAgdG9wOiAwLFxuICB9LFxuXG4gIHRpdGxlOiB7XG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IEFQUEJBUl9IRUlHSFQsXG4gICAgbWFyZ2luVG9wOiBTVEFUVVNCQVJfSEVJR0hULFxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHJpZ2h0OiBBUFBCQVJfSEVJR0hULFxuICAgIHRvcDogMCxcbiAgfSxcblxuICBsZWZ0OiB7XG4gICAgYm90dG9tOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgbWFyZ2luVG9wOiBTVEFUVVNCQVJfSEVJR0hULFxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgfSxcblxuICByaWdodDoge1xuICAgIGJvdHRvbTogMCxcbiAgICBtYXJnaW5Ub3A6IFNUQVRVU0JBUl9IRUlHSFQsXG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgcmlnaHQ6IDAsXG4gICAgdG9wOiAwLFxuICB9LFxufSk7XG5cbmNvbnN0IE5hdmlnYXRpb25IZWFkZXJDb250YWluZXIgPSBOYXZpZ2F0aW9uQ29udGFpbmVyLmNyZWF0ZShOYXZpZ2F0aW9uSGVhZGVyKTtcblxuTmF2aWdhdGlvbkhlYWRlckNvbnRhaW5lci5IRUlHSFQgPSBBUFBCQVJfSEVJR0hUICsgU1RBVFVTQkFSX0hFSUdIVDtcbk5hdmlnYXRpb25IZWFkZXJDb250YWluZXIuVGl0bGUgPSBOYXZpZ2F0aW9uSGVhZGVyVGl0bGU7XG5OYXZpZ2F0aW9uSGVhZGVyQ29udGFpbmVyLkJhY2tCdXR0b24gPSBOYXZpZ2F0aW9uSGVhZGVyQmFja0J1dHRvbjtcblxubW9kdWxlLmV4cG9ydHMgPSBOYXZpZ2F0aW9uSGVhZGVyQ29udGFpbmVyO1xuIl19