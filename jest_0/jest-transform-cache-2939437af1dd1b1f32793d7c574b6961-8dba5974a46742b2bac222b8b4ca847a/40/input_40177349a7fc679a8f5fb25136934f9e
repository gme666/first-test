f99307cb1383563b9ea88b1b522c82f7
Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var VelocityTracker=exports.VelocityTracker=function(){
function VelocityTracker(){_classCallCheck(this,VelocityTracker);
this.history=[];
this.lastPosition=undefined;
this.lastTimestamp=undefined;
}_createClass(VelocityTracker,[{key:"add",value:function add(

position){
var timestamp=new Date().valueOf();
if(this.lastPosition&&timestamp>this.lastTimestamp){
var diff=position-this.lastPosition;
if(diff>0.001||diff<-0.001){
this.history.push(diff/(timestamp-this.lastTimestamp));
}
}
this.lastPosition=position;
this.lastTimestamp=timestamp;
}},{key:"estimateSpeed",value:function estimateSpeed()

{
var finalTrend=this.history.slice(-3);
var sum=finalTrend.reduce(function(r,v){return r+v;},0);
return sum/finalTrend.length;
}},{key:"reset",value:function reset()

{
this.history=[];
this.lastPosition=undefined;
this.lastTimestamp=undefined;
}}]);return VelocityTracker;}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0LmpzIl0sIm5hbWVzIjpbIlZlbG9jaXR5VHJhY2tlciIsImhpc3RvcnkiLCJsYXN0UG9zaXRpb24iLCJ1bmRlZmluZWQiLCJsYXN0VGltZXN0YW1wIiwicG9zaXRpb24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwidmFsdWVPZiIsImRpZmYiLCJwdXNoIiwiZmluYWxUcmVuZCIsInNsaWNlIiwic3VtIiwicmVkdWNlIiwiciIsInYiLCJsZW5ndGgiXSwibWFwcGluZ3MiOiIyc0JBQWFBLGdCLFNBQUFBLGU7QUFDWCwwQkFBYztBQUNaLEtBQUtDLE9BQUwsQ0FBZSxFQUFmO0FBQ0EsS0FBS0MsWUFBTCxDQUFvQkMsU0FBcEI7QUFDQSxLQUFLQyxhQUFMLENBQXFCRCxTQUFyQjtBQUNELEM7O0FBRUdFLFEsQ0FBVTtBQUNaLEdBQU1DLFdBQVksR0FBSUMsS0FBSixHQUFXQyxPQUFYLEVBQWxCO0FBQ0EsR0FBSSxLQUFLTixZQUFMLEVBQXFCSSxVQUFZLEtBQUtGLGFBQTFDLENBQXlEO0FBQ3ZELEdBQU1LLE1BQU9KLFNBQVcsS0FBS0gsWUFBN0I7QUFDQSxHQUFJTyxLQUFPLEtBQVAsRUFBZ0JBLEtBQU8sQ0FBQyxLQUE1QixDQUFtQztBQUNqQyxLQUFLUixPQUFMLENBQWFTLElBQWIsQ0FBa0JELE1BQVFILFVBQVksS0FBS0YsYUFBekIsQ0FBbEI7QUFDRDtBQUNGO0FBQ0QsS0FBS0YsWUFBTCxDQUFvQkcsUUFBcEI7QUFDQSxLQUFLRCxhQUFMLENBQXFCRSxTQUFyQjtBQUNELEM7O0FBRWU7QUFDZCxHQUFNSyxZQUFhLEtBQUtWLE9BQUwsQ0FBYVcsS0FBYixDQUFtQixDQUFDLENBQXBCLENBQW5CO0FBQ0EsR0FBTUMsS0FBTUYsV0FBV0csTUFBWCxDQUFrQixTQUFDQyxDQUFELENBQUlDLENBQUosUUFBVUQsR0FBSUMsQ0FBZCxFQUFsQixDQUFtQyxDQUFuQyxDQUFaO0FBQ0EsTUFBT0gsS0FBTUYsV0FBV00sTUFBeEI7QUFDRCxDOztBQUVPO0FBQ04sS0FBS2hCLE9BQUwsQ0FBZSxFQUFmO0FBQ0EsS0FBS0MsWUFBTCxDQUFvQkMsU0FBcEI7QUFDQSxLQUFLQyxhQUFMLENBQXFCRCxTQUFyQjtBQUNELEMiLCJmaWxlIjoiaW5wdXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmVsb2NpdHlUcmFja2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5oaXN0b3J5ID0gW107XG4gICAgdGhpcy5sYXN0UG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sYXN0VGltZXN0YW1wID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgYWRkKHBvc2l0aW9uKSB7XG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7XG4gICAgaWYgKHRoaXMubGFzdFBvc2l0aW9uICYmIHRpbWVzdGFtcCA+IHRoaXMubGFzdFRpbWVzdGFtcCkge1xuICAgICAgY29uc3QgZGlmZiA9IHBvc2l0aW9uIC0gdGhpcy5sYXN0UG9zaXRpb247XG4gICAgICBpZiAoZGlmZiA+IDAuMDAxIHx8IGRpZmYgPCAtMC4wMDEpIHtcbiAgICAgICAgdGhpcy5oaXN0b3J5LnB1c2goZGlmZiAvICh0aW1lc3RhbXAgLSB0aGlzLmxhc3RUaW1lc3RhbXApKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5sYXN0UG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLmxhc3RUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gIH1cblxuICBlc3RpbWF0ZVNwZWVkKCkge1xuICAgIGNvbnN0IGZpbmFsVHJlbmQgPSB0aGlzLmhpc3Rvcnkuc2xpY2UoLTMpO1xuICAgIGNvbnN0IHN1bSA9IGZpbmFsVHJlbmQucmVkdWNlKChyLCB2KSA9PiByICsgdiwgMCk7XG4gICAgcmV0dXJuIHN1bSAvIGZpbmFsVHJlbmQubGVuZ3RoO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5oaXN0b3J5ID0gW107XG4gICAgdGhpcy5sYXN0UG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5sYXN0VGltZXN0YW1wID0gdW5kZWZpbmVkO1xuICB9XG59XG4iXX0=