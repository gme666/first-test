5731935d00ea580305e1ea59d51f4b7f
var XDate=require('xdate');

function padNumber(n){
if(n<10){
return'0'+n;
}
return n;
}

function xdateToData(xdate){
var dateString=xdate.toString('yyyy-MM-dd');
return{
year:xdate.getFullYear(),
month:xdate.getMonth()+1,
day:xdate.getDate(),
timestamp:XDate(dateString,true).getTime(),
dateString:dateString};

}

function parseDate(d){
if(!d){
return;
}else if(d.timestamp){
return XDate(d.timestamp,true);
}else if(d instanceof XDate){
return XDate(d.toString('yyyy-MM-dd'),true);
}else if(d.getTime){
var dateString=d.getFullYear()+'-'+padNumber(d.getMonth()+1)+'-'+padNumber(d.getDate());
return XDate(dateString,true);
}else if(d.year){
var _dateString=d.year+'-'+padNumber(d.month)+'-'+padNumber(d.day);
return XDate(_dateString,true);
}else if(d){
return XDate(d,true);
}
}

module.exports={
xdateToData:xdateToData,
parseDate:parseDate};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludGVyZmFjZS5qcyJdLCJuYW1lcyI6WyJYRGF0ZSIsInJlcXVpcmUiLCJwYWROdW1iZXIiLCJuIiwieGRhdGVUb0RhdGEiLCJ4ZGF0ZSIsImRhdGVTdHJpbmciLCJ0b1N0cmluZyIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXkiLCJnZXREYXRlIiwidGltZXN0YW1wIiwiZ2V0VGltZSIsInBhcnNlRGF0ZSIsImQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFNQSxPQUFRQyxRQUFRLE9BQVIsQ0FBZDs7QUFFQSxRQUFTQyxVQUFULENBQW1CQyxDQUFuQixDQUFzQjtBQUNwQixHQUFJQSxFQUFJLEVBQVIsQ0FBWTtBQUNWLE1BQU8sSUFBTUEsQ0FBYjtBQUNEO0FBQ0QsTUFBT0EsRUFBUDtBQUNEOztBQUVELFFBQVNDLFlBQVQsQ0FBcUJDLEtBQXJCLENBQTRCO0FBQzFCLEdBQU1DLFlBQWFELE1BQU1FLFFBQU4sQ0FBZSxZQUFmLENBQW5CO0FBQ0EsTUFBTztBQUNMQyxLQUFNSCxNQUFNSSxXQUFOLEVBREQ7QUFFTEMsTUFBT0wsTUFBTU0sUUFBTixHQUFtQixDQUZyQjtBQUdMQyxJQUFLUCxNQUFNUSxPQUFOLEVBSEE7QUFJTEMsVUFBV2QsTUFBTU0sVUFBTixDQUFrQixJQUFsQixFQUF3QlMsT0FBeEIsRUFKTjtBQUtMVCxXQUFZQSxVQUxQLENBQVA7O0FBT0Q7O0FBRUQsUUFBU1UsVUFBVCxDQUFtQkMsQ0FBbkIsQ0FBc0I7QUFDcEIsR0FBSSxDQUFDQSxDQUFMLENBQVE7QUFDTjtBQUNELENBRkQsSUFFTyxJQUFJQSxFQUFFSCxTQUFOLENBQWlCO0FBQ3RCLE1BQU9kLE9BQU1pQixFQUFFSCxTQUFSLENBQW1CLElBQW5CLENBQVA7QUFDRCxDQUZNLElBRUEsSUFBSUcsWUFBYWpCLE1BQWpCLENBQXdCO0FBQzdCLE1BQU9BLE9BQU1pQixFQUFFVixRQUFGLENBQVcsWUFBWCxDQUFOLENBQWdDLElBQWhDLENBQVA7QUFDRCxDQUZNLElBRUEsSUFBSVUsRUFBRUYsT0FBTixDQUFlO0FBQ3BCLEdBQU1ULFlBQWFXLEVBQUVSLFdBQUYsR0FBa0IsR0FBbEIsQ0FBd0JQLFVBQVdlLEVBQUVOLFFBQUYsR0FBZSxDQUExQixDQUF4QixDQUF3RCxHQUF4RCxDQUE4RFQsVUFBVWUsRUFBRUosT0FBRixFQUFWLENBQWpGO0FBQ0EsTUFBT2IsT0FBTU0sVUFBTixDQUFrQixJQUFsQixDQUFQO0FBQ0QsQ0FITSxJQUdBLElBQUlXLEVBQUVULElBQU4sQ0FBWTtBQUNqQixHQUFNRixhQUFhVyxFQUFFVCxJQUFGLENBQVMsR0FBVCxDQUFlTixVQUFVZSxFQUFFUCxLQUFaLENBQWYsQ0FBb0MsR0FBcEMsQ0FBMENSLFVBQVVlLEVBQUVMLEdBQVosQ0FBN0Q7QUFDQSxNQUFPWixPQUFNTSxXQUFOLENBQWtCLElBQWxCLENBQVA7QUFDRCxDQUhNLElBR0EsSUFBSVcsQ0FBSixDQUFPO0FBQ1osTUFBT2pCLE9BQU1pQixDQUFOLENBQVMsSUFBVCxDQUFQO0FBQ0Q7QUFDRjs7QUFFREMsT0FBT0MsT0FBUCxDQUFpQjtBQUNmZix1QkFEZTtBQUVmWSxtQkFGZSxDQUFqQiIsImZpbGUiOiJpbnRlcmZhY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBYRGF0ZSA9IHJlcXVpcmUoJ3hkYXRlJyk7XG5cbmZ1bmN0aW9uIHBhZE51bWJlcihuKSB7XG4gIGlmIChuIDwgMTApIHtcbiAgICByZXR1cm4gJzAnICsgbjtcbiAgfVxuICByZXR1cm4gbjtcbn1cblxuZnVuY3Rpb24geGRhdGVUb0RhdGEoeGRhdGUpIHtcbiAgY29uc3QgZGF0ZVN0cmluZyA9IHhkYXRlLnRvU3RyaW5nKCd5eXl5LU1NLWRkJyk7XG4gIHJldHVybiB7XG4gICAgeWVhcjogeGRhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICBtb250aDogeGRhdGUuZ2V0TW9udGgoKSArIDEsXG4gICAgZGF5OiB4ZGF0ZS5nZXREYXRlKCksXG4gICAgdGltZXN0YW1wOiBYRGF0ZShkYXRlU3RyaW5nLCB0cnVlKS5nZXRUaW1lKCksXG4gICAgZGF0ZVN0cmluZzogZGF0ZVN0cmluZ1xuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZURhdGUoZCkge1xuICBpZiAoIWQpIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoZC50aW1lc3RhbXApIHsgLy8gY29udmVudGlvbmFsIGRhdGEgdGltZXN0YW1wXG4gICAgcmV0dXJuIFhEYXRlKGQudGltZXN0YW1wLCB0cnVlKTtcbiAgfSBlbHNlIGlmIChkIGluc3RhbmNlb2YgWERhdGUpIHsgLy8geGRhdGVcbiAgICByZXR1cm4gWERhdGUoZC50b1N0cmluZygneXl5eS1NTS1kZCcpLCB0cnVlKTtcbiAgfSBlbHNlIGlmIChkLmdldFRpbWUpIHsgLy8gamF2YXNjcmlwdCBkYXRlXG4gICAgY29uc3QgZGF0ZVN0cmluZyA9IGQuZ2V0RnVsbFllYXIoKSArICctJyArIHBhZE51bWJlcigoZC5nZXRNb250aCgpICsgMSkpICsgJy0nICsgcGFkTnVtYmVyKGQuZ2V0RGF0ZSgpKTtcbiAgICByZXR1cm4gWERhdGUoZGF0ZVN0cmluZywgdHJ1ZSk7XG4gIH0gZWxzZSBpZiAoZC55ZWFyKSB7XG4gICAgY29uc3QgZGF0ZVN0cmluZyA9IGQueWVhciArICctJyArIHBhZE51bWJlcihkLm1vbnRoKSArICctJyArIHBhZE51bWJlcihkLmRheSk7XG4gICAgcmV0dXJuIFhEYXRlKGRhdGVTdHJpbmcsIHRydWUpO1xuICB9IGVsc2UgaWYgKGQpIHsgLy8gdGltZXN0YW1wIG51YmVyIG9yIGRhdGUgZm9ybWF0dGVkIGFzIHN0cmluZ1xuICAgIHJldHVybiBYRGF0ZShkLCB0cnVlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgeGRhdGVUb0RhdGEsXG4gIHBhcnNlRGF0ZVxufTtcblxuIl19