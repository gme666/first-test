8e1bd2351ae9d3768376eaf7f55b3cb0











'use strict';

var EdgeInsetsPropType=require('EdgeInsetsPropType');
var React=require('React');
var PropTypes=require('prop-types');
var TimerMixin=require('react-timer-mixin');
var Touchable=require('Touchable');

var createReactClass=require('create-react-class');
var ensurePositiveDelayProps=require('ensurePositiveDelayProps');
var warning=require('fbjs/lib/warning');var _require=




require('ViewAccessibility'),AccessibilityComponentTypes=_require.AccessibilityComponentTypes,AccessibilityTraits=_require.AccessibilityTraits;



var PRESS_RETENTION_OFFSET={top:20,left:20,right:20,bottom:30};








var TouchableWithoutFeedback=createReactClass({
displayName:'TouchableWithoutFeedback',
mixins:[TimerMixin,Touchable.Mixin],

propTypes:{
accessible:PropTypes.bool,
accessibilityComponentType:PropTypes.oneOf(
AccessibilityComponentTypes),

accessibilityTraits:PropTypes.oneOfType([
PropTypes.oneOf(AccessibilityTraits),
PropTypes.arrayOf(PropTypes.oneOf(AccessibilityTraits))]),




disabled:PropTypes.bool,




onPress:PropTypes.func,




onPressIn:PropTypes.func,



onPressOut:PropTypes.func,





onLayout:PropTypes.func,

onLongPress:PropTypes.func,




delayPressIn:PropTypes.number,



delayPressOut:PropTypes.number,



delayLongPress:PropTypes.number,








pressRetentionOffset:EdgeInsetsPropType,









hitSlop:EdgeInsetsPropType},


getInitialState:function getInitialState(){
return this.touchableGetInitialState();
},

componentDidMount:function componentDidMount(){
ensurePositiveDelayProps(this.props);
},

componentWillReceiveProps:function componentWillReceiveProps(nextProps){
ensurePositiveDelayProps(nextProps);
},





touchableHandlePress:function touchableHandlePress(e){
this.props.onPress&&this.props.onPress(e);
},

touchableHandleActivePressIn:function touchableHandleActivePressIn(e){
this.props.onPressIn&&this.props.onPressIn(e);
},

touchableHandleActivePressOut:function touchableHandleActivePressOut(e){
this.props.onPressOut&&this.props.onPressOut(e);
},

touchableHandleLongPress:function touchableHandleLongPress(e){
this.props.onLongPress&&this.props.onLongPress(e);
},

touchableGetPressRectOffset:function touchableGetPressRectOffset(){
return this.props.pressRetentionOffset||PRESS_RETENTION_OFFSET;
},

touchableGetHitSlop:function touchableGetHitSlop(){
return this.props.hitSlop;
},

touchableGetHighlightDelayMS:function touchableGetHighlightDelayMS(){
return this.props.delayPressIn||0;
},

touchableGetLongPressDelayMS:function touchableGetLongPressDelayMS(){
return this.props.delayLongPress===0?0:
this.props.delayLongPress||500;
},

touchableGetPressOutDelayMS:function touchableGetPressOutDelayMS(){
return this.props.delayPressOut||0;
},

render:function render(){


var child=React.Children.only(this.props.children);
var children=child.props.children;
warning(
!child.type||child.type.displayName!=='Text',
'TouchableWithoutFeedback does not work well with Text children. Wrap children in a View instead. See '+(
child._owner&&child._owner.getName&&child._owner.getName()||'<unknown>'));

if(Touchable.TOUCH_TARGET_DEBUG&&child.type&&child.type.displayName==='View'){
children=React.Children.toArray(children);
children.push(Touchable.renderDebugView({color:'red',hitSlop:this.props.hitSlop}));
}
var style=Touchable.TOUCH_TARGET_DEBUG&&child.type&&child.type.displayName==='Text'?
[child.props.style,{color:'red'}]:
child.props.style;
return React.cloneElement(child,{
accessible:this.props.accessible!==false,

accessibilityLabel:this.props.accessibilityLabel,
accessibilityComponentType:this.props.accessibilityComponentType,
accessibilityTraits:this.props.accessibilityTraits,

nativeID:this.props.nativeID,

testID:this.props.testID,
onLayout:this.props.onLayout,
hitSlop:this.props.hitSlop,
onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,
onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,
onResponderGrant:this.touchableHandleResponderGrant,
onResponderMove:this.touchableHandleResponderMove,
onResponderRelease:this.touchableHandleResponderRelease,
onResponderTerminate:this.touchableHandleResponderTerminate,
style:style,
children:children});

}});


module.exports=TouchableWithoutFeedback;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjay5qcyJdLCJuYW1lcyI6WyJFZGdlSW5zZXRzUHJvcFR5cGUiLCJyZXF1aXJlIiwiUmVhY3QiLCJQcm9wVHlwZXMiLCJUaW1lck1peGluIiwiVG91Y2hhYmxlIiwiY3JlYXRlUmVhY3RDbGFzcyIsImVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyIsIndhcm5pbmciLCJBY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZXMiLCJBY2Nlc3NpYmlsaXR5VHJhaXRzIiwiUFJFU1NfUkVURU5USU9OX09GRlNFVCIsInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsIlRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayIsImRpc3BsYXlOYW1lIiwibWl4aW5zIiwiTWl4aW4iLCJwcm9wVHlwZXMiLCJhY2Nlc3NpYmxlIiwiYm9vbCIsImFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlIiwib25lT2YiLCJhY2Nlc3NpYmlsaXR5VHJhaXRzIiwib25lT2ZUeXBlIiwiYXJyYXlPZiIsImRpc2FibGVkIiwib25QcmVzcyIsImZ1bmMiLCJvblByZXNzSW4iLCJvblByZXNzT3V0Iiwib25MYXlvdXQiLCJvbkxvbmdQcmVzcyIsImRlbGF5UHJlc3NJbiIsIm51bWJlciIsImRlbGF5UHJlc3NPdXQiLCJkZWxheUxvbmdQcmVzcyIsInByZXNzUmV0ZW50aW9uT2Zmc2V0IiwiaGl0U2xvcCIsImdldEluaXRpYWxTdGF0ZSIsInRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZSIsImNvbXBvbmVudERpZE1vdW50IiwicHJvcHMiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwidG91Y2hhYmxlSGFuZGxlUHJlc3MiLCJlIiwidG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NJbiIsInRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzT3V0IiwidG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzIiwidG91Y2hhYmxlR2V0UHJlc3NSZWN0T2Zmc2V0IiwidG91Y2hhYmxlR2V0SGl0U2xvcCIsInRvdWNoYWJsZUdldEhpZ2hsaWdodERlbGF5TVMiLCJ0b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TIiwidG91Y2hhYmxlR2V0UHJlc3NPdXREZWxheU1TIiwicmVuZGVyIiwiY2hpbGQiLCJDaGlsZHJlbiIsIm9ubHkiLCJjaGlsZHJlbiIsInR5cGUiLCJfb3duZXIiLCJnZXROYW1lIiwiVE9VQ0hfVEFSR0VUX0RFQlVHIiwidG9BcnJheSIsInB1c2giLCJyZW5kZXJEZWJ1Z1ZpZXciLCJjb2xvciIsInN0eWxlIiwiY2xvbmVFbGVtZW50IiwiYWNjZXNzaWJpbGl0eUxhYmVsIiwibmF0aXZlSUQiLCJ0ZXN0SUQiLCJvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyIiwidG91Y2hhYmxlSGFuZGxlU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsIm9uUmVzcG9uZGVyR3JhbnQiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudCIsIm9uUmVzcG9uZGVyTW92ZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlck1vdmUiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJSZWxlYXNlIiwib25SZXNwb25kZXJUZXJtaW5hdGUiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQVdBOztBQUVBLEdBQU1BLG9CQUFxQkMsUUFBUSxvQkFBUixDQUEzQjtBQUNBLEdBQU1DLE9BQVFELFFBQVEsT0FBUixDQUFkO0FBQ0EsR0FBTUUsV0FBWUYsUUFBUSxZQUFSLENBQWxCO0FBQ0EsR0FBTUcsWUFBYUgsUUFBUSxtQkFBUixDQUFuQjtBQUNBLEdBQU1JLFdBQVlKLFFBQVEsV0FBUixDQUFsQjs7QUFFQSxH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QThDSixNQUFNSSxJQUFOLENBQVc3QyxXQUFYLEdBQTJCLE1BQTFFO0FBQ1osQ0FBQ3lDLE1BQU1kLEtBQU4sQ0FBWTBCLEtBQWIsQ0FBb0IsQ0FBQ0QsTUFBTyxLQUFSLENBQXBCLENBRFk7QUFFWlgsTUFBTWQsS0FBTixDQUFZMEIsS0FGZDtBQUdBLE1BQVFwRSxNQUFELENBQWFxRSxZQUFiLENBQTBCYixLQUExQixDQUFpQztBQUN0Q3JDLFdBQVksS0FBS3VCLEtBQUwsQ0FBV3ZCLFVBQVgsR0FBMEIsS0FEQTs7QUFHdENtRCxtQkFBb0IsS0FBSzVCLEtBQUwsQ0FBVzRCLGtCQUhPO0FBSXRDakQsMkJBQTRCLEtBQUtxQixLQUFMLENBQVdyQiwwQkFKRDtBQUt0Q0Usb0JBQXFCLEtBQUttQixLQUFMLENBQVduQixtQkFMTTs7QUFPdENnRCxTQUFVLEtBQUs3QixLQUFMLENBQVc2QixRQVBpQjs7QUFTdENDLE9BQVEsS0FBSzlCLEtBQUwsQ0FBVzhCLE1BVG1CO0FBVXRDekMsU0FBVSxLQUFLVyxLQUFMLENBQVdYLFFBVmlCO0FBV3RDTyxRQUFTLEtBQUtJLEtBQUwsQ0FBV0osT0FYa0I7QUFZdENtQywwQkFBMkIsS0FBS0Msc0NBWk07QUFhdENDLDhCQUErQixLQUFLQywwQ0FiRTtBQWN0Q0MsaUJBQWtCLEtBQUtDLDZCQWRlO0FBZXRDQyxnQkFBaUIsS0FBS0MsNEJBZmdCO0FBZ0J0Q0MsbUJBQW9CLEtBQUtDLCtCQWhCYTtBQWlCdENDLHFCQUFzQixLQUFLQyxpQ0FqQlc7QUFrQnRDaEIsV0FsQnNDO0FBbUJ0Q1QsaUJBbkJzQyxDQUFqQyxDQUFQOztBQXFCRCxDQXBLK0MsQ0FBakIsQ0FBakM7OztBQXVLQTBCLE9BQU9DLE9BQVAsQ0FBaUJ4RSx3QkFBakIiLCJmaWxlIjoiVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2tcbiAqIEBmbG93XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgRWRnZUluc2V0c1Byb3BUeXBlID0gcmVxdWlyZSgnRWRnZUluc2V0c1Byb3BUeXBlJyk7XG5jb25zdCBSZWFjdCA9IHJlcXVpcmUoJ1JlYWN0Jyk7XG5jb25zdCBQcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5jb25zdCBUaW1lck1peGluID0gcmVxdWlyZSgncmVhY3QtdGltZXItbWl4aW4nKTtcbmNvbnN0IFRvdWNoYWJsZSA9IHJlcXVpcmUoJ1RvdWNoYWJsZScpO1xuXG5jb25zdCBjcmVhdGVSZWFjdENsYXNzID0gcmVxdWlyZSgnY3JlYXRlLXJlYWN0LWNsYXNzJyk7XG5jb25zdCBlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMgPSByZXF1aXJlKCdlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMnKTtcbmNvbnN0IHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG5cbmNvbnN0IHtcbiAgQWNjZXNzaWJpbGl0eUNvbXBvbmVudFR5cGVzLFxuICBBY2Nlc3NpYmlsaXR5VHJhaXRzLFxufSA9IHJlcXVpcmUoJ1ZpZXdBY2Nlc3NpYmlsaXR5Jyk7XG5cbmV4cG9ydCB0eXBlIEV2ZW50ID0gT2JqZWN0O1xuXG5jb25zdCBQUkVTU19SRVRFTlRJT05fT0ZGU0VUID0ge3RvcDogMjAsIGxlZnQ6IDIwLCByaWdodDogMjAsIGJvdHRvbTogMzB9O1xuXG4vKipcbiAqIERvIG5vdCB1c2UgdW5sZXNzIHlvdSBoYXZlIGEgdmVyeSBnb29kIHJlYXNvbi4gQWxsIGVsZW1lbnRzIHRoYXRcbiAqIHJlc3BvbmQgdG8gcHJlc3Mgc2hvdWxkIGhhdmUgYSB2aXN1YWwgZmVlZGJhY2sgd2hlbiB0b3VjaGVkLlxuICpcbiAqIFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayBzdXBwb3J0cyBvbmx5IG9uZSBjaGlsZC5cbiAqIElmIHlvdSB3aXNoIHRvIGhhdmUgc2V2ZXJhbCBjaGlsZCBjb21wb25lbnRzLCB3cmFwIHRoZW0gaW4gYSBWaWV3LlxuICovXG5jb25zdCBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2sgPSBjcmVhdGVSZWFjdENsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdUb3VjaGFibGVXaXRob3V0RmVlZGJhY2snLFxuICBtaXhpbnM6IFtUaW1lck1peGluLCBUb3VjaGFibGUuTWl4aW5dLFxuXG4gIHByb3BUeXBlczoge1xuICAgIGFjY2Vzc2libGU6IFByb3BUeXBlcy5ib29sLFxuICAgIGFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlOiBQcm9wVHlwZXMub25lT2YoXG4gICAgICBBY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZXNcbiAgICApLFxuICAgIGFjY2Vzc2liaWxpdHlUcmFpdHM6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1xuICAgICAgUHJvcFR5cGVzLm9uZU9mKEFjY2Vzc2liaWxpdHlUcmFpdHMpLFxuICAgICAgUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLm9uZU9mKEFjY2Vzc2liaWxpdHlUcmFpdHMpKSxcbiAgICBdKSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBkaXNhYmxlIGFsbCBpbnRlcmFjdGlvbnMgZm9yIHRoaXMgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGRpc2FibGVkOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgdG91Y2ggaXMgcmVsZWFzZWQsIGJ1dCBub3QgaWYgY2FuY2VsbGVkIChlLmcuIGJ5IGEgc2Nyb2xsXG4gICAgICogdGhhdCBzdGVhbHMgdGhlIHJlc3BvbmRlciBsb2NrKS5cbiAgICAgKi9cbiAgICBvblByZXNzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAqIENhbGxlZCBhcyBzb29uIGFzIHRoZSB0b3VjaGFibGUgZWxlbWVudCBpcyBwcmVzc2VkIGFuZCBpbnZva2VkIGV2ZW4gYmVmb3JlIG9uUHJlc3MuXG4gICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiBtYWtpbmcgbmV0d29yayByZXF1ZXN0cy5cbiAgICAqL1xuICAgIG9uUHJlc3NJbjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgKiBDYWxsZWQgYXMgc29vbiBhcyB0aGUgdG91Y2ggaXMgcmVsZWFzZWQgZXZlbiBiZWZvcmUgb25QcmVzcy5cbiAgICAqL1xuICAgICBvblByZXNzT3V0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIG1vdW50IGFuZCBsYXlvdXQgY2hhbmdlcyB3aXRoXG4gICAgICpcbiAgICAgKiAgIGB7bmF0aXZlRXZlbnQ6IHtsYXlvdXQ6IHt4LCB5LCB3aWR0aCwgaGVpZ2h0fX19YFxuICAgICAqL1xuICAgIG9uTGF5b3V0OiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIG9uTG9uZ1ByZXNzOiBQcm9wVHlwZXMuZnVuYyxcblxuICAgIC8qKlxuICAgICAqIERlbGF5IGluIG1zLCBmcm9tIHRoZSBzdGFydCBvZiB0aGUgdG91Y2gsIGJlZm9yZSBvblByZXNzSW4gaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIGRlbGF5UHJlc3NJbjogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBEZWxheSBpbiBtcywgZnJvbSB0aGUgcmVsZWFzZSBvZiB0aGUgdG91Y2gsIGJlZm9yZSBvblByZXNzT3V0IGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBkZWxheVByZXNzT3V0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8qKlxuICAgICAqIERlbGF5IGluIG1zLCBmcm9tIG9uUHJlc3NJbiwgYmVmb3JlIG9uTG9uZ1ByZXNzIGlzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBkZWxheUxvbmdQcmVzczogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBzY3JvbGwgdmlldyBpcyBkaXNhYmxlZCwgdGhpcyBkZWZpbmVzIGhvdyBmYXIgeW91ciB0b3VjaCBtYXlcbiAgICAgKiBtb3ZlIG9mZiBvZiB0aGUgYnV0dG9uLCBiZWZvcmUgZGVhY3RpdmF0aW5nIHRoZSBidXR0b24uIE9uY2UgZGVhY3RpdmF0ZWQsXG4gICAgICogdHJ5IG1vdmluZyBpdCBiYWNrIGFuZCB5b3UnbGwgc2VlIHRoYXQgdGhlIGJ1dHRvbiBpcyBvbmNlIGFnYWluXG4gICAgICogcmVhY3RpdmF0ZWQhIE1vdmUgaXQgYmFjayBhbmQgZm9ydGggc2V2ZXJhbCB0aW1lcyB3aGlsZSB0aGUgc2Nyb2xsIHZpZXdcbiAgICAgKiBpcyBkaXNhYmxlZC4gRW5zdXJlIHlvdSBwYXNzIGluIGEgY29uc3RhbnQgdG8gcmVkdWNlIG1lbW9yeSBhbGxvY2F0aW9ucy5cbiAgICAgKi9cbiAgICAvLyAkRmxvd0ZpeE1lOiBFeHBlY3RlZCBhIFJlYWN0IFByb3BUeXBlIGluc3RlYWRcbiAgICBwcmVzc1JldGVudGlvbk9mZnNldDogRWRnZUluc2V0c1Byb3BUeXBlLFxuICAgIC8qKlxuICAgICAqIFRoaXMgZGVmaW5lcyBob3cgZmFyIHlvdXIgdG91Y2ggY2FuIHN0YXJ0IGF3YXkgZnJvbSB0aGUgYnV0dG9uLiBUaGlzIGlzXG4gICAgICogYWRkZWQgdG8gYHByZXNzUmV0ZW50aW9uT2Zmc2V0YCB3aGVuIG1vdmluZyBvZmYgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKiAqKiBOT1RFICoqXG4gICAgICogVGhlIHRvdWNoIGFyZWEgbmV2ZXIgZXh0ZW5kcyBwYXN0IHRoZSBwYXJlbnQgdmlldyBib3VuZHMgYW5kIHRoZSBaLWluZGV4XG4gICAgICogb2Ygc2libGluZyB2aWV3cyBhbHdheXMgdGFrZXMgcHJlY2VkZW5jZSBpZiBhIHRvdWNoIGhpdHMgdHdvIG92ZXJsYXBwaW5nXG4gICAgICogdmlld3MuXG4gICAgICovXG4gICAgLy8gJEZsb3dGaXhNZTogRXhwZWN0ZWQgYSBSZWFjdCBQcm9wVHlwZSBpbnN0ZWFkXG4gICAgaGl0U2xvcDogRWRnZUluc2V0c1Byb3BUeXBlLFxuICB9LFxuXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlKCk7XG4gIH0sXG5cbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIGVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyh0aGlzLnByb3BzKTtcbiAgfSxcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHM6IE9iamVjdCkge1xuICAgIGVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyhuZXh0UHJvcHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBgVG91Y2hhYmxlLk1peGluYCBzZWxmIGNhbGxiYWNrcy4gVGhlIG1peGluIHdpbGwgaW52b2tlIHRoZXNlIGlmIHRoZXkgYXJlXG4gICAqIGRlZmluZWQgb24geW91ciBjb21wb25lbnQuXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVQcmVzczogZnVuY3Rpb24oZTogRXZlbnQpIHtcbiAgICB0aGlzLnByb3BzLm9uUHJlc3MgJiYgdGhpcy5wcm9wcy5vblByZXNzKGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUhhbmRsZUFjdGl2ZVByZXNzSW46IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzSW4gJiYgdGhpcy5wcm9wcy5vblByZXNzSW4oZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQ6IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vblByZXNzT3V0ICYmIHRoaXMucHJvcHMub25QcmVzc091dChlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVMb25nUHJlc3M6IGZ1bmN0aW9uKGU6IEV2ZW50KSB7XG4gICAgdGhpcy5wcm9wcy5vbkxvbmdQcmVzcyAmJiB0aGlzLnByb3BzLm9uTG9uZ1ByZXNzKGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldFByZXNzUmVjdE9mZnNldDogZnVuY3Rpb24oKTogdHlwZW9mIFBSRVNTX1JFVEVOVElPTl9PRkZTRVQge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnByZXNzUmV0ZW50aW9uT2Zmc2V0IHx8IFBSRVNTX1JFVEVOVElPTl9PRkZTRVQ7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0SGl0U2xvcDogZnVuY3Rpb24oKTogP09iamVjdCB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaGl0U2xvcDtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TOiBmdW5jdGlvbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmRlbGF5UHJlc3NJbiB8fCAwO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVM6IGZ1bmN0aW9uKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuZGVsYXlMb25nUHJlc3MgPT09IDAgPyAwIDpcbiAgICAgIHRoaXMucHJvcHMuZGVsYXlMb25nUHJlc3MgfHwgNTAwO1xuICB9LFxuXG4gIHRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUzogZnVuY3Rpb24oKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kZWxheVByZXNzT3V0IHx8IDA7XG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpOiBSZWFjdC5FbGVtZW50PGFueT4ge1xuICAgIC8vIE5vdGUoYXZpayk6IHJlbW92ZSBkeW5hbWljIHR5cGVjYXN0IG9uY2UgRmxvdyBoYXMgYmVlbiB1cGdyYWRlZFxuICAgIC8vICRGbG93Rml4TWUoPj0wLjQxLjApXG4gICAgY29uc3QgY2hpbGQgPSBSZWFjdC5DaGlsZHJlbi5vbmx5KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgIGxldCBjaGlsZHJlbiA9IGNoaWxkLnByb3BzLmNoaWxkcmVuO1xuICAgIHdhcm5pbmcoXG4gICAgICAhY2hpbGQudHlwZSB8fCBjaGlsZC50eXBlLmRpc3BsYXlOYW1lICE9PSAnVGV4dCcsXG4gICAgICAnVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIGRvZXMgbm90IHdvcmsgd2VsbCB3aXRoIFRleHQgY2hpbGRyZW4uIFdyYXAgY2hpbGRyZW4gaW4gYSBWaWV3IGluc3RlYWQuIFNlZSAnICtcbiAgICAgICAgKChjaGlsZC5fb3duZXIgJiYgY2hpbGQuX293bmVyLmdldE5hbWUgJiYgY2hpbGQuX293bmVyLmdldE5hbWUoKSkgfHwgJzx1bmtub3duPicpXG4gICAgKTtcbiAgICBpZiAoVG91Y2hhYmxlLlRPVUNIX1RBUkdFVF9ERUJVRyAmJiBjaGlsZC50eXBlICYmIGNoaWxkLnR5cGUuZGlzcGxheU5hbWUgPT09ICdWaWV3Jykge1xuICAgICAgY2hpbGRyZW4gPSBSZWFjdC5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuKTtcbiAgICAgIGNoaWxkcmVuLnB1c2goVG91Y2hhYmxlLnJlbmRlckRlYnVnVmlldyh7Y29sb3I6ICdyZWQnLCBoaXRTbG9wOiB0aGlzLnByb3BzLmhpdFNsb3B9KSk7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gKFRvdWNoYWJsZS5UT1VDSF9UQVJHRVRfREVCVUcgJiYgY2hpbGQudHlwZSAmJiBjaGlsZC50eXBlLmRpc3BsYXlOYW1lID09PSAnVGV4dCcpID9cbiAgICAgIFtjaGlsZC5wcm9wcy5zdHlsZSwge2NvbG9yOiAncmVkJ31dIDpcbiAgICAgIGNoaWxkLnByb3BzLnN0eWxlO1xuICAgIHJldHVybiAoUmVhY3Q6IGFueSkuY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICBhY2Nlc3NpYmxlOiB0aGlzLnByb3BzLmFjY2Vzc2libGUgIT09IGZhbHNlLFxuICAgICAgLy8gJEZsb3dGaXhNZSg+PTAuNDEuMClcbiAgICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogdGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5TGFiZWwsXG4gICAgICBhY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZTogdGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZSxcbiAgICAgIGFjY2Vzc2liaWxpdHlUcmFpdHM6IHRoaXMucHJvcHMuYWNjZXNzaWJpbGl0eVRyYWl0cyxcbiAgICAgIC8vICRGbG93Rml4TWUoPj0wLjQxLjApXG4gICAgICBuYXRpdmVJRDogdGhpcy5wcm9wcy5uYXRpdmVJRCxcbiAgICAgIC8vICRGbG93Rml4TWUoPj0wLjQxLjApXG4gICAgICB0ZXN0SUQ6IHRoaXMucHJvcHMudGVzdElELFxuICAgICAgb25MYXlvdXQ6IHRoaXMucHJvcHMub25MYXlvdXQsXG4gICAgICBoaXRTbG9wOiB0aGlzLnByb3BzLmhpdFNsb3AsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiB0aGlzLnRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyLFxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q6IHRoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRpb25SZXF1ZXN0LFxuICAgICAgb25SZXNwb25kZXJHcmFudDogdGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJHcmFudCxcbiAgICAgIG9uUmVzcG9uZGVyTW92ZTogdGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJNb3ZlLFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLnRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclJlbGVhc2UsXG4gICAgICBvblJlc3BvbmRlclRlcm1pbmF0ZTogdGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGUsXG4gICAgICBzdHlsZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgIH0pO1xuICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBUb3VjaGFibGVXaXRob3V0RmVlZGJhY2s7XG4iXX0=