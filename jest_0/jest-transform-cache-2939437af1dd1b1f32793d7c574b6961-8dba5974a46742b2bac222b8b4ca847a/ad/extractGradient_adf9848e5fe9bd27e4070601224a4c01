b1d83a250175e136dda0b8b1a8031b22
Object.defineProperty(exports,"__esModule",{value:true});exports.default=









function(props){
if(!props.id){
return null;
}

var stops={};
_react.Children.forEach(props.children,function(child){
if(child.type===_Stop2.default){
if(child.props.stopColor&&child.props.offset){

var offset=(0,_percentToFloat2.default)(child.props.offset);


stops[offset]=(0,_color2.default)(child.props.stopColor).alpha((0,_extractOpacity2.default)(child.props.stopOpacity));
}
}else{
console.warn('`Gradient` elements only accept `Stop` elements as children');
}
});

var sorted=_lodash2.default.sortBy(_lodash2.default.map(stops,function(stop,offset){
return{stop:stop,offset:offset};
}),'offset');

var gradient=[];

sorted.forEach(function(_ref){var stop=_ref.stop;
var channels=stop.rgbaArray();
gradient.push(channels[0]/255);
gradient.push(channels[1]/255);
gradient.push(channels[2]/255);
gradient.push(channels[3]);
});

gradient.push.apply(gradient,_toConsumableArray(sorted.map(function(_ref2){var offset=_ref2.offset;return+offset;})));


var gradientTransform=void 0;
if(props.transform){
gradientTransform=(0,_extractTransform2.default)(props.transform);
}else{
gradientTransform=(0,_extractTransform2.default)(props);
}

return{
gradient:gradient,
name:props.id,
gradientTransform:gradientTransform,
gradientUnits:_PATTERN_UNITS2.default[props.gradientUnits]||0};

};var _react=require('react');var _lodash=require('lodash');var _lodash2=_interopRequireDefault(_lodash);var _color=require('color');var _color2=_interopRequireDefault(_color);var _extractOpacity=require('./extractOpacity');var _extractOpacity2=_interopRequireDefault(_extractOpacity);var _extractTransform=require('./extractTransform');var _extractTransform2=_interopRequireDefault(_extractTransform);var _PATTERN_UNITS=require('../PATTERN_UNITS');var _PATTERN_UNITS2=_interopRequireDefault(_PATTERN_UNITS);var _percentToFloat=require('../percentToFloat');var _percentToFloat2=_interopRequireDefault(_percentToFloat);var _Stop=require('../../elements/Stop');var _Stop2=_interopRequireDefault(_Stop);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4dHJhY3RHcmFkaWVudC5qcyJdLCJuYW1lcyI6WyJwcm9wcyIsImlkIiwic3RvcHMiLCJmb3JFYWNoIiwiY2hpbGRyZW4iLCJjaGlsZCIsInR5cGUiLCJzdG9wQ29sb3IiLCJvZmZzZXQiLCJhbHBoYSIsInN0b3BPcGFjaXR5IiwiY29uc29sZSIsIndhcm4iLCJzb3J0ZWQiLCJzb3J0QnkiLCJtYXAiLCJzdG9wIiwiZ3JhZGllbnQiLCJjaGFubmVscyIsInJnYmFBcnJheSIsInB1c2giLCJncmFkaWVudFRyYW5zZm9ybSIsInRyYW5zZm9ybSIsIm5hbWUiLCJncmFkaWVudFVuaXRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBVWUsU0FBU0EsS0FBVCxDQUFnQjtBQUMzQixHQUFJLENBQUNBLE1BQU1DLEVBQVgsQ0FBZTtBQUNYLE1BQU8sS0FBUDtBQUNIOztBQUVELEdBQU1DLE9BQVEsRUFBZDtBQUNBLGdCQUFTQyxPQUFULENBQWlCSCxNQUFNSSxRQUF2QixDQUFpQyxlQUFTO0FBQ3RDLEdBQUlDLE1BQU1DLElBQU4saUJBQUosQ0FBeUI7QUFDckIsR0FBSUQsTUFBTUwsS0FBTixDQUFZTyxTQUFaLEVBQXlCRixNQUFNTCxLQUFOLENBQVlRLE1BQXpDLENBQWlEOztBQUU3QyxHQUFJQSxRQUFTLDZCQUFlSCxNQUFNTCxLQUFOLENBQVlRLE1BQTNCLENBQWI7OztBQUdBTixNQUFNTSxNQUFOLEVBQWdCLG9CQUFNSCxNQUFNTCxLQUFOLENBQVlPLFNBQWxCLEVBQTZCRSxLQUE3QixDQUFtQyw2QkFBZUosTUFBTUwsS0FBTixDQUFZVSxXQUEzQixDQUFuQyxDQUFoQjtBQUNIO0FBQ0osQ0FSRCxJQVFPO0FBQ0hDLFFBQVFDLElBQVIsQ0FBYSw2REFBYjtBQUNIO0FBQ0osQ0FaRDs7QUFjQSxHQUFNQyxRQUFTLGlCQUFFQyxNQUFGLENBQVMsaUJBQUVDLEdBQUYsQ0FBTWIsS0FBTixDQUFhLFNBQUNjLElBQUQsQ0FBT1IsTUFBUCxDQUFrQjtBQUNuRCxNQUFPLENBQUNRLFNBQUQsQ0FBT1IsYUFBUCxDQUFQO0FBQ0gsQ0FGdUIsQ0FBVCxDQUVYLFFBRlcsQ0FBZjs7QUFJQSxHQUFNUyxVQUFXLEVBQWpCOztBQUVBSixPQUFPVixPQUFQLENBQWUsY0FBWSxJQUFWYSxLQUFVLE1BQVZBLElBQVU7QUFDdkIsR0FBSUUsVUFBV0YsS0FBS0csU0FBTCxFQUFmO0FBQ0FGLFNBQVNHLElBQVQsQ0FBY0YsU0FBUyxDQUFULEVBQWMsR0FBNUI7QUFDQUQsU0FBU0csSUFBVCxDQUFjRixTQUFTLENBQVQsRUFBYyxHQUE1QjtBQUNBRCxTQUFTRyxJQUFULENBQWNGLFNBQVMsQ0FBVCxFQUFjLEdBQTVCO0FBQ0FELFNBQVNHLElBQVQsQ0FBY0YsU0FBUyxDQUFULENBQWQ7QUFDSCxDQU5EOztBQVFBRCxTQUFTRyxJQUFULG1DQUFpQlAsT0FBT0UsR0FBUCxDQUFXLG1CQUFFUCxPQUFGLE9BQUVBLE1BQUYsT0FBYyxDQUFDQSxNQUFmLEVBQVgsQ0FBakI7OztBQUdBLEdBQUlhLHlCQUFKO0FBQ0EsR0FBSXJCLE1BQU1zQixTQUFWLENBQXFCO0FBQ2pCRCxrQkFBb0IsK0JBQWlCckIsTUFBTXNCLFNBQXZCLENBQXBCO0FBQ0gsQ0FGRCxJQUVPO0FBQ0hELGtCQUFvQiwrQkFBaUJyQixLQUFqQixDQUFwQjtBQUNIOztBQUVELE1BQU87QUFDSGlCLGlCQURHO0FBRUhNLEtBQU12QixNQUFNQyxFQUZUO0FBR0hvQixtQ0FIRztBQUlIRyxjQUFlLHdCQUFjeEIsTUFBTXdCLGFBQXBCLEdBQXNDLENBSmxELENBQVA7O0FBTUgsQyxDQTVERCw0QkFDQSw4Qiw2Q0FDQSw0QiwyQ0FFQSxnRCw2REFDQSxvRCxpRUFDQSwrQywyREFDQSxpRCw2REFDQSx5QyIsImZpbGUiOiJleHRyYWN0R3JhZGllbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NoaWxkcmVufSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IENvbG9yIGZyb20gJ2NvbG9yJztcblxuaW1wb3J0IGV4dHJhY3RPcGFjaXR5IGZyb20gJy4vZXh0cmFjdE9wYWNpdHknO1xuaW1wb3J0IGV4dHJhY3RUcmFuc2Zvcm0gZnJvbSAnLi9leHRyYWN0VHJhbnNmb3JtJztcbmltcG9ydCBQQVRURVJOX1VOSVRTIGZyb20gJy4uL1BBVFRFUk5fVU5JVFMnO1xuaW1wb3J0IHBlcmNlbnRUb0Zsb2F0IGZyb20gJy4uL3BlcmNlbnRUb0Zsb2F0JztcbmltcG9ydCBTdG9wIGZyb20gJy4uLy4uL2VsZW1lbnRzL1N0b3AnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwcm9wcykge1xuICAgIGlmICghcHJvcHMuaWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RvcHMgPSB7fTtcbiAgICBDaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCBjaGlsZCA9PiB7XG4gICAgICAgIGlmIChjaGlsZC50eXBlID09PSBTdG9wKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQucHJvcHMuc3RvcENvbG9yICYmIGNoaWxkLnByb3BzLm9mZnNldCkge1xuICAgICAgICAgICAgICAgIC8vIGNvbnZlcnQgcGVyY2VudCB0byBmbG9hdC5cbiAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gcGVyY2VudFRvRmxvYXQoY2hpbGQucHJvcHMub2Zmc2V0KTtcblxuICAgICAgICAgICAgICAgIC8vIGFkZCBzdG9wXG4gICAgICAgICAgICAgICAgc3RvcHNbb2Zmc2V0XSA9IENvbG9yKGNoaWxkLnByb3BzLnN0b3BDb2xvcikuYWxwaGEoZXh0cmFjdE9wYWNpdHkoY2hpbGQucHJvcHMuc3RvcE9wYWNpdHkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignYEdyYWRpZW50YCBlbGVtZW50cyBvbmx5IGFjY2VwdCBgU3RvcGAgZWxlbWVudHMgYXMgY2hpbGRyZW4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc29ydGVkID0gXy5zb3J0QnkoXy5tYXAoc3RvcHMsIChzdG9wLCBvZmZzZXQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtzdG9wLCBvZmZzZXR9O1xuICAgIH0pLCAnb2Zmc2V0Jyk7XG5cbiAgICBjb25zdCBncmFkaWVudCA9IFtdO1xuXG4gICAgc29ydGVkLmZvckVhY2goKHtzdG9wfSkgPT4ge1xuICAgICAgICBsZXQgY2hhbm5lbHMgPSBzdG9wLnJnYmFBcnJheSgpO1xuICAgICAgICBncmFkaWVudC5wdXNoKGNoYW5uZWxzWzBdIC8gMjU1KTtcbiAgICAgICAgZ3JhZGllbnQucHVzaChjaGFubmVsc1sxXSAvIDI1NSk7XG4gICAgICAgIGdyYWRpZW50LnB1c2goY2hhbm5lbHNbMl0gLyAyNTUpO1xuICAgICAgICBncmFkaWVudC5wdXNoKGNoYW5uZWxzWzNdKTtcbiAgICB9KTtcblxuICAgIGdyYWRpZW50LnB1c2goLi4uc29ydGVkLm1hcCgoe29mZnNldH0pID0+ICtvZmZzZXQpKTtcblxuXG4gICAgbGV0IGdyYWRpZW50VHJhbnNmb3JtO1xuICAgIGlmIChwcm9wcy50cmFuc2Zvcm0pIHtcbiAgICAgICAgZ3JhZGllbnRUcmFuc2Zvcm0gPSBleHRyYWN0VHJhbnNmb3JtKHByb3BzLnRyYW5zZm9ybSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZ3JhZGllbnRUcmFuc2Zvcm0gPSBleHRyYWN0VHJhbnNmb3JtKHByb3BzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBncmFkaWVudCxcbiAgICAgICAgbmFtZTogcHJvcHMuaWQsXG4gICAgICAgIGdyYWRpZW50VHJhbnNmb3JtLFxuICAgICAgICBncmFkaWVudFVuaXRzOiBQQVRURVJOX1VOSVRTW3Byb3BzLmdyYWRpZW50VW5pdHNdIHx8IDBcbiAgICB9O1xufVxuIl19