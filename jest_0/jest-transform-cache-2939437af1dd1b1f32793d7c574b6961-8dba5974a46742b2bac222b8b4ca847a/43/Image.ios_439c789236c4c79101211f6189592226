2f1a16fc89e641f8320a06128aa411dd











'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};

var EdgeInsetsPropType=require('EdgeInsetsPropType');
var ImageResizeMode=require('ImageResizeMode');
var ImageSourcePropType=require('ImageSourcePropType');
var ImageStylePropTypes=require('ImageStylePropTypes');
var NativeMethodsMixin=require('NativeMethodsMixin');
var NativeModules=require('NativeModules');
var React=require('React');
var PropTypes=require('prop-types');
var ReactNativeViewAttributes=require('ReactNativeViewAttributes');
var StyleSheet=require('StyleSheet');
var StyleSheetPropType=require('StyleSheetPropType');

var createReactClass=require('create-react-class');
var flattenStyle=require('flattenStyle');
var requireNativeComponent=require('requireNativeComponent');
var resolveAssetSource=require('resolveAssetSource');

var ImageViewManager=NativeModules.ImageViewManager;








































































































var Image=createReactClass({
displayName:'Image',
propTypes:{





style:StyleSheetPropType(ImageStylePropTypes),












source:ImageSourcePropType,














defaultSource:PropTypes.oneOfType([

PropTypes.shape({
uri:PropTypes.string,
width:PropTypes.number,
height:PropTypes.number,
scale:PropTypes.number}),

PropTypes.number]),





accessible:PropTypes.bool,





accessibilityLabel:PropTypes.node,



blurRadius:PropTypes.number,









capInsets:EdgeInsetsPropType,



















resizeMethod:PropTypes.oneOf(['auto','resize','scale']),


















resizeMode:PropTypes.oneOf(['cover','contain','stretch','repeat','center']),




testID:PropTypes.string,




onLayout:PropTypes.func,





onLoadStart:PropTypes.func,




onProgress:PropTypes.func,



onError:PropTypes.func,






onPartialLoad:PropTypes.func,



onLoad:PropTypes.func,



onLoadEnd:PropTypes.func},


statics:{
resizeMode:ImageResizeMode,























getSize:function getSize(
uri,
success,
failure)
{
ImageViewManager.getSize(uri,success,failure||function(){
console.warn('Failed to get size for image: '+uri);
});
},








prefetch:function prefetch(url){
return ImageViewManager.prefetchImage(url);
},





resolveAssetSource:resolveAssetSource},


mixins:[NativeMethodsMixin],





viewConfig:{
uiViewClassName:'UIView',
validAttributes:ReactNativeViewAttributes.UIView},


render:function render(){
var source=resolveAssetSource(this.props.source)||{uri:undefined,width:undefined,height:undefined};

var sources=void 0;
var style=void 0;
if(Array.isArray(source)){
style=flattenStyle([styles.base,this.props.style])||{};
sources=source;
}else{var
_width=source.width,_height=source.height,uri=source.uri;
style=flattenStyle([{width:_width,height:_height},styles.base,this.props.style])||{};
sources=[source];

if(uri===''){
console.warn('source.uri should not be an empty string');
}
}

var resizeMode=this.props.resizeMode||(style||{}).resizeMode||'cover';
var tintColor=(style||{}).tintColor;

if(this.props.src){
console.warn('The <Image> component requires a `source` property rather than `src`.');
}

return(
React.createElement(RCTImageView,_extends({},
this.props,{
style:style,
resizeMode:resizeMode,
tintColor:tintColor,
source:sources})));


}});


var styles=StyleSheet.create({
base:{
overflow:'hidden'}});



var RCTImageView=requireNativeComponent('RCTImageView',Image);

module.exports=Image;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkltYWdlLmlvcy5qcyJdLCJuYW1lcyI6WyJFZGdlSW5zZXRzUHJvcFR5cGUiLCJyZXF1aXJlIiwiSW1hZ2VSZXNpemVNb2RlIiwiSW1hZ2VTb3VyY2VQcm9wVHlwZSIsIkltYWdlU3R5bGVQcm9wVHlwZXMiLCJOYXRpdmVNZXRob2RzTWl4aW4iLCJOYXRpdmVNb2R1bGVzIiwiUmVhY3QiLCJQcm9wVHlwZXMiLCJSZWFjdE5hdGl2ZVZpZXdBdHRyaWJ1dGVzIiwiU3R5bGVTaGVldCIsIlN0eWxlU2hlZXRQcm9wVHlwZSIsImNyZWF0ZVJlYWN0Q2xhc3MiLCJmbGF0dGVuU3R5bGUiLCJyZXF1aXJlTmF0aXZlQ29tcG9uZW50IiwicmVzb2x2ZUFzc2V0U291cmNlIiwiSW1hZ2VWaWV3TWFuYWdlciIsIkltYWdlIiwiZGlzcGxheU5hbWUiLCJwcm9wVHlwZXMiLCJzdHlsZSIsInNvdXJjZSIsImRlZmF1bHRTb3VyY2UiLCJvbmVPZlR5cGUiLCJzaGFwZSIsInVyaSIsInN0cmluZyIsIndpZHRoIiwibnVtYmVyIiwiaGVpZ2h0Iiwic2NhbGUiLCJhY2Nlc3NpYmxlIiwiYm9vbCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIm5vZGUiLCJibHVyUmFkaXVzIiwiY2FwSW5zZXRzIiwicmVzaXplTWV0aG9kIiwib25lT2YiLCJyZXNpemVNb2RlIiwidGVzdElEIiwib25MYXlvdXQiLCJmdW5jIiwib25Mb2FkU3RhcnQiLCJvblByb2dyZXNzIiwib25FcnJvciIsIm9uUGFydGlhbExvYWQiLCJvbkxvYWQiLCJvbkxvYWRFbmQiLCJzdGF0aWNzIiwiZ2V0U2l6ZSIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiY29uc29sZSIsIndhcm4iLCJwcmVmZXRjaCIsInVybCIsInByZWZldGNoSW1hZ2UiLCJtaXhpbnMiLCJ2aWV3Q29uZmlnIiwidWlWaWV3Q2xhc3NOYW1lIiwidmFsaWRBdHRyaWJ1dGVzIiwiVUlWaWV3IiwicmVuZGVyIiwicHJvcHMiLCJ1bmRlZmluZWQiLCJzb3VyY2VzIiwiQXJyYXkiLCJpc0FycmF5Iiwic3R5bGVzIiwiYmFzZSIsInRpbnRDb2xvciIsInNyYyIsImNyZWF0ZSIsIm92ZXJmbG93IiwiUkNUSW1hZ2VWaWV3IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFXQSxhOztBQUVBLEdBQU1BLG9CQUFxQkMsUUFBUSxvQkFBUixDQUEzQjtBQUNBLEdBQU1DLGlCQUFrQkQsUUFBUSxpQkFBUixDQUF4QjtBQUNBLEdBQU1FLHFCQUFzQkYsUUFBUSxxQkFBUixDQUE1QjtBQUNBLEdBQU1HLHFCQUFzQkgsUUFBUSxxQkFBUixDQUE1QjtBQUNBLEdBQU1JLG9CQUFxQkosUUFBUSxvQkFBUixDQUEzQjtBQUNBLEdBQU1LLGVBQWdCTCxRQUFRLGVBQVIsQ0FBdEI7QUFDQSxHQUFNTSxPQUFRTixRQUFRLE9BQVIsQ0FBZDtBQUNBLEdBQU1PLFdBQVlQLFFBQVEsWUFBUixDQUFsQjtBQUNBLEdBQU1RLDJCQUE0QlIsUUFBUSwyQkFBUixDQUFsQztBQUNBLEdBQU1TLFlBQWFULFFBQVEsWUFBUixDQUFuQjtBQUNBLEdBQU1VLG9CQUFxQlYsUUFBUSxvQkFBUixDQUEzQjs7QUFFQSxHQUFNVyxrQkFBbUJYLFFBQVEsb0JBQVIsQ0FBekI7QUFDQSxHQUFNWSxjQUFlWixRQUFRLGNBQVIsQ0FBckI7QUFDQSxHQUFNYSx3QkFBeUJiLFFBQVEsd0JBQVIsQ0FBL0I7QUFDQSxHQUFNYyxvQkFBcUJkLFFBQVEsb0JBQVIsQ0FBM0I7O0FBRUEsR0FBTWUsa0JBQW1CVixjQUFjVSxnQkFBdkM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXlHQSxHQUFNQyxPQUFRTCxpQkFBaUI7QUFDN0JNLFlBQWEsT0FEZ0I7QUFFN0JDLFVBQVc7Ozs7OztBQU1UQyxNQUFPVCxtQkFBbUJQLG1CQUFuQixDQU5FOzs7Ozs7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QUQsQ0FBUUUsY0FBUixDQUFELENBQWtCd0MsT0FBT0MsSUFBekIsQ0FBK0IsS0FBS04sS0FBTCxDQUFXNUMsS0FBMUMsQ0FBYixHQUFrRSxFQUExRTtBQUNBOEMsUUFBVSxDQUFDN0MsTUFBRCxDQUFWOztBQUVBLEdBQUlJLE1BQVEsRUFBWixDQUFnQjtBQUNkNEIsUUFBUUMsSUFBUixDQUFhLDBDQUFiO0FBQ0Q7QUFDRjs7QUFFRCxHQUFNZixZQUFhLEtBQUt5QixLQUFMLENBQVd6QixVQUFYLEVBQXlCLENBQUNuQixPQUFTLEVBQVYsRUFBY21CLFVBQXZDLEVBQXFELE9BQXhFO0FBQ0EsR0FBTWdDLFdBQVksQ0FBQ25ELE9BQVMsRUFBVixFQUFjbUQsU0FBaEM7O0FBRUEsR0FBSSxLQUFLUCxLQUFMLENBQVdRLEdBQWYsQ0FBb0I7QUFDbEJuQixRQUFRQyxJQUFSLENBQWEsdUVBQWI7QUFDRDs7QUFFRDtBQUNFLG9CQUFDLFlBQUQ7QUFDTSxLQUFLVSxLQURYO0FBRUUsTUFBTzVDLEtBRlQ7QUFHRSxXQUFZbUIsVUFIZDtBQUlFLFVBQVdnQyxTQUpiO0FBS0UsT0FBUUwsT0FMVixHQURGOzs7QUFTRCxDQTFQNEIsQ0FBakIsQ0FBZDs7O0FBNlBBLEdBQU1HLFFBQVMzRCxXQUFXK0QsTUFBWCxDQUFrQjtBQUMvQkgsS0FBTTtBQUNKSSxTQUFVLFFBRE4sQ0FEeUIsQ0FBbEIsQ0FBZjs7OztBQU1BLEdBQU1DLGNBQWU3RCx1QkFBdUIsY0FBdkIsQ0FBdUNHLEtBQXZDLENBQXJCOztBQUVBMkQsT0FBT0MsT0FBUCxDQUFpQjVELEtBQWpCIiwiZmlsZSI6IkltYWdlLmlvcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgSW1hZ2VcbiAqIEBmbG93XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgRWRnZUluc2V0c1Byb3BUeXBlID0gcmVxdWlyZSgnRWRnZUluc2V0c1Byb3BUeXBlJyk7XG5jb25zdCBJbWFnZVJlc2l6ZU1vZGUgPSByZXF1aXJlKCdJbWFnZVJlc2l6ZU1vZGUnKTtcbmNvbnN0IEltYWdlU291cmNlUHJvcFR5cGUgPSByZXF1aXJlKCdJbWFnZVNvdXJjZVByb3BUeXBlJyk7XG5jb25zdCBJbWFnZVN0eWxlUHJvcFR5cGVzID0gcmVxdWlyZSgnSW1hZ2VTdHlsZVByb3BUeXBlcycpO1xuY29uc3QgTmF0aXZlTWV0aG9kc01peGluID0gcmVxdWlyZSgnTmF0aXZlTWV0aG9kc01peGluJyk7XG5jb25zdCBOYXRpdmVNb2R1bGVzID0gcmVxdWlyZSgnTmF0aXZlTW9kdWxlcycpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdSZWFjdCcpO1xuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuY29uc3QgUmVhY3ROYXRpdmVWaWV3QXR0cmlidXRlcyA9IHJlcXVpcmUoJ1JlYWN0TmF0aXZlVmlld0F0dHJpYnV0ZXMnKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCdTdHlsZVNoZWV0Jyk7XG5jb25zdCBTdHlsZVNoZWV0UHJvcFR5cGUgPSByZXF1aXJlKCdTdHlsZVNoZWV0UHJvcFR5cGUnKTtcblxuY29uc3QgY3JlYXRlUmVhY3RDbGFzcyA9IHJlcXVpcmUoJ2NyZWF0ZS1yZWFjdC1jbGFzcycpO1xuY29uc3QgZmxhdHRlblN0eWxlID0gcmVxdWlyZSgnZmxhdHRlblN0eWxlJyk7XG5jb25zdCByZXF1aXJlTmF0aXZlQ29tcG9uZW50ID0gcmVxdWlyZSgncmVxdWlyZU5hdGl2ZUNvbXBvbmVudCcpO1xuY29uc3QgcmVzb2x2ZUFzc2V0U291cmNlID0gcmVxdWlyZSgncmVzb2x2ZUFzc2V0U291cmNlJyk7XG5cbmNvbnN0IEltYWdlVmlld01hbmFnZXIgPSBOYXRpdmVNb2R1bGVzLkltYWdlVmlld01hbmFnZXI7XG5cbi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgZm9yIGRpc3BsYXlpbmcgZGlmZmVyZW50IHR5cGVzIG9mIGltYWdlcyxcbiAqIGluY2x1ZGluZyBuZXR3b3JrIGltYWdlcywgc3RhdGljIHJlc291cmNlcywgdGVtcG9yYXJ5IGxvY2FsIGltYWdlcywgYW5kXG4gKiBpbWFnZXMgZnJvbSBsb2NhbCBkaXNrLCBzdWNoIGFzIHRoZSBjYW1lcmEgcm9sbC5cbiAqXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgZmV0Y2hpbmcgYW5kIGRpc3BsYXlpbmcgYW4gaW1hZ2UgZnJvbSBsb2NhbCBzdG9yYWdlXG4gKiBhcyB3ZWxsIGFzIG9uZSBmcm9tIG5ldHdvcmsgYW5kIGV2ZW4gZnJvbSBkYXRhIHByb3ZpZGVkIGluIHRoZSBgJ2RhdGE6J2AgdXJpIHNjaGVtZS5cbiAqXG4gKiA+IE5vdGUgdGhhdCBmb3IgbmV0d29yayBhbmQgZGF0YSBpbWFnZXMsIHlvdSB3aWxsIG5lZWQgdG8gbWFudWFsbHkgc3BlY2lmeSB0aGUgZGltZW5zaW9ucyBvZiB5b3VyIGltYWdlIVxuICpcbiAqIGBgYFJlYWN0TmF0aXZlV2ViUGxheWVyXG4gKiBpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuICogaW1wb3J0IHsgQXBwUmVnaXN0cnksIFZpZXcsIEltYWdlIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbiAqXG4gKiBleHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGF5QW5JbWFnZSBleHRlbmRzIENvbXBvbmVudCB7XG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgPFZpZXc+XG4gKiAgICAgICAgIDxJbWFnZVxuICogICAgICAgICAgIHNvdXJjZT17cmVxdWlyZSgnLi9pbWcvZmF2aWNvbi5wbmcnKX1cbiAqICAgICAgICAgLz5cbiAqICAgICAgICAgPEltYWdlXG4gKiAgICAgICAgICAgc3R5bGU9e3t3aWR0aDogNTAsIGhlaWdodDogNTB9fVxuICogICAgICAgICAgIHNvdXJjZT17e3VyaTogJ2h0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2ltZy9sb2dvX29nLnBuZyd9fVxuICogICAgICAgICAvPlxuICogICAgICAgICA8SW1hZ2VcbiAqICAgICAgICAgICBzdHlsZT17e3dpZHRoOiA2NiwgaGVpZ2h0OiA1OH19XG4gKiAgICAgICAgICAgc291cmNlPXt7dXJpOiAnZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFETUFBQUF6Q0FZQUFBQTZvVEFxQUFBQUVYUkZXSFJUYjJaMGQyRnlaUUJ3Ym1kamNuVnphRUIxU2ZNQUFBQlFTVVJCVkdqZTdkU3hDUUJBQ0FSQisyL2FiOEJFZVFOaEZpNldTWXpZTFl1ZERRWUdCZ1lHQmdZR0JnWUdCZ1lHQmdabWN2RHFZR0JnbWhpdkdRWUdCZ1lHQmdZR0JnWUdCZ1lHQmdibVF3K1AvZU1yQzVVVFZBQUFBQUJKUlU1RXJrSmdnZz09J319XG4gKiAgICAgICAgIC8+XG4gKiAgICAgICA8L1ZpZXc+XG4gKiAgICAgKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIHNraXAgdGhpcyBsaW5lIGlmIHVzaW5nIENyZWF0ZSBSZWFjdCBOYXRpdmUgQXBwXG4gKiBBcHBSZWdpc3RyeS5yZWdpc3RlckNvbXBvbmVudCgnRGlzcGxheUFuSW1hZ2UnLCAoKSA9PiBEaXNwbGF5QW5JbWFnZSk7XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gYWRkIGBzdHlsZWAgdG8gYW4gaW1hZ2U6XG4gKlxuICogYGBgUmVhY3ROYXRpdmVXZWJQbGF5ZXJcbiAqIGltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG4gKiBpbXBvcnQgeyBBcHBSZWdpc3RyeSwgVmlldywgSW1hZ2UsIFN0eWxlU2hlZXQgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuICpcbiAqIGNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAqICAgc3RyZXRjaDoge1xuICogICAgIHdpZHRoOiA1MCxcbiAqICAgICBoZWlnaHQ6IDIwMFxuICogICB9XG4gKiB9KTtcbiAqXG4gKiBleHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGF5QW5JbWFnZVdpdGhTdHlsZSBleHRlbmRzIENvbXBvbmVudCB7XG4gKiAgIHJlbmRlcigpIHtcbiAqICAgICByZXR1cm4gKFxuICogICAgICAgPFZpZXc+XG4gKiAgICAgICAgIDxJbWFnZVxuICogICAgICAgICAgIHN0eWxlPXtzdHlsZXMuc3RyZXRjaH1cbiAqICAgICAgICAgICBzb3VyY2U9e3JlcXVpcmUoJy4vaW1nL2Zhdmljb24ucG5nJyl9XG4gKiAgICAgICAgIC8+XG4gKiAgICAgICA8L1ZpZXc+XG4gKiAgICAgKTtcbiAqICAgfVxuICogfVxuICpcbiAqIC8vIHNraXAgdGhlc2UgbGluZXMgaWYgdXNpbmcgQ3JlYXRlIFJlYWN0IE5hdGl2ZSBBcHBcbiAqIEFwcFJlZ2lzdHJ5LnJlZ2lzdGVyQ29tcG9uZW50KFxuICogICAnRGlzcGxheUFuSW1hZ2VXaXRoU3R5bGUnLFxuICogICAoKSA9PiBEaXNwbGF5QW5JbWFnZVdpdGhTdHlsZVxuICogKTtcbiAqIGBgYFxuICpcbiAqICMjIyBHSUYgYW5kIFdlYlAgc3VwcG9ydCBvbiBBbmRyb2lkXG4gKlxuICogV2hlbiBidWlsZGluZyB5b3VyIG93biBuYXRpdmUgY29kZSwgR0lGIGFuZCBXZWJQIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IGRlZmF1bHQgb24gQW5kcm9pZC5cbiAqXG4gKiBZb3Ugd2lsbCBuZWVkIHRvIGFkZCBzb21lIG9wdGlvbmFsIG1vZHVsZXMgaW4gYGFuZHJvaWQvYXBwL2J1aWxkLmdyYWRsZWAsIGRlcGVuZGluZyBvbiB0aGUgbmVlZHMgb2YgeW91ciBhcHAuXG4gKlxuICogYGBgXG4gKiBkZXBlbmRlbmNpZXMge1xuICogICAvLyBJZiB5b3VyIGFwcCBzdXBwb3J0cyBBbmRyb2lkIHZlcnNpb25zIGJlZm9yZSBJY2UgQ3JlYW0gU2FuZHdpY2ggKEFQSSBsZXZlbCAxNClcbiAqICAgY29tcGlsZSAnY29tLmZhY2Vib29rLmZyZXNjbzphbmltYXRlZC1iYXNlLXN1cHBvcnQ6MS4zLjAnXG4gKlxuICogICAvLyBGb3IgYW5pbWF0ZWQgR0lGIHN1cHBvcnRcbiAqICAgY29tcGlsZSAnY29tLmZhY2Vib29rLmZyZXNjbzphbmltYXRlZC1naWY6MS4zLjAnXG4gKlxuICogICAvLyBGb3IgV2ViUCBzdXBwb3J0LCBpbmNsdWRpbmcgYW5pbWF0ZWQgV2ViUFxuICogICBjb21waWxlICdjb20uZmFjZWJvb2suZnJlc2NvOmFuaW1hdGVkLXdlYnA6MS4zLjAnXG4gKiAgIGNvbXBpbGUgJ2NvbS5mYWNlYm9vay5mcmVzY286d2VicHN1cHBvcnQ6MS4zLjAnXG4gKlxuICogICAvLyBGb3IgV2ViUCBzdXBwb3J0LCB3aXRob3V0IGFuaW1hdGlvbnNcbiAqICAgY29tcGlsZSAnY29tLmZhY2Vib29rLmZyZXNjbzp3ZWJwc3VwcG9ydDoxLjMuMCdcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEFsc28sIGlmIHlvdSB1c2UgR0lGIHdpdGggUHJvR3VhcmQsIHlvdSB3aWxsIG5lZWQgdG8gYWRkIHRoaXMgcnVsZSBpbiBgcHJvZ3VhcmQtcnVsZXMucHJvYCA6XG4gKiBgYGBcbiAqIC1rZWVwIGNsYXNzIGNvbS5mYWNlYm9vay5pbWFnZXBpcGVsaW5lLmFuaW1hdGVkLmZhY3RvcnkuQW5pbWF0ZWRGYWN0b3J5SW1wbCB7XG4gKiAgIHB1YmxpYyBBbmltYXRlZEZhY3RvcnlJbXBsKGNvbS5mYWNlYm9vay5pbWFnZXBpcGVsaW5lLmJpdG1hcHMuUGxhdGZvcm1CaXRtYXBGYWN0b3J5LCBjb20uZmFjZWJvb2suaW1hZ2VwaXBlbGluZS5jb3JlLkV4ZWN1dG9yU3VwcGxpZXIpO1xuICogfVxuICogYGBgXG4gKlxuICovXG4vLyAkRmxvd0ZpeE1lKD49MC40MS4wKVxuY29uc3QgSW1hZ2UgPSBjcmVhdGVSZWFjdENsYXNzKHtcbiAgZGlzcGxheU5hbWU6ICdJbWFnZScsXG4gIHByb3BUeXBlczoge1xuICAgIC8qKlxuICAgICAqID4gYEltYWdlUmVzaXplTW9kZWAgaXMgYW4gYEVudW1gIGZvciBkaWZmZXJlbnQgaW1hZ2UgcmVzaXppbmcgbW9kZXMsIHNldCB2aWEgdGhlXG4gICAgICogPiBgcmVzaXplTW9kZWAgc3R5bGUgcHJvcGVydHkgb24gYEltYWdlYCBjb21wb25lbnRzLiBUaGUgdmFsdWVzIGFyZSBgY29udGFpbmAsIGBjb3ZlcmAsXG4gICAgICogPiBgc3RyZXRjaGAsIGBjZW50ZXJgLCBgcmVwZWF0YC5cbiAgICAgKi9cbiAgICBzdHlsZTogU3R5bGVTaGVldFByb3BUeXBlKEltYWdlU3R5bGVQcm9wVHlwZXMpLFxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSBzb3VyY2UgKGVpdGhlciBhIHJlbW90ZSBVUkwgb3IgYSBsb2NhbCBmaWxlIHJlc291cmNlKS5cbiAgICAgKlxuICAgICAqIFRoaXMgcHJvcCBjYW4gYWxzbyBjb250YWluIHNldmVyYWwgcmVtb3RlIFVSTHMsIHNwZWNpZmllZCB0b2dldGhlciB3aXRoXG4gICAgICogdGhlaXIgd2lkdGggYW5kIGhlaWdodCBhbmQgcG90ZW50aWFsbHkgd2l0aCBzY2FsZS9vdGhlciBVUkkgYXJndW1lbnRzLlxuICAgICAqIFRoZSBuYXRpdmUgc2lkZSB3aWxsIHRoZW4gY2hvb3NlIHRoZSBiZXN0IGB1cmlgIHRvIGRpc3BsYXkgYmFzZWQgb24gdGhlXG4gICAgICogbWVhc3VyZWQgc2l6ZSBvZiB0aGUgaW1hZ2UgY29udGFpbmVyLiBBIGBjYWNoZWAgcHJvcGVydHkgY2FuIGJlIGFkZGVkIHRvXG4gICAgICogY29udHJvbCBob3cgbmV0d29ya2VkIHJlcXVlc3QgaW50ZXJhY3RzIHdpdGggdGhlIGxvY2FsIGNhY2hlLlxuICAgICAqXG4gICAgICogVGhlIGN1cnJlbnRseSBzdXBwb3J0ZWQgZm9ybWF0cyBhcmUgYHBuZ2AsIGBqcGdgLCBganBlZ2AsIGBibXBgLCBgZ2lmYCxcbiAgICAgKiBgd2VicGAgKEFuZHJvaWQgb25seSksIGBwc2RgIChpT1Mgb25seSkuXG4gICAgICovXG4gICAgc291cmNlOiBJbWFnZVNvdXJjZVByb3BUeXBlLFxuICAgIC8qKlxuICAgICAqIEEgc3RhdGljIGltYWdlIHRvIGRpc3BsYXkgd2hpbGUgbG9hZGluZyB0aGUgaW1hZ2Ugc291cmNlLlxuICAgICAqXG4gICAgICogLSBgdXJpYCAtIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcmVzb3VyY2UgaWRlbnRpZmllciBmb3IgdGhlIGltYWdlLCB3aGljaFxuICAgICAqIHNob3VsZCBiZSBlaXRoZXIgYSBsb2NhbCBmaWxlIHBhdGggb3IgdGhlIG5hbWUgb2YgYSBzdGF0aWMgaW1hZ2UgcmVzb3VyY2VcbiAgICAgKiAod2hpY2ggc2hvdWxkIGJlIHdyYXBwZWQgaW4gdGhlIGByZXF1aXJlKCcuL3BhdGgvdG8vaW1hZ2UucG5nJylgIGZ1bmN0aW9uKS5cbiAgICAgKiAtIGB3aWR0aGAsIGBoZWlnaHRgIC0gY2FuIGJlIHNwZWNpZmllZCBpZiBrbm93biBhdCBidWlsZCB0aW1lLCBpbiB3aGljaCBjYXNlXG4gICAgICogdGhlc2Ugd2lsbCBiZSB1c2VkIHRvIHNldCB0aGUgZGVmYXVsdCBgPEltYWdlLz5gIGNvbXBvbmVudCBkaW1lbnNpb25zLlxuICAgICAqIC0gYHNjYWxlYCAtIHVzZWQgdG8gaW5kaWNhdGUgdGhlIHNjYWxlIGZhY3RvciBvZiB0aGUgaW1hZ2UuIERlZmF1bHRzIHRvIDEuMCBpZlxuICAgICAqIHVuc3BlY2lmaWVkLCBtZWFuaW5nIHRoYXQgb25lIGltYWdlIHBpeGVsIGVxdWF0ZXMgdG8gb25lIGRpc3BsYXkgcG9pbnQgLyBESVAuXG4gICAgICogLSBgbnVtYmVyYCAtIE9wYXF1ZSB0eXBlIHJldHVybmVkIGJ5IHNvbWV0aGluZyBsaWtlIGByZXF1aXJlKCcuL2ltYWdlLmpwZycpYC5cbiAgICAgKlxuICAgICAqIEBwbGF0Zm9ybSBpb3NcbiAgICAgKi9cbiAgICBkZWZhdWx0U291cmNlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIC8vIFRPRE86IFRvb2xpbmcgdG8gc3VwcG9ydCBkb2N1bWVudGluZyB0aGVzZSBkaXJlY3RseSBhbmQgaGF2aW5nIHRoZW0gZGlzcGxheSBpbiB0aGUgZG9jcy5cbiAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIHVyaTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIGhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgICAgICAgc2NhbGU6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICB9KSxcbiAgICAgIFByb3BUeXBlcy5udW1iZXIsXG4gICAgXSksXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBpbmRpY2F0ZXMgdGhlIGltYWdlIGlzIGFuIGFjY2Vzc2liaWxpdHkgZWxlbWVudC5cbiAgICAgKiBAcGxhdGZvcm0gaW9zXG4gICAgICovXG4gICAgYWNjZXNzaWJsZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgLyoqXG4gICAgICogVGhlIHRleHQgdGhhdCdzIHJlYWQgYnkgdGhlIHNjcmVlbiByZWFkZXIgd2hlbiB0aGUgdXNlciBpbnRlcmFjdHMgd2l0aFxuICAgICAqIHRoZSBpbWFnZS5cbiAgICAgKiBAcGxhdGZvcm0gaW9zXG4gICAgICovXG4gICAgYWNjZXNzaWJpbGl0eUxhYmVsOiBQcm9wVHlwZXMubm9kZSxcbiAgICAvKipcbiAgICAqIGJsdXJSYWRpdXM6IHRoZSBibHVyIHJhZGl1cyBvZiB0aGUgYmx1ciBmaWx0ZXIgYWRkZWQgdG8gdGhlIGltYWdlXG4gICAgKi9cbiAgICBibHVyUmFkaXVzOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGltYWdlIGlzIHJlc2l6ZWQsIHRoZSBjb3JuZXJzIG9mIHRoZSBzaXplIHNwZWNpZmllZFxuICAgICAqIGJ5IGBjYXBJbnNldHNgIHdpbGwgc3RheSBhIGZpeGVkIHNpemUsIGJ1dCB0aGUgY2VudGVyIGNvbnRlbnQgYW5kIGJvcmRlcnNcbiAgICAgKiBvZiB0aGUgaW1hZ2Ugd2lsbCBiZSBzdHJldGNoZWQuICBUaGlzIGlzIHVzZWZ1bCBmb3IgY3JlYXRpbmcgcmVzaXphYmxlXG4gICAgICogcm91bmRlZCBidXR0b25zLCBzaGFkb3dzLCBhbmQgb3RoZXIgcmVzaXphYmxlIGFzc2V0cy4gIE1vcmUgaW5mbyBpbiB0aGVcbiAgICAgKiBbb2ZmaWNpYWwgQXBwbGUgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvaW9zL2RvY3VtZW50YXRpb24vVUlLaXQvUmVmZXJlbmNlL1VJSW1hZ2VfQ2xhc3MvaW5kZXguaHRtbCMvL2FwcGxlX3JlZi9vY2MvaW5zdG0vVUlJbWFnZS9yZXNpemFibGVJbWFnZVdpdGhDYXBJbnNldHMpLlxuICAgICAqXG4gICAgICogQHBsYXRmb3JtIGlvc1xuICAgICAqL1xuICAgIGNhcEluc2V0czogRWRnZUluc2V0c1Byb3BUeXBlLFxuICAgIC8qKlxuICAgICAqIFRoZSBtZWNoYW5pc20gdGhhdCBzaG91bGQgYmUgdXNlZCB0byByZXNpemUgdGhlIGltYWdlIHdoZW4gdGhlIGltYWdlJ3MgZGltZW5zaW9uc1xuICAgICAqIGRpZmZlciBmcm9tIHRoZSBpbWFnZSB2aWV3J3MgZGltZW5zaW9ucy4gRGVmYXVsdHMgdG8gYGF1dG9gLlxuICAgICAqXG4gICAgICogLSBgYXV0b2A6IFVzZSBoZXVyaXN0aWNzIHRvIHBpY2sgYmV0d2VlbiBgcmVzaXplYCBhbmQgYHNjYWxlYC5cbiAgICAgKlxuICAgICAqIC0gYHJlc2l6ZWA6IEEgc29mdHdhcmUgb3BlcmF0aW9uIHdoaWNoIGNoYW5nZXMgdGhlIGVuY29kZWQgaW1hZ2UgaW4gbWVtb3J5IGJlZm9yZSBpdFxuICAgICAqIGdldHMgZGVjb2RlZC4gVGhpcyBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIGBzY2FsZWAgd2hlbiB0aGUgaW1hZ2UgaXMgbXVjaCBsYXJnZXJcbiAgICAgKiB0aGFuIHRoZSB2aWV3LlxuICAgICAqXG4gICAgICogLSBgc2NhbGVgOiBUaGUgaW1hZ2UgZ2V0cyBkcmF3biBkb3duc2NhbGVkIG9yIHVwc2NhbGVkLiBDb21wYXJlZCB0byBgcmVzaXplYCwgYHNjYWxlYCBpc1xuICAgICAqIGZhc3RlciAodXN1YWxseSBoYXJkd2FyZSBhY2NlbGVyYXRlZCkgYW5kIHByb2R1Y2VzIGhpZ2hlciBxdWFsaXR5IGltYWdlcy4gVGhpc1xuICAgICAqIHNob3VsZCBiZSB1c2VkIGlmIHRoZSBpbWFnZSBpcyBzbWFsbGVyIHRoYW4gdGhlIHZpZXcuIEl0IHNob3VsZCBhbHNvIGJlIHVzZWQgaWYgdGhlXG4gICAgICogaW1hZ2UgaXMgc2xpZ2h0bHkgYmlnZ2VyIHRoYW4gdGhlIHZpZXcuXG4gICAgICpcbiAgICAgKiBNb3JlIGRldGFpbHMgYWJvdXQgYHJlc2l6ZWAgYW5kIGBzY2FsZWAgY2FuIGJlIGZvdW5kIGF0IGh0dHA6Ly9mcmVzY29saWIub3JnL2RvY3MvcmVzaXppbmctcm90YXRpbmcuaHRtbC5cbiAgICAgKlxuICAgICAqIEBwbGF0Zm9ybSBhbmRyb2lkXG4gICAgICovXG4gICAgcmVzaXplTWV0aG9kOiBQcm9wVHlwZXMub25lT2YoWydhdXRvJywgJ3Jlc2l6ZScsICdzY2FsZSddKSxcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGhvdyB0byByZXNpemUgdGhlIGltYWdlIHdoZW4gdGhlIGZyYW1lIGRvZXNuJ3QgbWF0Y2ggdGhlIHJhd1xuICAgICAqIGltYWdlIGRpbWVuc2lvbnMuXG4gICAgICpcbiAgICAgKiAtIGBjb3ZlcmA6IFNjYWxlIHRoZSBpbWFnZSB1bmlmb3JtbHkgKG1haW50YWluIHRoZSBpbWFnZSdzIGFzcGVjdCByYXRpbylcbiAgICAgKiBzbyB0aGF0IGJvdGggZGltZW5zaW9ucyAod2lkdGggYW5kIGhlaWdodCkgb2YgdGhlIGltYWdlIHdpbGwgYmUgZXF1YWxcbiAgICAgKiB0byBvciBsYXJnZXIgdGhhbiB0aGUgY29ycmVzcG9uZGluZyBkaW1lbnNpb24gb2YgdGhlIHZpZXcgKG1pbnVzIHBhZGRpbmcpLlxuICAgICAqXG4gICAgICogLSBgY29udGFpbmA6IFNjYWxlIHRoZSBpbWFnZSB1bmlmb3JtbHkgKG1haW50YWluIHRoZSBpbWFnZSdzIGFzcGVjdCByYXRpbylcbiAgICAgKiBzbyB0aGF0IGJvdGggZGltZW5zaW9ucyAod2lkdGggYW5kIGhlaWdodCkgb2YgdGhlIGltYWdlIHdpbGwgYmUgZXF1YWwgdG9cbiAgICAgKiBvciBsZXNzIHRoYW4gdGhlIGNvcnJlc3BvbmRpbmcgZGltZW5zaW9uIG9mIHRoZSB2aWV3IChtaW51cyBwYWRkaW5nKS5cbiAgICAgKlxuICAgICAqIC0gYHN0cmV0Y2hgOiBTY2FsZSB3aWR0aCBhbmQgaGVpZ2h0IGluZGVwZW5kZW50bHksIFRoaXMgbWF5IGNoYW5nZSB0aGVcbiAgICAgKiBhc3BlY3QgcmF0aW8gb2YgdGhlIHNyYy5cbiAgICAgKlxuICAgICAqIC0gYHJlcGVhdGA6IFJlcGVhdCB0aGUgaW1hZ2UgdG8gY292ZXIgdGhlIGZyYW1lIG9mIHRoZSB2aWV3LiBUaGVcbiAgICAgKiBpbWFnZSB3aWxsIGtlZXAgaXQncyBzaXplIGFuZCBhc3BlY3QgcmF0aW8uIChpT1Mgb25seSlcbiAgICAgKi9cbiAgICByZXNpemVNb2RlOiBQcm9wVHlwZXMub25lT2YoWydjb3ZlcicsICdjb250YWluJywgJ3N0cmV0Y2gnLCAncmVwZWF0JywgJ2NlbnRlciddKSxcbiAgICAvKipcbiAgICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGVsZW1lbnQgdG8gYmUgdXNlZCBpbiBVSSBBdXRvbWF0aW9uXG4gICAgICogdGVzdGluZyBzY3JpcHRzLlxuICAgICAqL1xuICAgIHRlc3RJRDogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIG1vdW50IGFuZCBsYXlvdXQgY2hhbmdlcyB3aXRoXG4gICAgICogYHtuYXRpdmVFdmVudDoge2xheW91dDoge3gsIHksIHdpZHRoLCBoZWlnaHR9fX1gLlxuICAgICAqL1xuICAgIG9uTGF5b3V0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIGxvYWQgc3RhcnQuXG4gICAgICpcbiAgICAgKiBlLmcuLCBgb25Mb2FkU3RhcnQ9eyhlKSA9PiB0aGlzLnNldFN0YXRlKHtsb2FkaW5nOiB0cnVlfSl9YFxuICAgICAqL1xuICAgIG9uTG9hZFN0YXJ0OiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIGRvd25sb2FkIHByb2dyZXNzIHdpdGggYHtuYXRpdmVFdmVudDoge2xvYWRlZCwgdG90YWx9fWAuXG4gICAgICogQHBsYXRmb3JtIGlvc1xuICAgICAqL1xuICAgIG9uUHJvZ3Jlc3M6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb24gbG9hZCBlcnJvciB3aXRoIGB7bmF0aXZlRXZlbnQ6IHtlcnJvcn19YC5cbiAgICAgKi9cbiAgICBvbkVycm9yOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYSBwYXJ0aWFsIGxvYWQgb2YgdGhlIGltYWdlIGlzIGNvbXBsZXRlLiBUaGUgZGVmaW5pdGlvbiBvZlxuICAgICAqIHdoYXQgY29uc3RpdHV0ZXMgYSBcInBhcnRpYWwgbG9hZFwiIGlzIGxvYWRlciBzcGVjaWZpYyB0aG91Z2ggdGhpcyBpcyBtZWFudFxuICAgICAqIGZvciBwcm9ncmVzc2l2ZSBKUEVHIGxvYWRzLlxuICAgICAqIEBwbGF0Zm9ybSBpb3NcbiAgICAgKi9cbiAgICBvblBhcnRpYWxMb2FkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gbG9hZCBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5LlxuICAgICAqL1xuICAgIG9uTG9hZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIGxvYWQgZWl0aGVyIHN1Y2NlZWRzIG9yIGZhaWxzLlxuICAgICAqL1xuICAgIG9uTG9hZEVuZDogUHJvcFR5cGVzLmZ1bmMsXG4gIH0sXG5cbiAgc3RhdGljczoge1xuICAgIHJlc2l6ZU1vZGU6IEltYWdlUmVzaXplTW9kZSxcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgd2lkdGggYW5kIGhlaWdodCAoaW4gcGl4ZWxzKSBvZiBhbiBpbWFnZSBwcmlvciB0byBkaXNwbGF5aW5nIGl0LlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBmYWlsIGlmIHRoZSBpbWFnZSBjYW5ub3QgYmUgZm91bmQsIG9yIGZhaWxzIHRvIGRvd25sb2FkLlxuICAgICAqXG4gICAgICogSW4gb3JkZXIgdG8gcmV0cmlldmUgdGhlIGltYWdlIGRpbWVuc2lvbnMsIHRoZSBpbWFnZSBtYXkgZmlyc3QgbmVlZCB0byBiZVxuICAgICAqIGxvYWRlZCBvciBkb3dubG9hZGVkLCBhZnRlciB3aGljaCBpdCB3aWxsIGJlIGNhY2hlZC4gVGhpcyBtZWFucyB0aGF0IGluXG4gICAgICogcHJpbmNpcGxlIHlvdSBjb3VsZCB1c2UgdGhpcyBtZXRob2QgdG8gcHJlbG9hZCBpbWFnZXMsIGhvd2V2ZXIgaXQgaXMgbm90XG4gICAgICogb3B0aW1pemVkIGZvciB0aGF0IHB1cnBvc2UsIGFuZCBtYXkgaW4gZnV0dXJlIGJlIGltcGxlbWVudGVkIGluIGEgd2F5IHRoYXRcbiAgICAgKiBkb2VzIG5vdCBmdWxseSBsb2FkL2Rvd25sb2FkIHRoZSBpbWFnZSBkYXRhLiBBIHByb3Blciwgc3VwcG9ydGVkIHdheSB0b1xuICAgICAqIHByZWxvYWQgaW1hZ2VzIHdpbGwgYmUgcHJvdmlkZWQgYXMgYSBzZXBhcmF0ZSBBUEkuXG4gICAgICpcbiAgICAgKiBEb2VzIG5vdCB3b3JrIGZvciBzdGF0aWMgaW1hZ2UgcmVzb3VyY2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVyaSBUaGUgbG9jYXRpb24gb2YgdGhlIGltYWdlLlxuICAgICAqIEBwYXJhbSBzdWNjZXNzIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIGlmIHRoZSBpbWFnZSB3YXMgc3VjY2Vzc2Z1bGx5IGZvdW5kIGFuZCB3aWR0aFxuICAgICAqIGFuZCBoZWlnaHQgcmV0cmlldmVkLlxuICAgICAqIEBwYXJhbSBmYWlsdXJlIFRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIGlmIHRoZXJlIHdhcyBhbiBlcnJvciwgc3VjaCBhcyBmYWlsaW5nIHRvXG4gICAgICogdG8gcmV0cmlldmUgdGhlIGltYWdlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdm9pZFxuICAgICAqXG4gICAgICogQHBsYXRmb3JtIGlvc1xuICAgICAqL1xuICAgIGdldFNpemU6IGZ1bmN0aW9uKFxuICAgICAgdXJpOiBzdHJpbmcsXG4gICAgICBzdWNjZXNzOiAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gICAgICBmYWlsdXJlPzogKGVycm9yOiBhbnkpID0+IHZvaWQsXG4gICAgKSB7XG4gICAgICBJbWFnZVZpZXdNYW5hZ2VyLmdldFNpemUodXJpLCBzdWNjZXNzLCBmYWlsdXJlIHx8IGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBnZXQgc2l6ZSBmb3IgaW1hZ2U6ICcgKyB1cmkpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBQcmVmZXRjaGVzIGEgcmVtb3RlIGltYWdlIGZvciBsYXRlciB1c2UgYnkgZG93bmxvYWRpbmcgaXQgdG8gdGhlIGRpc2tcbiAgICAgKiBjYWNoZVxuICAgICAqXG4gICAgICogQHBhcmFtIHVybCBUaGUgcmVtb3RlIGxvY2F0aW9uIG9mIHRoZSBpbWFnZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gVGhlIHByZWZldGNoZWQgaW1hZ2UuXG4gICAgICovXG4gICAgcHJlZmV0Y2godXJsOiBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBJbWFnZVZpZXdNYW5hZ2VyLnByZWZldGNoSW1hZ2UodXJsKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGFuIGFzc2V0IHJlZmVyZW5jZSBpbnRvIGFuIG9iamVjdCB3aGljaCBoYXMgdGhlIHByb3BlcnRpZXMgYHVyaWAsIGB3aWR0aGAsXG4gICAgICogYW5kIGBoZWlnaHRgLiBUaGUgaW5wdXQgbWF5IGVpdGhlciBiZSBhIG51bWJlciAob3BhcXVlIHR5cGUgcmV0dXJuZWQgYnlcbiAgICAgKiByZXF1aXJlKCcuL2Zvby5wbmcnKSkgb3IgYW4gYEltYWdlU291cmNlYCBsaWtlIHsgdXJpOiAnPGh0dHAgbG9jYXRpb24gfHwgZmlsZSBwYXRoPicgfVxuICAgICAqL1xuICAgIHJlc29sdmVBc3NldFNvdXJjZTogcmVzb2x2ZUFzc2V0U291cmNlLFxuICB9LFxuXG4gIG1peGluczogW05hdGl2ZU1ldGhvZHNNaXhpbl0sXG5cbiAgLyoqXG4gICAqIGBOYXRpdmVNZXRob2RzTWl4aW5gIHdpbGwgbG9vayBmb3IgdGhpcyB3aGVuIGludm9raW5nIGBzZXROYXRpdmVQcm9wc2AuIFdlXG4gICAqIG1ha2UgYHRoaXNgIGxvb2sgbGlrZSBhbiBhY3R1YWwgbmF0aXZlIGNvbXBvbmVudCBjbGFzcy5cbiAgICovXG4gIHZpZXdDb25maWc6IHtcbiAgICB1aVZpZXdDbGFzc05hbWU6ICdVSVZpZXcnLFxuICAgIHZhbGlkQXR0cmlidXRlczogUmVhY3ROYXRpdmVWaWV3QXR0cmlidXRlcy5VSVZpZXdcbiAgfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IHNvdXJjZSA9IHJlc29sdmVBc3NldFNvdXJjZSh0aGlzLnByb3BzLnNvdXJjZSkgfHwgeyB1cmk6IHVuZGVmaW5lZCwgd2lkdGg6IHVuZGVmaW5lZCwgaGVpZ2h0OiB1bmRlZmluZWQgfTtcblxuICAgIGxldCBzb3VyY2VzO1xuICAgIGxldCBzdHlsZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICBzdHlsZSA9IGZsYXR0ZW5TdHlsZShbc3R5bGVzLmJhc2UsIHRoaXMucHJvcHMuc3R5bGVdKSB8fCB7fTtcbiAgICAgIHNvdXJjZXMgPSBzb3VyY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0LCB1cml9ID0gc291cmNlO1xuICAgICAgc3R5bGUgPSBmbGF0dGVuU3R5bGUoW3t3aWR0aCwgaGVpZ2h0fSwgc3R5bGVzLmJhc2UsIHRoaXMucHJvcHMuc3R5bGVdKSB8fCB7fTtcbiAgICAgIHNvdXJjZXMgPSBbc291cmNlXTtcblxuICAgICAgaWYgKHVyaSA9PT0gJycpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdzb3VyY2UudXJpIHNob3VsZCBub3QgYmUgYW4gZW1wdHkgc3RyaW5nJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVzaXplTW9kZSA9IHRoaXMucHJvcHMucmVzaXplTW9kZSB8fCAoc3R5bGUgfHwge30pLnJlc2l6ZU1vZGUgfHwgJ2NvdmVyJzsgLy8gV29ya2Fyb3VuZCBmb3IgZmxvdyBidWcgdDc3MzcxMDhcbiAgICBjb25zdCB0aW50Q29sb3IgPSAoc3R5bGUgfHwge30pLnRpbnRDb2xvcjsgLy8gV29ya2Fyb3VuZCBmb3IgZmxvdyBidWcgdDc3MzcxMDhcblxuICAgIGlmICh0aGlzLnByb3BzLnNyYykge1xuICAgICAgY29uc29sZS53YXJuKCdUaGUgPEltYWdlPiBjb21wb25lbnQgcmVxdWlyZXMgYSBgc291cmNlYCBwcm9wZXJ0eSByYXRoZXIgdGhhbiBgc3JjYC4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFJDVEltYWdlVmlld1xuICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgc3R5bGU9e3N0eWxlfVxuICAgICAgICByZXNpemVNb2RlPXtyZXNpemVNb2RlfVxuICAgICAgICB0aW50Q29sb3I9e3RpbnRDb2xvcn1cbiAgICAgICAgc291cmNlPXtzb3VyY2VzfVxuICAgICAgLz5cbiAgICApO1xuICB9LFxufSk7XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgYmFzZToge1xuICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgfSxcbn0pO1xuXG5jb25zdCBSQ1RJbWFnZVZpZXcgPSByZXF1aXJlTmF0aXZlQ29tcG9uZW50KCdSQ1RJbWFnZVZpZXcnLCBJbWFnZSk7XG5cbm1vZHVsZS5leHBvcnRzID0gSW1hZ2U7XG4iXX0=