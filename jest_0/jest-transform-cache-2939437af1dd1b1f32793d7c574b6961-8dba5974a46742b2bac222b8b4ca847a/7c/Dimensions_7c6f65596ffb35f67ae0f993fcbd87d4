71df97cee702892ea86441b1a8742eda











'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}

var DeviceInfo=require('DeviceInfo');
var EventEmitter=require('EventEmitter');
var Platform=require('Platform');
var RCTDeviceEventEmitter=require('RCTDeviceEventEmitter');

var invariant=require('fbjs/lib/invariant');

var eventEmitter=new EventEmitter();
var dimensionsInitialized=false;
var dimensions={};var
Dimensions=function(){function Dimensions(){_classCallCheck(this,Dimensions);}_createClass(Dimensions,null,[{key:'set',value:function set(






dims){



if(dims&&dims.windowPhysicalPixels){

dims=JSON.parse(JSON.stringify(dims));

var windowPhysicalPixels=dims.windowPhysicalPixels;
dims.window={
width:windowPhysicalPixels.width/windowPhysicalPixels.scale,
height:windowPhysicalPixels.height/windowPhysicalPixels.scale,
scale:windowPhysicalPixels.scale,
fontScale:windowPhysicalPixels.fontScale};

if(Platform.OS==='android'){

var screenPhysicalPixels=dims.screenPhysicalPixels;
dims.screen={
width:screenPhysicalPixels.width/screenPhysicalPixels.scale,
height:screenPhysicalPixels.height/screenPhysicalPixels.scale,
scale:screenPhysicalPixels.scale,
fontScale:screenPhysicalPixels.fontScale};



delete dims.screenPhysicalPixels;
}else{
dims.screen=dims.window;
}

delete dims.windowPhysicalPixels;
}

_extends(dimensions,dims);
if(dimensionsInitialized){

eventEmitter.emit('change',{
window:dimensions.window,
screen:dimensions.screen});

}else{
dimensionsInitialized=true;
}
}},{key:'get',value:function get(
















dim){
invariant(dimensions[dim],'No dimension set for key '+dim);
return dimensions[dim];
}},{key:'addEventListener',value:function addEventListener(










type,
handler)
{
invariant(
'change'===type,
'Trying to subscribe to unknown event: "%s"',type);

eventEmitter.addListener(type,handler);
}},{key:'removeEventListener',value:function removeEventListener(





type,
handler)
{
invariant(
'change'===type,
'Trying to remove listener for unknown event: "%s"',type);

eventEmitter.removeListener(type,handler);
}}]);return Dimensions;}();


Dimensions.set(DeviceInfo.Dimensions);
RCTDeviceEventEmitter.addListener('didUpdateDimensions',function(update){
Dimensions.set(update);
});

module.exports=Dimensions;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRpbWVuc2lvbnMuanMiXSwibmFtZXMiOlsiRGV2aWNlSW5mbyIsInJlcXVpcmUiLCJFdmVudEVtaXR0ZXIiLCJQbGF0Zm9ybSIsIlJDVERldmljZUV2ZW50RW1pdHRlciIsImludmFyaWFudCIsImV2ZW50RW1pdHRlciIsImRpbWVuc2lvbnNJbml0aWFsaXplZCIsImRpbWVuc2lvbnMiLCJEaW1lbnNpb25zIiwiZGltcyIsIndpbmRvd1BoeXNpY2FsUGl4ZWxzIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5Iiwid2luZG93Iiwid2lkdGgiLCJzY2FsZSIsImhlaWdodCIsImZvbnRTY2FsZSIsIk9TIiwic2NyZWVuUGh5c2ljYWxQaXhlbHMiLCJzY3JlZW4iLCJlbWl0IiwiZGltIiwidHlwZSIsImhhbmRsZXIiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwic2V0IiwidXBkYXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFXQSxhOztBQUVBLEdBQUlBLFlBQWFDLFFBQVEsWUFBUixDQUFqQjtBQUNBLEdBQUlDLGNBQWVELFFBQVEsY0FBUixDQUFuQjtBQUNBLEdBQUlFLFVBQVdGLFFBQVEsVUFBUixDQUFmO0FBQ0EsR0FBSUcsdUJBQXdCSCxRQUFRLHVCQUFSLENBQTVCOztBQUVBLEdBQUlJLFdBQVlKLFFBQVEsb0JBQVIsQ0FBaEI7O0FBRUEsR0FBSUssY0FBZSxHQUFJSixhQUFKLEVBQW5CO0FBQ0EsR0FBSUssdUJBQXdCLEtBQTVCO0FBQ0EsR0FBSUMsWUFBYSxFQUFqQixDO0FBQ01DLFU7Ozs7Ozs7QUFPT0MsSSxDQUFpQzs7OztBQUkxQyxHQUFJQSxNQUFRQSxLQUFLQyxvQkFBakIsQ0FBdUM7O0FBRXJDRCxLQUFPRSxLQUFLQyxLQUFMLENBQVdELEtBQUtFLFNBQUwsQ0FBZUosSUFBZixDQUFYLENBQVA7O0FBRUEsR0FBSUMsc0JBQXVCRCxLQUFLQyxvQkFBaEM7QUFDQUQsS0FBS0ssTUFBTCxDQUFjO0FBQ1pDLE1BQU9MLHFCQUFxQkssS0FBckIsQ0FBNkJMLHFCQUFxQk0sS0FEN0M7QUFFWkMsT0FBUVAscUJBQXFCTyxNQUFyQixDQUE4QlAscUJBQXFCTSxLQUYvQztBQUdaQSxNQUFPTixxQkFBcUJNLEtBSGhCO0FBSVpFLFVBQVdSLHFCQUFxQlEsU0FKcEIsQ0FBZDs7QUFNQSxHQUFJaEIsU0FBU2lCLEVBQVQsR0FBZ0IsU0FBcEIsQ0FBK0I7O0FBRTdCLEdBQUlDLHNCQUF1QlgsS0FBS1csb0JBQWhDO0FBQ0FYLEtBQUtZLE1BQUwsQ0FBYztBQUNaTixNQUFPSyxxQkFBcUJMLEtBQXJCLENBQTZCSyxxQkFBcUJKLEtBRDdDO0FBRVpDLE9BQVFHLHFCQUFxQkgsTUFBckIsQ0FBOEJHLHFCQUFxQkosS0FGL0M7QUFHWkEsTUFBT0kscUJBQXFCSixLQUhoQjtBQUlaRSxVQUFXRSxxQkFBcUJGLFNBSnBCLENBQWQ7Ozs7QUFRQSxNQUFPVCxNQUFLVyxvQkFBWjtBQUNELENBWkQsSUFZTztBQUNMWCxLQUFLWSxNQUFMLENBQWNaLEtBQUtLLE1BQW5CO0FBQ0Q7O0FBRUQsTUFBT0wsTUFBS0Msb0JBQVo7QUFDRDs7QUFFRCxTQUFjSCxVQUFkLENBQTBCRSxJQUExQjtBQUNBLEdBQUlILHFCQUFKLENBQTJCOztBQUV6QkQsYUFBYWlCLElBQWIsQ0FBa0IsUUFBbEIsQ0FBNEI7QUFDMUJSLE9BQVFQLFdBQVdPLE1BRE87QUFFMUJPLE9BQVFkLFdBQVdjLE1BRk8sQ0FBNUI7O0FBSUQsQ0FORCxJQU1PO0FBQ0xmLHNCQUF3QixJQUF4QjtBQUNEO0FBQ0YsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFpQlVpQixHLENBQXFCO0FBQzlCbkIsVUFBVUcsV0FBV2dCLEdBQVgsQ0FBVixDQUEyQiw0QkFBOEJBLEdBQXpEO0FBQ0EsTUFBT2hCLFlBQVdnQixHQUFYLENBQVA7QUFDRCxDOzs7Ozs7Ozs7OztBQVdDQyxJO0FBQ0FDLE87QUFDQTtBQUNBckI7QUFDRSxXQUFhb0IsSUFEZjtBQUVFLDRDQUZGLENBRWdEQSxJQUZoRDs7QUFJQW5CLGFBQWFxQixXQUFiLENBQXlCRixJQUF6QixDQUErQkMsT0FBL0I7QUFDRCxDOzs7Ozs7QUFNQ0QsSTtBQUNBQyxPO0FBQ0E7QUFDQXJCO0FBQ0UsV0FBYW9CLElBRGY7QUFFRSxtREFGRixDQUV1REEsSUFGdkQ7O0FBSUFuQixhQUFhc0IsY0FBYixDQUE0QkgsSUFBNUIsQ0FBa0NDLE9BQWxDO0FBQ0QsQzs7O0FBR0hqQixXQUFXb0IsR0FBWCxDQUFlN0IsV0FBV1MsVUFBMUI7QUFDQUwsc0JBQXNCdUIsV0FBdEIsQ0FBa0MscUJBQWxDLENBQXlELFNBQVNHLE1BQVQsQ0FBaUI7QUFDeEVyQixXQUFXb0IsR0FBWCxDQUFlQyxNQUFmO0FBQ0QsQ0FGRDs7QUFJQUMsT0FBT0MsT0FBUCxDQUFpQnZCLFVBQWpCIiwiZmlsZSI6IkRpbWVuc2lvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIERpbWVuc2lvbnNcbiAqIEBmbG93XG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIERldmljZUluZm8gPSByZXF1aXJlKCdEZXZpY2VJbmZvJyk7XG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnRXZlbnRFbWl0dGVyJyk7XG52YXIgUGxhdGZvcm0gPSByZXF1aXJlKCdQbGF0Zm9ybScpO1xudmFyIFJDVERldmljZUV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ1JDVERldmljZUV2ZW50RW1pdHRlcicpO1xuXG52YXIgaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG5cbnZhciBldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG52YXIgZGltZW5zaW9uc0luaXRpYWxpemVkID0gZmFsc2U7XG52YXIgZGltZW5zaW9ucyA9IHt9O1xuY2xhc3MgRGltZW5zaW9ucyB7XG4gIC8qKlxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBmcm9tIG5hdGl2ZSBjb2RlIGJ5IHNlbmRpbmcgdGhlXG4gICAqIGRpZFVwZGF0ZURpbWVuc2lvbnMgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkaW1zIFNpbXBsZSBzdHJpbmcta2V5ZWQgb2JqZWN0IG9mIGRpbWVuc2lvbnMgdG8gc2V0XG4gICAqL1xuICBzdGF0aWMgc2V0KGRpbXM6IHtba2V5OnN0cmluZ106IGFueX0pOiB2b2lkIHtcbiAgICAvLyBXZSBjYWxjdWxhdGUgdGhlIHdpbmRvdyBkaW1lbnNpb25zIGluIEpTIHNvIHRoYXQgd2UgZG9uJ3QgZW5jb3VudGVyIGxvc3Mgb2ZcbiAgICAvLyBwcmVjaXNpb24gaW4gdHJhbnNmZXJyaW5nIHRoZSBkaW1lbnNpb25zICh3aGljaCBjb3VsZCBiZSBub24taW50ZWdlcnMpIG92ZXJcbiAgICAvLyB0aGUgYnJpZGdlLlxuICAgIGlmIChkaW1zICYmIGRpbXMud2luZG93UGh5c2ljYWxQaXhlbHMpIHtcbiAgICAgIC8vIHBhcnNlL3N0cmluZ2lmeSA9PiBDbG9uZSBoYWNrXG4gICAgICBkaW1zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkaW1zKSk7XG5cbiAgICAgIHZhciB3aW5kb3dQaHlzaWNhbFBpeGVscyA9IGRpbXMud2luZG93UGh5c2ljYWxQaXhlbHM7XG4gICAgICBkaW1zLndpbmRvdyA9IHtcbiAgICAgICAgd2lkdGg6IHdpbmRvd1BoeXNpY2FsUGl4ZWxzLndpZHRoIC8gd2luZG93UGh5c2ljYWxQaXhlbHMuc2NhbGUsXG4gICAgICAgIGhlaWdodDogd2luZG93UGh5c2ljYWxQaXhlbHMuaGVpZ2h0IC8gd2luZG93UGh5c2ljYWxQaXhlbHMuc2NhbGUsXG4gICAgICAgIHNjYWxlOiB3aW5kb3dQaHlzaWNhbFBpeGVscy5zY2FsZSxcbiAgICAgICAgZm9udFNjYWxlOiB3aW5kb3dQaHlzaWNhbFBpeGVscy5mb250U2NhbGUsXG4gICAgICB9O1xuICAgICAgaWYgKFBsYXRmb3JtLk9TID09PSAnYW5kcm9pZCcpIHtcbiAgICAgICAgLy8gU2NyZWVuIGFuZCB3aW5kb3cgZGltZW5zaW9ucyBhcmUgZGlmZmVyZW50IG9uIGFuZHJvaWRcbiAgICAgICAgdmFyIHNjcmVlblBoeXNpY2FsUGl4ZWxzID0gZGltcy5zY3JlZW5QaHlzaWNhbFBpeGVscztcbiAgICAgICAgZGltcy5zY3JlZW4gPSB7XG4gICAgICAgICAgd2lkdGg6IHNjcmVlblBoeXNpY2FsUGl4ZWxzLndpZHRoIC8gc2NyZWVuUGh5c2ljYWxQaXhlbHMuc2NhbGUsXG4gICAgICAgICAgaGVpZ2h0OiBzY3JlZW5QaHlzaWNhbFBpeGVscy5oZWlnaHQgLyBzY3JlZW5QaHlzaWNhbFBpeGVscy5zY2FsZSxcbiAgICAgICAgICBzY2FsZTogc2NyZWVuUGh5c2ljYWxQaXhlbHMuc2NhbGUsXG4gICAgICAgICAgZm9udFNjYWxlOiBzY3JlZW5QaHlzaWNhbFBpeGVscy5mb250U2NhbGUsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZGVsZXRlIHNvIG5vIGNhbGxlcnMgcmVseSBvbiB0aGlzIGV4aXN0aW5nXG4gICAgICAgIGRlbGV0ZSBkaW1zLnNjcmVlblBoeXNpY2FsUGl4ZWxzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGltcy5zY3JlZW4gPSBkaW1zLndpbmRvdztcbiAgICAgIH1cbiAgICAgIC8vIGRlbGV0ZSBzbyBubyBjYWxsZXJzIHJlbHkgb24gdGhpcyBleGlzdGluZ1xuICAgICAgZGVsZXRlIGRpbXMud2luZG93UGh5c2ljYWxQaXhlbHM7XG4gICAgfVxuXG4gICAgT2JqZWN0LmFzc2lnbihkaW1lbnNpb25zLCBkaW1zKTtcbiAgICBpZiAoZGltZW5zaW9uc0luaXRpYWxpemVkKSB7XG4gICAgICAvLyBEb24ndCBmaXJlICdjaGFuZ2UnIHRoZSBmaXJzdCB0aW1lIHRoZSBkaW1lbnNpb25zIGFyZSBzZXQuXG4gICAgICBldmVudEVtaXR0ZXIuZW1pdCgnY2hhbmdlJywge1xuICAgICAgICB3aW5kb3c6IGRpbWVuc2lvbnMud2luZG93LFxuICAgICAgICBzY3JlZW46IGRpbWVuc2lvbnMuc2NyZWVuXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGltZW5zaW9uc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbCBkaW1lbnNpb25zIGFyZSBzZXQgYmVmb3JlIGBydW5BcHBsaWNhdGlvbmAgaXMgY2FsbGVkIHNvIHRoZXkgc2hvdWxkXG4gICAqIGJlIGF2YWlsYWJsZSBiZWZvcmUgYW55IG90aGVyIHJlcXVpcmUncyBhcmUgcnVuLCBidXQgbWF5IGJlIHVwZGF0ZWQgbGF0ZXIuXG4gICAqXG4gICAqIE5vdGU6IEFsdGhvdWdoIGRpbWVuc2lvbnMgYXJlIGF2YWlsYWJsZSBpbW1lZGlhdGVseSwgdGhleSBtYXkgY2hhbmdlIChlLmdcbiAgICogZHVlIHRvIGRldmljZSByb3RhdGlvbikgc28gYW55IHJlbmRlcmluZyBsb2dpYyBvciBzdHlsZXMgdGhhdCBkZXBlbmQgb25cbiAgICogdGhlc2UgY29uc3RhbnRzIHNob3VsZCB0cnkgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIG9uIGV2ZXJ5IHJlbmRlciwgcmF0aGVyXG4gICAqIHRoYW4gY2FjaGluZyB0aGUgdmFsdWUgKGZvciBleGFtcGxlLCB1c2luZyBpbmxpbmUgc3R5bGVzIHJhdGhlciB0aGFuXG4gICAqIHNldHRpbmcgYSB2YWx1ZSBpbiBhIGBTdHlsZVNoZWV0YCkuXG4gICAqXG4gICAqIEV4YW1wbGU6IGB2YXIge2hlaWdodCwgd2lkdGh9ID0gRGltZW5zaW9ucy5nZXQoJ3dpbmRvdycpO2BcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRpbSBOYW1lIG9mIGRpbWVuc2lvbiBhcyBkZWZpbmVkIHdoZW4gY2FsbGluZyBgc2V0YC5cbiAgICogQHJldHVybnMge09iamVjdD99IFZhbHVlIGZvciB0aGUgZGltZW5zaW9uLlxuICAgKi9cbiAgc3RhdGljIGdldChkaW06IHN0cmluZyk6IE9iamVjdCB7XG4gICAgaW52YXJpYW50KGRpbWVuc2lvbnNbZGltXSwgJ05vIGRpbWVuc2lvbiBzZXQgZm9yIGtleSAnICsgZGltKTtcbiAgICByZXR1cm4gZGltZW5zaW9uc1tkaW1dO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBldmVudCBoYW5kbGVyLiBTdXBwb3J0ZWQgZXZlbnRzOlxuICAgKlxuICAgKiAtIGBjaGFuZ2VgOiBGaXJlcyB3aGVuIGEgcHJvcGVydHkgd2l0aGluIHRoZSBgRGltZW5zaW9uc2Agb2JqZWN0IGNoYW5nZXMuIFRoZSBhcmd1bWVudFxuICAgKiAgIHRvIHRoZSBldmVudCBoYW5kbGVyIGlzIGFuIG9iamVjdCB3aXRoIGB3aW5kb3dgIGFuZCBgc2NyZWVuYCBwcm9wZXJ0aWVzIHdob3NlIHZhbHVlc1xuICAgKiAgIGFyZSB0aGUgc2FtZSBhcyB0aGUgcmV0dXJuIHZhbHVlcyBvZiBgRGltZW5zaW9ucy5nZXQoJ3dpbmRvdycpYCBhbmRcbiAgICogICBgRGltZW5zaW9ucy5nZXQoJ3NjcmVlbicpYCwgcmVzcGVjdGl2ZWx5LlxuICAgKi9cbiAgc3RhdGljIGFkZEV2ZW50TGlzdGVuZXIoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGhhbmRsZXI6IEZ1bmN0aW9uXG4gICkge1xuICAgIGludmFyaWFudChcbiAgICAgICdjaGFuZ2UnID09PSB0eXBlLFxuICAgICAgJ1RyeWluZyB0byBzdWJzY3JpYmUgdG8gdW5rbm93biBldmVudDogXCIlc1wiJywgdHlwZVxuICAgICk7XG4gICAgZXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBoYW5kbGVyLlxuICAgKi9cbiAgc3RhdGljIHJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIGhhbmRsZXI6IEZ1bmN0aW9uXG4gICkge1xuICAgIGludmFyaWFudChcbiAgICAgICdjaGFuZ2UnID09PSB0eXBlLFxuICAgICAgJ1RyeWluZyB0byByZW1vdmUgbGlzdGVuZXIgZm9yIHVua25vd24gZXZlbnQ6IFwiJXNcIicsIHR5cGVcbiAgICApO1xuICAgIGV2ZW50RW1pdHRlci5yZW1vdmVMaXN0ZW5lcih0eXBlLCBoYW5kbGVyKTtcbiAgfVxufVxuXG5EaW1lbnNpb25zLnNldChEZXZpY2VJbmZvLkRpbWVuc2lvbnMpO1xuUkNURGV2aWNlRXZlbnRFbWl0dGVyLmFkZExpc3RlbmVyKCdkaWRVcGRhdGVEaW1lbnNpb25zJywgZnVuY3Rpb24odXBkYXRlKSB7XG4gIERpbWVuc2lvbnMuc2V0KHVwZGF0ZSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBEaW1lbnNpb25zO1xuIl19