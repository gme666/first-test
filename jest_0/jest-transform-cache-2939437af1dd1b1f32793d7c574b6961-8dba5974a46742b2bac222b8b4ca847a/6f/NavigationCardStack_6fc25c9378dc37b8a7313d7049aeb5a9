b88d34c3b32383948cf086147fd79709
































'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}

var NavigationAnimatedView=require('./NavigationAnimatedView');
var NavigationCard=require('./NavigationCard');
var NavigationCardStackStyleInterpolator=require('./NavigationCardStackStyleInterpolator');
var NavigationContainer=require('./NavigationContainer');
var NavigationCardStackPanResponder=require('./NavigationCardStackPanResponder');
var NavigationPropTypes=require('./NavigationPropTypes');
var React=require('react');
var ReactComponentWithPureRenderMixin=require('react-addons-pure-render-mixin');
var StyleSheet=require('react-native').StyleSheet;

var emptyFunction=require('fbjs/lib/emptyFunction');var

PropTypes=React.PropTypes;var
Directions=NavigationCardStackPanResponder.Directions;var





































NavigationCardStack=function(_React$Component){_inherits(NavigationCardStack,_React$Component);














function NavigationCardStack(props,context){_classCallCheck(this,NavigationCardStack);return _possibleConstructorReturn(this,(NavigationCardStack.__proto__||Object.getPrototypeOf(NavigationCardStack)).call(this,
props,context));
}_createClass(NavigationCardStack,[{key:'componentWillMount',value:function componentWillMount()

{
this._renderScene=this._renderScene.bind(this);
}},{key:'shouldComponentUpdate',value:function shouldComponentUpdate(

nextProps,nextState){
return ReactComponentWithPureRenderMixin.shouldComponentUpdate.call(
this,
nextProps,
nextState);

}},{key:'render',value:function render()

{
return(
React.createElement(NavigationAnimatedView,{
navigationState:this.props.navigationState,
renderOverlay:this.props.renderOverlay,
renderScene:this._renderScene,

style:[styles.animatedView,this.props.style]}));


}},{key:'_renderScene',value:function _renderScene(

props){
var isVertical=this.props.direction==='vertical';

var style=isVertical?
NavigationCardStackStyleInterpolator.forVertical(props):
NavigationCardStackStyleInterpolator.forHorizontal(props);

var panHandlers=isVertical?
NavigationCardStackPanResponder.forVertical(props):
NavigationCardStackPanResponder.forHorizontal(props);

return(
React.createElement(NavigationCard,_extends({},
props,{
key:'card_'+props.scene.key,
panHandlers:panHandlers,
renderScene:this.props.renderScene,
style:style})));


}}]);return NavigationCardStack;}(React.Component);NavigationCardStack.propTypes={direction:PropTypes.oneOf([Directions.HORIZONTAL,Directions.VERTICAL]),navigationState:NavigationPropTypes.navigationParentState.isRequired,renderOverlay:PropTypes.func,renderScene:PropTypes.func.isRequired};NavigationCardStack.defaultProps={direction:Directions.HORIZONTAL,renderOverlay:emptyFunction.thatReturnsNull};


var styles=StyleSheet.create({
animatedView:{
flex:1}});



module.exports=NavigationContainer.create(NavigationCardStack);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5hdmlnYXRpb25DYXJkU3RhY2suanMiXSwibmFtZXMiOlsiTmF2aWdhdGlvbkFuaW1hdGVkVmlldyIsInJlcXVpcmUiLCJOYXZpZ2F0aW9uQ2FyZCIsIk5hdmlnYXRpb25DYXJkU3RhY2tTdHlsZUludGVycG9sYXRvciIsIk5hdmlnYXRpb25Db250YWluZXIiLCJOYXZpZ2F0aW9uQ2FyZFN0YWNrUGFuUmVzcG9uZGVyIiwiTmF2aWdhdGlvblByb3BUeXBlcyIsIlJlYWN0IiwiUmVhY3RDb21wb25lbnRXaXRoUHVyZVJlbmRlck1peGluIiwiU3R5bGVTaGVldCIsImVtcHR5RnVuY3Rpb24iLCJQcm9wVHlwZXMiLCJEaXJlY3Rpb25zIiwiTmF2aWdhdGlvbkNhcmRTdGFjayIsInByb3BzIiwiY29udGV4dCIsIl9yZW5kZXJTY2VuZSIsImJpbmQiLCJuZXh0UHJvcHMiLCJuZXh0U3RhdGUiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJjYWxsIiwibmF2aWdhdGlvblN0YXRlIiwicmVuZGVyT3ZlcmxheSIsInN0eWxlcyIsImFuaW1hdGVkVmlldyIsInN0eWxlIiwiaXNWZXJ0aWNhbCIsImRpcmVjdGlvbiIsImZvclZlcnRpY2FsIiwiZm9ySG9yaXpvbnRhbCIsInBhbkhhbmRsZXJzIiwic2NlbmUiLCJrZXkiLCJyZW5kZXJTY2VuZSIsIkNvbXBvbmVudCIsInByb3BUeXBlcyIsIm9uZU9mIiwiSE9SSVpPTlRBTCIsIlZFUlRJQ0FMIiwibmF2aWdhdGlvblBhcmVudFN0YXRlIiwiaXNSZXF1aXJlZCIsImZ1bmMiLCJkZWZhdWx0UHJvcHMiLCJ0aGF0UmV0dXJuc051bGwiLCJjcmVhdGUiLCJmbGV4IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFnQ0EsYTs7QUFFQSxHQUFNQSx3QkFBeUJDLFFBQVEsMEJBQVIsQ0FBL0I7QUFDQSxHQUFNQyxnQkFBaUJELFFBQVEsa0JBQVIsQ0FBdkI7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ICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBGYWNlYm9vaywgSW5jLiAoXCJGYWNlYm9va1wiKSBvd25zIGFsbCByaWdodCwgdGl0bGUgYW5kIGludGVyZXN0LCBpbmNsdWRpbmdcbiAqIGFsbCBpbnRlbGxlY3R1YWwgcHJvcGVydHkgYW5kIG90aGVyIHByb3ByaWV0YXJ5IHJpZ2h0cywgaW4gYW5kIHRvIHRoZSBSZWFjdFxuICogTmF0aXZlIEN1c3RvbUNvbXBvbmVudHMgc29mdHdhcmUgKHRoZSBcIlNvZnR3YXJlXCIpLiAgU3ViamVjdCB0byB5b3VyXG4gKiBjb21wbGlhbmNlIHdpdGggdGhlc2UgdGVybXMsIHlvdSBhcmUgaGVyZWJ5IGdyYW50ZWQgYSBub24tZXhjbHVzaXZlLFxuICogd29ybGR3aWRlLCByb3lhbHR5LWZyZWUgY29weXJpZ2h0IGxpY2Vuc2UgdG8gKDEpIHVzZSBhbmQgY29weSB0aGUgU29mdHdhcmU7XG4gKiBhbmQgKDIpIHJlcHJvZHVjZSBhbmQgZGlzdHJpYnV0ZSB0aGUgU29mdHdhcmUgYXMgcGFydCBvZiB5b3VyIG93biBzb2Z0d2FyZVxuICogKFwiWW91ciBTb2Z0d2FyZVwiKS4gIEZhY2Vib29rIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvXG4gKiB5b3UgaW4gdGhpcyBsaWNlbnNlIGFncmVlbWVudC5cbiAqXG4gKiBUSEUgU09GVFdBUkUgQU5EIERPQ1VNRU5UQVRJT04sIElGIEFOWSwgQVJFIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1NcbiAqIE9SIElNUExJRUQgV0FSUkFOVElFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVNcbiAqIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UpIEFSRSBESVNDTEFJTUVELlxuICogSU4gTk8gRVZFTlQgU0hBTEwgRkFDRUJPT0sgT1IgSVRTIEFGRklMSUFURVMsIE9GRklDRVJTLCBESVJFQ1RPUlMgT1JcbiAqIEVNUExPWUVFUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLFxuICogRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICogUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7XG4gKiBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcbiAqIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SXG4gKiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSEUgU09GVFdBUkUsIEVWRU4gSUZcbiAqIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBOYXZpZ2F0aW9uQ2FyZFN0YWNrXG4gKiBAZmxvd1xuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IE5hdmlnYXRpb25BbmltYXRlZFZpZXcgPSByZXF1aXJlKCcuL05hdmlnYXRpb25BbmltYXRlZFZpZXcnKTtcbmNvbnN0IE5hdmlnYXRpb25DYXJkID0gcmVxdWlyZSgnLi9OYXZpZ2F0aW9uQ2FyZCcpO1xuY29uc3QgTmF2aWdhdGlvbkNhcmRTdGFja1N0eWxlSW50ZXJwb2xhdG9yID0gcmVxdWlyZSgnLi9OYXZpZ2F0aW9uQ2FyZFN0YWNrU3R5bGVJbnRlcnBvbGF0b3InKTtcbmNvbnN0IE5hdmlnYXRpb25Db250YWluZXIgPSByZXF1aXJlKCcuL05hdmlnYXRpb25Db250YWluZXInKTtcbmNvbnN0IE5hdmlnYXRpb25DYXJkU3RhY2tQYW5SZXNwb25kZXIgPSByZXF1aXJlKCcuL05hdmlnYXRpb25DYXJkU3RhY2tQYW5SZXNwb25kZXInKTtcbmNvbnN0IE5hdmlnYXRpb25Qcm9wVHlwZXMgPSByZXF1aXJlKCcuL05hdmlnYXRpb25Qcm9wVHlwZXMnKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbmNvbnN0IFJlYWN0Q29tcG9uZW50V2l0aFB1cmVSZW5kZXJNaXhpbiA9IHJlcXVpcmUoJ3JlYWN0LWFkZG9ucy1wdXJlLXJlbmRlci1taXhpbicpO1xuY29uc3QgU3R5bGVTaGVldCA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpLlN0eWxlU2hlZXQ7XG5cbmNvbnN0IGVtcHR5RnVuY3Rpb24gPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eUZ1bmN0aW9uJyk7XG5cbmNvbnN0IHtQcm9wVHlwZXN9ID0gUmVhY3Q7XG5jb25zdCB7RGlyZWN0aW9uc30gPSBOYXZpZ2F0aW9uQ2FyZFN0YWNrUGFuUmVzcG9uZGVyO1xuXG5pbXBvcnQgdHlwZSB7XG4gIE5hdmlnYXRpb25QYXJlbnRTdGF0ZSxcbiAgTmF2aWdhdGlvblNjZW5lUmVuZGVyZXIsXG4gIE5hdmlnYXRpb25TY2VuZVJlbmRlcmVyUHJvcHMsXG59IGZyb20gJ05hdmlnYXRpb25UeXBlRGVmaW5pdGlvbic7XG5cbmltcG9ydCB0eXBlIHtcbiAgTmF2aWdhdGlvbkdlc3R1cmVEaXJlY3Rpb24sXG59IGZyb20gJ05hdmlnYXRpb25DYXJkU3RhY2tQYW5SZXNwb25kZXInO1xuXG50eXBlIFByb3BzID0ge1xuICBkaXJlY3Rpb246IE5hdmlnYXRpb25HZXN0dXJlRGlyZWN0aW9uLFxuICBuYXZpZ2F0aW9uU3RhdGU6IE5hdmlnYXRpb25QYXJlbnRTdGF0ZSxcbiAgcmVuZGVyT3ZlcmxheTogP05hdmlnYXRpb25TY2VuZVJlbmRlcmVyLFxuICByZW5kZXJTY2VuZTogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXIsXG59O1xuXG50eXBlIERlZmF1bHRQcm9wcyA9IHtcbiAgZGlyZWN0aW9uOiBOYXZpZ2F0aW9uR2VzdHVyZURpcmVjdGlvbixcbiAgcmVuZGVyT3ZlcmxheTogP05hdmlnYXRpb25TY2VuZVJlbmRlcmVyLFxufTtcblxuLyoqXG4gKiBBIGNvbnRyb2xsZWQgbmF2aWdhdGlvbiB2aWV3IHRoYXQgcmVuZGVycyBhIHN0YWNrIG9mIGNhcmRzLlxuICpcbiAqICAgICArLS0tLS0tLS0tLS0tK1xuICogICArLSsgICAgICAgICAgICB8XG4gKiArLSsgfCAgICAgICAgICAgIHxcbiAqIHwgfCB8ICAgICAgICAgICAgfFxuICogfCB8IHwgIEZvY3VzZWQgICB8XG4gKiB8IHwgfCAgIENhcmQgICAgIHxcbiAqIHwgfCB8ICAgICAgICAgICAgfFxuICogKy0rIHwgICAgICAgICAgICB8XG4gKiAgICstKyAgICAgICAgICAgIHxcbiAqICAgICArLS0tLS0tLS0tLS0tK1xuICovXG5jbGFzcyBOYXZpZ2F0aW9uQ2FyZFN0YWNrIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PERlZmF1bHRQcm9wcywgUHJvcHMsIHZvaWQ+IHtcbiAgX3JlbmRlclNjZW5lIDogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXI7XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBkaXJlY3Rpb246IFByb3BUeXBlcy5vbmVPZihbRGlyZWN0aW9ucy5IT1JJWk9OVEFMLCBEaXJlY3Rpb25zLlZFUlRJQ0FMXSksXG4gICAgbmF2aWdhdGlvblN0YXRlOiBOYXZpZ2F0aW9uUHJvcFR5cGVzLm5hdmlnYXRpb25QYXJlbnRTdGF0ZS5pc1JlcXVpcmVkLFxuICAgIHJlbmRlck92ZXJsYXk6IFByb3BUeXBlcy5mdW5jLFxuICAgIHJlbmRlclNjZW5lOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB9O1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHM6IERlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXJlY3Rpb246IERpcmVjdGlvbnMuSE9SSVpPTlRBTCxcbiAgICByZW5kZXJPdmVybGF5OiBlbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCxcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIGNvbnRleHQ6IGFueSkge1xuICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxNb3VudCgpOiB2b2lkIHtcbiAgICB0aGlzLl9yZW5kZXJTY2VuZSA9IHRoaXMuX3JlbmRlclNjZW5lLmJpbmQodGhpcyk7XG4gIH1cblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzOiBPYmplY3QsIG5leHRTdGF0ZTogdm9pZCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBSZWFjdENvbXBvbmVudFdpdGhQdXJlUmVuZGVyTWl4aW4uc2hvdWxkQ29tcG9uZW50VXBkYXRlLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgbmV4dFN0YXRlXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpOiBSZWFjdEVsZW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICA8TmF2aWdhdGlvbkFuaW1hdGVkVmlld1xuICAgICAgICBuYXZpZ2F0aW9uU3RhdGU9e3RoaXMucHJvcHMubmF2aWdhdGlvblN0YXRlfVxuICAgICAgICByZW5kZXJPdmVybGF5PXt0aGlzLnByb3BzLnJlbmRlck92ZXJsYXl9XG4gICAgICAgIHJlbmRlclNjZW5lPXt0aGlzLl9yZW5kZXJTY2VuZX1cbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIHN0eWxlIHNob3VsZCBiZSBkZWNsYXJlZFxuICAgICAgICBzdHlsZT17W3N0eWxlcy5hbmltYXRlZFZpZXcsIHRoaXMucHJvcHMuc3R5bGVdfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgX3JlbmRlclNjZW5lKHByb3BzOiBOYXZpZ2F0aW9uU2NlbmVSZW5kZXJlclByb3BzKTogUmVhY3RFbGVtZW50IHtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09ICd2ZXJ0aWNhbCc7XG5cbiAgICBjb25zdCBzdHlsZSA9IGlzVmVydGljYWwgP1xuICAgICAgTmF2aWdhdGlvbkNhcmRTdGFja1N0eWxlSW50ZXJwb2xhdG9yLmZvclZlcnRpY2FsKHByb3BzKSA6XG4gICAgICBOYXZpZ2F0aW9uQ2FyZFN0YWNrU3R5bGVJbnRlcnBvbGF0b3IuZm9ySG9yaXpvbnRhbChwcm9wcyk7XG5cbiAgICBjb25zdCBwYW5IYW5kbGVycyA9IGlzVmVydGljYWwgP1xuICAgICAgTmF2aWdhdGlvbkNhcmRTdGFja1BhblJlc3BvbmRlci5mb3JWZXJ0aWNhbChwcm9wcykgOlxuICAgICAgTmF2aWdhdGlvbkNhcmRTdGFja1BhblJlc3BvbmRlci5mb3JIb3Jpem9udGFsKHByb3BzKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8TmF2aWdhdGlvbkNhcmRcbiAgICAgICAgey4uLnByb3BzfVxuICAgICAgICBrZXk9eydjYXJkXycgKyBwcm9wcy5zY2VuZS5rZXl9XG4gICAgICAgIHBhbkhhbmRsZXJzPXtwYW5IYW5kbGVyc31cbiAgICAgICAgcmVuZGVyU2NlbmU9e3RoaXMucHJvcHMucmVuZGVyU2NlbmV9XG4gICAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGFuaW1hdGVkVmlldzoge1xuICAgIGZsZXg6IDEsXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBOYXZpZ2F0aW9uQ29udGFpbmVyLmNyZWF0ZShOYXZpZ2F0aW9uQ2FyZFN0YWNrKTtcbiJdfQ==