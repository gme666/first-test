f0b9984b8aaffae95a383d019268a177
Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);
var _reactRedux=require('react-redux');
var _reactNative=require('react-native');
var _common=require('./common');
var _actions=require('../actions');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var

LoginForm=function(_Component){_inherits(LoginForm,_Component);function LoginForm(){_classCallCheck(this,LoginForm);return _possibleConstructorReturn(this,(LoginForm.__proto__||Object.getPrototypeOf(LoginForm)).apply(this,arguments));}_createClass(LoginForm,[{key:'onEmailChange',value:function onEmailChange(
text){
this.props.emailChanged(text);
}},{key:'onPasswordChange',value:function onPasswordChange(

text){
this.props.passwordChanged(text);
}},{key:'onButtonPress',value:function onButtonPress()

{var _props=
this.props,email=_props.email,password=_props.password;

this.props.loginUser({email:email,password:password});
}},{key:'renderButton',value:function renderButton()

{
if(this.props.loading){
return _react2.default.createElement(_common.Spinner,{size:'large'});
}

return(
_react2.default.createElement(_common.Button,{onPress:this.onButtonPress.bind(this)},'Login'));



}},{key:'render',value:function render()

{
return(
_react2.default.createElement(_common.Card,null,
_react2.default.createElement(_common.CardSection,null,
_react2.default.createElement(_common.Input,{
label:'Email',
placeholder:'email@gmail.com',
onChangeText:this.onEmailChange.bind(this),
value:this.props.email})),



_react2.default.createElement(_common.CardSection,null,
_react2.default.createElement(_common.Input,{
secureTextEntry:true,
label:'password',
placeholder:'password',
onChangeText:this.onPasswordChange.bind(this),
value:this.props.password})),



_react2.default.createElement(_reactNative.Text,{style:styles.errorTextStyle},
this.props.error),


_react2.default.createElement(_common.CardSection,null,
this.renderButton())));



}}]);return LoginForm;}(_react.Component);


var styles={
errorTextStyle:{
fontSize:20,
alignSelf:'center',
color:'red'}};



var mapStateToProps=function mapStateToProps(_ref){var auth=_ref.auth;var
email=auth.email,password=auth.password,error=auth.error,loading=auth.loading;

return{email:email,password:password,error:error,loading:loading};
};exports.default=

(0,_reactRedux.connect)(
mapStateToProps,{
emailChanged:_actions.emailChanged,
passwordChanged:_actions.passwordChanged,
loginUser:_actions.loginUser})(

LoginForm);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxvZ2luRm9ybS5qcyJdLCJuYW1lcyI6WyJMb2dpbkZvcm0iLCJ0ZXh0IiwicHJvcHMiLCJlbWFpbENoYW5nZWQiLCJwYXNzd29yZENoYW5nZWQiLCJlbWFpbCIsInBhc3N3b3JkIiwibG9naW5Vc2VyIiwibG9hZGluZyIsIm9uQnV0dG9uUHJlc3MiLCJiaW5kIiwib25FbWFpbENoYW5nZSIsIm9uUGFzc3dvcmRDaGFuZ2UiLCJzdHlsZXMiLCJlcnJvclRleHRTdHlsZSIsImVycm9yIiwicmVuZGVyQnV0dG9uIiwiZm9udFNpemUiLCJhbGlnblNlbGYiLCJjb2xvciIsIm1hcFN0YXRlVG9Qcm9wcyIsImF1dGgiXSwibWFwcGluZ3MiOiJ1akJBQUEsNEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQzs7QUFFTUEsUztBQUNVQyxJLENBQU07QUFDbEIsS0FBS0MsS0FBTCxDQUFXQyxZQUFYLENBQXdCRixJQUF4QjtBQUNELEM7O0FBRWdCQSxJLENBQU07QUFDckIsS0FBS0MsS0FBTCxDQUFXRSxlQUFYLENBQTJCSCxJQUEzQjtBQUNELEM7O0FBRWU7QUFDYyxLQUFLQyxLQURuQixDQUNORyxLQURNLFFBQ05BLEtBRE0sQ0FDQ0MsUUFERCxRQUNDQSxRQUREOztBQUdkLEtBQUtKLEtBQUwsQ0FBV0ssU0FBWCxDQUFxQixDQUFFRixXQUFGLENBQVNDLGlCQUFULENBQXJCO0FBQ0QsQzs7QUFFYztBQUNiLEdBQUksS0FBS0osS0FBTCxDQUFXTSxPQUFmLENBQXdCO0FBQ3RCLE1BQU8sZ0RBQVMsS0FBSyxPQUFkLEVBQVA7QUFDRDs7QUFFRDtBQUNFLDhDQUFRLFFBQVMsS0FBS0MsYUFBTCxDQUFtQkMsSUFBbkIsQ0FBd0IsSUFBeEIsQ0FBakIsVUFERjs7OztBQUtELEM7O0FBRVE7QUFDUDtBQUNFO0FBQ0U7QUFDRTtBQUNFLE1BQU0sT0FEUjtBQUVFLFlBQVksaUJBRmQ7QUFHRSxhQUFjLEtBQUtDLGFBQUwsQ0FBbUJELElBQW5CLENBQXdCLElBQXhCLENBSGhCO0FBSUUsTUFBTyxLQUFLUixLQUFMLENBQVdHLEtBSnBCLEVBREYsQ0FERjs7OztBQVVFO0FBQ0U7QUFDRSxvQkFERjtBQUVFLE1BQU0sVUFGUjtBQUdFLFlBQVksVUFIZDtBQUlFLGFBQWMsS0FBS08sZ0JBQUwsQ0FBc0JGLElBQXRCLENBQTJCLElBQTNCLENBSmhCO0FBS0UsTUFBTyxLQUFLUixLQUFMLENBQVdJLFFBTHBCLEVBREYsQ0FWRjs7OztBQW9CRSxpREFBTSxNQUFPTyxPQUFPQyxjQUFwQjtBQUNHLEtBQUtaLEtBQUwsQ0FBV2EsS0FEZCxDQXBCRjs7O0FBd0JFO0FBQ0csS0FBS0MsWUFBTCxFQURILENBeEJGLENBREY7Ozs7QUE4QkQsQzs7O0FBR0gsR0FBTUgsUUFBUztBQUNiQyxlQUFnQjtBQUNkRyxTQUFVLEVBREk7QUFFZEMsVUFBVyxRQUZHO0FBR2RDLE1BQU8sS0FITyxDQURILENBQWY7Ozs7QUFRQSxHQUFNQyxpQkFBa0IsUUFBbEJBLGdCQUFrQixNQUFjLElBQVhDLEtBQVcsTUFBWEEsSUFBVztBQUM1QmhCLEtBRDRCLENBQ1FnQixJQURSLENBQzVCaEIsS0FENEIsQ0FDckJDLFFBRHFCLENBQ1FlLElBRFIsQ0FDckJmLFFBRHFCLENBQ1hTLEtBRFcsQ0FDUU0sSUFEUixDQUNYTixLQURXLENBQ0pQLE9BREksQ0FDUWEsSUFEUixDQUNKYixPQURJOztBQUdwQyxNQUFPLENBQUVILFdBQUYsQ0FBU0MsaUJBQVQsQ0FBbUJTLFdBQW5CLENBQTBCUCxlQUExQixDQUFQO0FBQ0QsQ0FKRCxDOztBQU1lO0FBQ2JZLGVBRGEsQ0FDSTtBQUNmakIsa0NBRGU7QUFFZkMsd0NBRmU7QUFHZkcsNEJBSGUsQ0FESjs7QUFNYlAsU0FOYSxDIiwiZmlsZSI6IkxvZ2luRm9ybS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgVGV4dCB9IGZyb20gJ3JlYWN0LW5hdGl2ZSc7XG5pbXBvcnQgeyBDYXJkLCBDYXJkU2VjdGlvbiwgSW5wdXQsIEJ1dHRvbiwgU3Bpbm5lciB9IGZyb20gJy4vY29tbW9uJztcbmltcG9ydCB7IGVtYWlsQ2hhbmdlZCwgcGFzc3dvcmRDaGFuZ2VkLCBsb2dpblVzZXIgfSBmcm9tICcuLi9hY3Rpb25zJztcblxuY2xhc3MgTG9naW5Gb3JtIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgb25FbWFpbENoYW5nZSh0ZXh0KSB7XG4gICAgdGhpcy5wcm9wcy5lbWFpbENoYW5nZWQodGV4dCk7XG4gIH1cblxuICBvblBhc3N3b3JkQ2hhbmdlKHRleHQpIHtcbiAgICB0aGlzLnByb3BzLnBhc3N3b3JkQ2hhbmdlZCh0ZXh0KTtcbiAgfVxuXG4gIG9uQnV0dG9uUHJlc3MoKSB7XG4gICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHRoaXMucHJvcHM7XG5cbiAgICB0aGlzLnByb3BzLmxvZ2luVXNlcih7IGVtYWlsLCBwYXNzd29yZCB9KTtcbiAgfVxuXG4gIHJlbmRlckJ1dHRvbigpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5sb2FkaW5nKSB7XG4gICAgICByZXR1cm4gPFNwaW5uZXIgc2l6ZT1cImxhcmdlXCIgLz47XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxCdXR0b24gb25QcmVzcz17dGhpcy5vbkJ1dHRvblByZXNzLmJpbmQodGhpcyl9PlxuICAgICAgICBMb2dpblxuICAgICAgPC9CdXR0b24+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPENhcmQ+XG4gICAgICAgIDxDYXJkU2VjdGlvbj5cbiAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgIGxhYmVsPVwiRW1haWxcIlxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlbWFpbEBnbWFpbC5jb21cIlxuICAgICAgICAgICAgb25DaGFuZ2VUZXh0PXt0aGlzLm9uRW1haWxDaGFuZ2UuYmluZCh0aGlzKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLmVtYWlsfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvQ2FyZFNlY3Rpb24+XG5cbiAgICAgICAgPENhcmRTZWN0aW9uPlxuICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgc2VjdXJlVGV4dEVudHJ5XG4gICAgICAgICAgICBsYWJlbD1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgb25DaGFuZ2VUZXh0PXt0aGlzLm9uUGFzc3dvcmRDaGFuZ2UuYmluZCh0aGlzKX1cbiAgICAgICAgICAgIHZhbHVlPXt0aGlzLnByb3BzLnBhc3N3b3JkfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvQ2FyZFNlY3Rpb24+XG5cbiAgICAgICAgPFRleHQgc3R5bGU9e3N0eWxlcy5lcnJvclRleHRTdHlsZX0+XG4gICAgICAgICAge3RoaXMucHJvcHMuZXJyb3J9XG4gICAgICAgIDwvVGV4dD5cblxuICAgICAgICA8Q2FyZFNlY3Rpb24+XG4gICAgICAgICAge3RoaXMucmVuZGVyQnV0dG9uKCl9XG4gICAgICAgIDwvQ2FyZFNlY3Rpb24+XG4gICAgICA8L0NhcmQ+XG4gICAgKTtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSB7XG4gIGVycm9yVGV4dFN0eWxlOiB7XG4gICAgZm9udFNpemU6IDIwLFxuICAgIGFsaWduU2VsZjogJ2NlbnRlcicsXG4gICAgY29sb3I6ICdyZWQnXG4gIH1cbn07XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9ICh7IGF1dGggfSkgPT4ge1xuICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCwgZXJyb3IsIGxvYWRpbmcgfSA9IGF1dGg7XG5cbiAgcmV0dXJuIHsgZW1haWwsIHBhc3N3b3JkLCBlcnJvciwgbG9hZGluZyB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgbWFwU3RhdGVUb1Byb3BzLCB7XG4gICAgZW1haWxDaGFuZ2VkLFxuICAgIHBhc3N3b3JkQ2hhbmdlZCxcbiAgICBsb2dpblVzZXJcbiAgfVxuKShMb2dpbkZvcm0pO1xuIl19