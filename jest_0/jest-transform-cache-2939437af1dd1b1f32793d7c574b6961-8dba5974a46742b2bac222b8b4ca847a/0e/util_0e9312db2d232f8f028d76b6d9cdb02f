5c7f82ae8856467bcfa6c2721f7710d2
Object.defineProperty(exports,"__esModule",{value:true});exports.Options=exports.Colors=exports.fontAdapt=exports.styleSvg=exports.color=exports.identity=exports.cyclic=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();

















var _lodash=require('lodash');var _lodash2=_interopRequireDefault(_lodash);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}

var cyclic=exports.cyclic=function cyclic(coll,i){return coll[i%coll.length];};
var identity=exports.identity=function identity(key){return function(x){return x[key];};};
var color=exports.color=function color(key){return function(x){return x[key];};};

var styleSvg=exports.styleSvg=function styleSvg(){var style=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var sourceProps=arguments[1];
if(sourceProps===undefined)return style;

if(sourceProps.fill){
style.fill=_lodash2.default.isString(sourceProps.fill)?sourceProps.fill:sourceProps.fill.color;
style.fillOpacity=sourceProps.fill.alpha?sourceProps.fill.alpha/100:1;
}
if(sourceProps.stroke){
style.stroke=_lodash2.default.isString(sourceProps.stroke)?sourceProps.stroke:sourceProps.stroke.color;
style.strokeOpacity=sourceProps.stroke.alpha?sourceProps.stroke.alpha/100:1;
}
if(sourceProps.strokeWidth)
style.strokeWidth=sourceProps.strokeWidth;
return style;
};

var fontAdapt=exports.fontAdapt=function fontAdapt(fontProps){

var fill=fontProps.color?_lodash2.default.isString(fontProps.color)?fontProps.color:fontProps.color.color:fontProps.fill;

return{
fontFamily:fontProps.fontFamily,
fontSize:fontProps.fontSize,
rotate:fontProps.rotate||0,
fontWeight:fontProps.fontWeight?'bold':'normal',
fontStyle:fontProps.fontStyle?'italic':'normal',
fill:fill,
onLabelPress:fontProps.onLabelPress};

};var

colours=function(){function colours(){_classCallCheck(this,colours);}_createClass(colours,[{key:'cut',value:function cut(
x){
return Math.min(255,Math.floor(Math.abs(x)));
}},{key:'multiply',value:function multiply(

factor){
return function(c){
return{
r:this.cut(factor*c.r),
g:this.cut(factor*c.g),
b:this.cut(factor*c.b)};

}.bind(this);
}},{key:'average',value:function average(

c1,c2){
return{
r:this.cut((c1.r+c2.r)/2),
g:this.cut((c1.g+c2.g)/2),
b:this.cut((c1.b+c2.b)/2)};

}},{key:'lighten',value:function lighten(

c){return this.multiply(1.2)(c);}},{key:'darken',value:function darken(
c){return this.multiply(0.8)(c);}},{key:'darkenColor',value:function darkenColor(
c){return this.string(this.darken(this.hexToRgb(c)));}},{key:'mix',value:function mix(

color1){
var c1=this.hexToRgb(color1);
var c2=this.multiply(0.5)(c1);
var c3=this.average(c1,c2);
return[this.lighten(c1),c1,this.darken(c1),this.lighten(c3),c3,this.darken(c3),this.lighten(c2),c2,this.darken(c2)];
}},{key:'string',value:function string(

c){
return this.rgbToHex(Math.floor(c.r),Math.floor(c.g),Math.floor(c.b));

}},{key:'hexToRgb',value:function hexToRgb(
hex){
var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
return result?{
r:parseInt(result[1],16),
g:parseInt(result[2],16),
b:parseInt(result[3],16)}:
null;
}},{key:'componentToHex',value:function componentToHex(
c){
var hex=c.toString(16);
return hex.length==1?'0'+hex:hex;
}},{key:'rgbToHex',value:function rgbToHex(

r,g,b){
return'#'+this.componentToHex(r)+this.componentToHex(g)+this.componentToHex(b);
}}]);return colours;}();

var Colors=exports.Colors=new colours();var

Options=exports.Options=function(){

function Options(props){_classCallCheck(this,Options);
this.props=props;
this.options=props.options||{};
this.chartWidth=props.width||this.options.width||400;
this.chartHeight=props.height||this.options.height||400;
this.width=this.chartWidth+(this.margin.right||0)+(this.margin.left||0);
this.height=this.chartHeight+(this.margin.top||0)+(this.margin.bottom||0);
this.min=props.min||this.options.min;
this.max=props.max||this.options.max;
}_createClass(Options,[{key:'legendPosition',get:function get()
{return this.props.legendPosition||this.props.options&&this.props.options.legendPosition||'topLeft';}},{key:'axisX',get:function get()
{return this.props.axisX||this.props.options&&this.props.options.axisX||{};}},{key:'axisY',get:function get()
{return this.props.axisY||this.props.options&&this.props.options.axisY||{};}},{key:'margin',get:function get()
{return this.props.margin||this.props.options&&this.props.options.margin||{};}},{key:'stroke',get:function get()
{return this.props.stroke||this.props.options&&this.props.options.stroke;}},{key:'fill',get:function get()
{return this.props.fill||this.props.options&&this.props.options.fill;}},{key:'r',get:function get()
{return this.props.r||this.props.options&&this.props.options.r;}},{key:'R',get:function get()
{return this.props.R||this.props.options&&this.props.options.R;}},{key:'label',get:function get()
{return this.props.label||this.props.options&&this.props.options.label||{};}},{key:'animate',get:function get()
{return this.props.animate||this.props.options&&this.props.options.animate||{};}}]);return Options;}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiY3ljbGljIiwiY29sbCIsImkiLCJsZW5ndGgiLCJpZGVudGl0eSIsImtleSIsIngiLCJjb2xvciIsInN0eWxlU3ZnIiwic3R5bGUiLCJzb3VyY2VQcm9wcyIsInVuZGVmaW5lZCIsImZpbGwiLCJpc1N0cmluZyIsImZpbGxPcGFjaXR5IiwiYWxwaGEiLCJzdHJva2UiLCJzdHJva2VPcGFjaXR5Iiwic3Ryb2tlV2lkdGgiLCJmb250QWRhcHQiLCJmb250UHJvcHMiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJyb3RhdGUiLCJmb250V2VpZ2h0IiwiZm9udFN0eWxlIiwib25MYWJlbFByZXNzIiwiY29sb3VycyIsIk1hdGgiLCJtaW4iLCJmbG9vciIsImFicyIsImZhY3RvciIsImMiLCJyIiwiY3V0IiwiZyIsImIiLCJiaW5kIiwiYzEiLCJjMiIsIm11bHRpcGx5Iiwic3RyaW5nIiwiZGFya2VuIiwiaGV4VG9SZ2IiLCJjb2xvcjEiLCJjMyIsImF2ZXJhZ2UiLCJsaWdodGVuIiwicmdiVG9IZXgiLCJoZXgiLCJyZXN1bHQiLCJleGVjIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsImNvbXBvbmVudFRvSGV4IiwiQ29sb3JzIiwiT3B0aW9ucyIsInByb3BzIiwib3B0aW9ucyIsImNoYXJ0V2lkdGgiLCJ3aWR0aCIsImNoYXJ0SGVpZ2h0IiwiaGVpZ2h0IiwibWFyZ2luIiwicmlnaHQiLCJsZWZ0IiwidG9wIiwiYm90dG9tIiwibWF4IiwibGVnZW5kUG9zaXRpb24iLCJheGlzWCIsImF4aXNZIiwiUiIsImxhYmVsIiwiYW5pbWF0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBa0JBLDhCOztBQUVPLEdBQU1BLHVCQUFTLFFBQVRBLE9BQVMsQ0FBQ0MsSUFBRCxDQUFPQyxDQUFQLENBQWEsQ0FBRSxNQUFPRCxNQUFLQyxFQUFJRCxLQUFLRSxNQUFkLENBQVAsQ0FBOEIsQ0FBNUQ7QUFDQSxHQUFNQywyQkFBVyxR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LEVBQXNCLEtBQUtELEtBQUwsQ0FBV0MsT0FBWCxDQUFtQkssTUFBL0QsRUFBMEUsRUFBakYsQ0FBb0YsQztBQUNyRixDQUFDLE1BQU8sTUFBS04sS0FBTCxDQUFXMUMsTUFBWCxFQUFzQixLQUFLMEMsS0FBTCxDQUFXQyxPQUFYLEVBQXNCLEtBQUtELEtBQUwsQ0FBV0MsT0FBWCxDQUFtQjNDLE1BQXRFLENBQThFLEM7QUFDakYsQ0FBQyxNQUFPLE1BQUswQyxLQUFMLENBQVc5QyxJQUFYLEVBQW9CLEtBQUs4QyxLQUFMLENBQVdDLE9BQVgsRUFBc0IsS0FBS0QsS0FBTCxDQUFXQyxPQUFYLENBQW1CL0MsSUFBcEUsQ0FBMEUsQztBQUM5RSxDQUFDLE1BQU8sTUFBSzhDLEtBQUwsQ0FBV3hCLENBQVgsRUFBaUIsS0FBS3dCLEtBQUwsQ0FBV0MsT0FBWCxFQUFzQixLQUFLRCxLQUFMLENBQVdDLE9BQVgsQ0FBbUJ6QixDQUFqRSxDQUFvRSxDO0FBQ3JFLENBQUMsTUFBTyxNQUFLd0IsS0FBTCxDQUFXZSxDQUFYLEVBQWlCLEtBQUtmLEtBQUwsQ0FBV0MsT0FBWCxFQUFzQixLQUFLRCxLQUFMLENBQVdDLE9BQVgsQ0FBbUJjLENBQWpFLENBQW9FLEM7QUFDakUsQ0FBQyxNQUFPLE1BQUtmLEtBQUwsQ0FBV2dCLEtBQVgsRUFBcUIsS0FBS2hCLEtBQUwsQ0FBV0MsT0FBWCxFQUFzQixLQUFLRCxLQUFMLENBQVdDLE9BQVgsQ0FBbUJlLEtBQTlELEVBQXdFLEVBQS9FLENBQWtGLEM7QUFDaEYsQ0FBQyxNQUFPLE1BQUtoQixLQUFMLENBQVdpQixPQUFYLEVBQXVCLEtBQUtqQixLQUFMLENBQVdDLE9BQVgsRUFBc0IsS0FBS0QsS0FBTCxDQUFXQyxPQUFYLENBQW1CZ0IsT0FBaEUsRUFBNEUsRUFBbkYsQ0FBc0YsQyIsImZpbGUiOiJ1dGlsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbkNvcHlyaWdodCAyMDE2IENhcGl0YWwgT25lIFNlcnZpY2VzLCBMTENcblxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbnlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbllvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuXG4gICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG5cblVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbmRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbldJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuU1BEWC1Db3B5cmlnaHQ6IENvcHlyaWdodCAoYykgQ2FwaXRhbCBPbmUgU2VydmljZXMsIExMQ1xuU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiovXG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcblxuZXhwb3J0IGNvbnN0IGN5Y2xpYyA9IChjb2xsLCBpKSA9PiB7IHJldHVybiBjb2xsW2kgJSBjb2xsLmxlbmd0aF0gfVxuZXhwb3J0IGNvbnN0IGlkZW50aXR5ID0gKGtleSkgPT4geyByZXR1cm4gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHhba2V5XSB9fVxuZXhwb3J0IGNvbnN0IGNvbG9yID0gKGtleSkgPT4geyByZXR1cm4gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHhba2V5XSB9IH1cblxuZXhwb3J0IGNvbnN0IHN0eWxlU3ZnID0gKHN0eWxlID0ge30sIHNvdXJjZVByb3BzKSA9PiB7XG4gIGlmIChzb3VyY2VQcm9wcyA9PT0gdW5kZWZpbmVkKSByZXR1cm4gc3R5bGVcblxuICBpZiAoc291cmNlUHJvcHMuZmlsbCkge1xuICAgIHN0eWxlLmZpbGwgPSBfLmlzU3RyaW5nKHNvdXJjZVByb3BzLmZpbGwpID8gc291cmNlUHJvcHMuZmlsbCA6IHNvdXJjZVByb3BzLmZpbGwuY29sb3JcbiAgICBzdHlsZS5maWxsT3BhY2l0eSA9IHNvdXJjZVByb3BzLmZpbGwuYWxwaGEgPyBzb3VyY2VQcm9wcy5maWxsLmFscGhhLzEwMCA6IDFcbiAgfVxuICBpZiAoc291cmNlUHJvcHMuc3Ryb2tlKSB7XG4gICAgc3R5bGUuc3Ryb2tlID0gXy5pc1N0cmluZyhzb3VyY2VQcm9wcy5zdHJva2UpID8gc291cmNlUHJvcHMuc3Ryb2tlIDogc291cmNlUHJvcHMuc3Ryb2tlLmNvbG9yXG4gICAgc3R5bGUuc3Ryb2tlT3BhY2l0eSA9IHNvdXJjZVByb3BzLnN0cm9rZS5hbHBoYSA/IHNvdXJjZVByb3BzLnN0cm9rZS5hbHBoYS8xMDAgOiAxXG4gIH1cbiAgaWYgKHNvdXJjZVByb3BzLnN0cm9rZVdpZHRoKVxuICAgIHN0eWxlLnN0cm9rZVdpZHRoID0gc291cmNlUHJvcHMuc3Ryb2tlV2lkdGhcbiAgcmV0dXJuIHN0eWxlXG59XG5cbmV4cG9ydCBjb25zdCBmb250QWRhcHQgPSAoZm9udFByb3BzKSA9PiB7XG5cbiAgY29uc3QgZmlsbCA9IGZvbnRQcm9wcy5jb2xvciA/IChfLmlzU3RyaW5nKGZvbnRQcm9wcy5jb2xvcikgPyBmb250UHJvcHMuY29sb3IgOiBmb250UHJvcHMuY29sb3IuY29sb3IgKSA6IGZvbnRQcm9wcy5maWxsXG5cbiAgcmV0dXJuIHtcbiAgICBmb250RmFtaWx5OiBmb250UHJvcHMuZm9udEZhbWlseSxcbiAgICBmb250U2l6ZTogZm9udFByb3BzLmZvbnRTaXplLFxuICAgIHJvdGF0ZTogZm9udFByb3BzLnJvdGF0ZSB8fCAwLFxuICAgIGZvbnRXZWlnaHQ6IGZvbnRQcm9wcy5mb250V2VpZ2h0ID8gJ2JvbGQnIDogJ25vcm1hbCcsXG4gICAgZm9udFN0eWxlOiBmb250UHJvcHMuZm9udFN0eWxlID8gJ2l0YWxpYycgOiAnbm9ybWFsJyAsXG4gICAgZmlsbDogZmlsbCxcbiAgICBvbkxhYmVsUHJlc3M6IGZvbnRQcm9wcy5vbkxhYmVsUHJlc3NcbiAgfVxufVxuXG5jbGFzcyBjb2xvdXJzIHtcbiAgY3V0KHgpIHtcbiAgICByZXR1cm4gTWF0aC5taW4oMjU1LCBNYXRoLmZsb29yKE1hdGguYWJzKHgpKSlcbiAgfVxuXG4gIG11bHRpcGx5KGZhY3Rvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcjogdGhpcy5jdXQoZmFjdG9yICogYy5yKSxcbiAgICAgICAgZzogdGhpcy5jdXQoZmFjdG9yICogYy5nKSxcbiAgICAgICAgYjogdGhpcy5jdXQoZmFjdG9yICogYy5iKVxuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKVxuICB9XG5cbiAgYXZlcmFnZShjMSwgYzIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcjogdGhpcy5jdXQoKGMxLnIgKyBjMi5yKSAvIDIpLFxuICAgICAgZzogdGhpcy5jdXQoKGMxLmcgKyBjMi5nKSAvIDIpLFxuICAgICAgYjogdGhpcy5jdXQoKGMxLmIgKyBjMi5iKSAvIDIpXG4gICAgfVxuICB9XG5cbiAgbGlnaHRlbihjKXtyZXR1cm4gdGhpcy5tdWx0aXBseSgxLjIpKGMpfVxuICBkYXJrZW4oYyl7cmV0dXJuIHRoaXMubXVsdGlwbHkoMC44KShjKX1cbiAgZGFya2VuQ29sb3IoYykge3JldHVybiB0aGlzLnN0cmluZyh0aGlzLmRhcmtlbih0aGlzLmhleFRvUmdiKGMpKSl9XG5cbiAgbWl4KGNvbG9yMSkge1xuICAgIGNvbnN0IGMxID0gdGhpcy5oZXhUb1JnYihjb2xvcjEpXG4gICAgY29uc3QgYzIgPSB0aGlzLm11bHRpcGx5KDAuNSkoYzEpXG4gICAgY29uc3QgYzMgPSB0aGlzLmF2ZXJhZ2UoYzEsIGMyKVxuICAgIHJldHVybiBbdGhpcy5saWdodGVuKGMxKSwgYzEsIHRoaXMuZGFya2VuKGMxKSwgdGhpcy5saWdodGVuKGMzKSwgYzMsIHRoaXMuZGFya2VuKGMzKSwgdGhpcy5saWdodGVuKGMyKSwgYzIsIHRoaXMuZGFya2VuKGMyKV1cbiAgfVxuXG4gIHN0cmluZyhjKSB7XG4gICAgcmV0dXJuIHRoaXMucmdiVG9IZXgoTWF0aC5mbG9vcihjLnIpLE1hdGguZmxvb3IoYy5nKSxNYXRoLmZsb29yKGMuYikpXG4gICAgICAgIC8vcmV0dXJuIFwicmdiKFwiICsgKE1hdGguZmxvb3IoYy5yKSkgKyBcIixcIiArIChNYXRoLmZsb29yKGMuZykpICsgXCIsXCIgKyAoTWF0aC5mbG9vcihjLmIpKSArIFwiKVwiO1xuICB9XG4gIGhleFRvUmdiKGhleCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IC9eIz8oW2EtZlxcZF17Mn0pKFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkkL2kuZXhlYyhoZXgpXG4gICAgcmV0dXJuIHJlc3VsdCA/IHtcbiAgICAgIHI6IHBhcnNlSW50KHJlc3VsdFsxXSwgMTYpLFxuICAgICAgZzogcGFyc2VJbnQocmVzdWx0WzJdLCAxNiksXG4gICAgICBiOiBwYXJzZUludChyZXN1bHRbM10sIDE2KVxuICAgIH0gOiBudWxsXG4gIH1cbiAgY29tcG9uZW50VG9IZXgoYykge1xuICAgIGNvbnN0IGhleCA9IGMudG9TdHJpbmcoMTYpXG4gICAgcmV0dXJuIGhleC5sZW5ndGggPT0gMSA/ICcwJyArIGhleCA6IGhleFxuICB9XG5cbiAgcmdiVG9IZXgociwgZywgYikge1xuICAgIHJldHVybiAnIycgKyB0aGlzLmNvbXBvbmVudFRvSGV4KHIpICsgdGhpcy5jb21wb25lbnRUb0hleChnKSArIHRoaXMuY29tcG9uZW50VG9IZXgoYilcbiAgfVxufVxuZXhwb3J0IGNvbnN0IENvbG9ycyA9IG5ldyBjb2xvdXJzKClcblxuZXhwb3J0IGNsYXNzIE9wdGlvbnMge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgdGhpcy5wcm9wcyA9IHByb3BzXG4gICAgdGhpcy5vcHRpb25zID0gIHByb3BzLm9wdGlvbnMgfHwge31cbiAgICB0aGlzLmNoYXJ0V2lkdGggPSBwcm9wcy53aWR0aCB8fCB0aGlzLm9wdGlvbnMud2lkdGggfHwgNDAwXG4gICAgdGhpcy5jaGFydEhlaWdodCA9IHByb3BzLmhlaWdodCB8fCB0aGlzLm9wdGlvbnMuaGVpZ2h0IHx8IDQwMFxuICAgIHRoaXMud2lkdGggPSB0aGlzLmNoYXJ0V2lkdGggKyAodGhpcy5tYXJnaW4ucmlnaHQgfHwgMCkgKyAgKHRoaXMubWFyZ2luLmxlZnQgfHwgMClcbiAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2hhcnRIZWlnaHQgKyAodGhpcy5tYXJnaW4udG9wIHx8IDApICsgKHRoaXMubWFyZ2luLmJvdHRvbSB8fCAwKVxuICAgIHRoaXMubWluID0gcHJvcHMubWluIHx8IHRoaXMub3B0aW9ucy5taW5cbiAgICB0aGlzLm1heCA9IHByb3BzLm1heCB8fCB0aGlzLm9wdGlvbnMubWF4XG4gIH1cbiAgZ2V0IGxlZ2VuZFBvc2l0aW9uKCl7IHJldHVybiB0aGlzLnByb3BzLmxlZ2VuZFBvc2l0aW9uIHx8ICh0aGlzLnByb3BzLm9wdGlvbnMgJiYgdGhpcy5wcm9wcy5vcHRpb25zLmxlZ2VuZFBvc2l0aW9uKSB8fCAndG9wTGVmdCd9XG4gIGdldCBheGlzWCgpIHtyZXR1cm4gdGhpcy5wcm9wcy5heGlzWCB8fCAodGhpcy5wcm9wcy5vcHRpb25zICYmIHRoaXMucHJvcHMub3B0aW9ucy5heGlzWCkgfHwge319XG4gIGdldCBheGlzWSgpIHtyZXR1cm4gdGhpcy5wcm9wcy5heGlzWSB8fCAodGhpcy5wcm9wcy5vcHRpb25zICYmIHRoaXMucHJvcHMub3B0aW9ucy5heGlzWSkgfHwge319XG4gIGdldCBtYXJnaW4oKXtyZXR1cm4gdGhpcy5wcm9wcy5tYXJnaW4gfHwgKHRoaXMucHJvcHMub3B0aW9ucyAmJiB0aGlzLnByb3BzLm9wdGlvbnMubWFyZ2luKSB8fCB7fX1cbiAgZ2V0IHN0cm9rZSgpe3JldHVybiB0aGlzLnByb3BzLnN0cm9rZSB8fCAodGhpcy5wcm9wcy5vcHRpb25zICYmIHRoaXMucHJvcHMub3B0aW9ucy5zdHJva2UpfVxuICBnZXQgZmlsbCgpe3JldHVybiB0aGlzLnByb3BzLmZpbGwgfHwgKHRoaXMucHJvcHMub3B0aW9ucyAmJiB0aGlzLnByb3BzLm9wdGlvbnMuZmlsbCl9XG4gIGdldCByKCl7cmV0dXJuIHRoaXMucHJvcHMuciB8fCAodGhpcy5wcm9wcy5vcHRpb25zICYmIHRoaXMucHJvcHMub3B0aW9ucy5yKX1cbiAgZ2V0IFIoKXtyZXR1cm4gdGhpcy5wcm9wcy5SIHx8ICh0aGlzLnByb3BzLm9wdGlvbnMgJiYgdGhpcy5wcm9wcy5vcHRpb25zLlIpfVxuICBnZXQgbGFiZWwoKXtyZXR1cm4gdGhpcy5wcm9wcy5sYWJlbCB8fCAodGhpcy5wcm9wcy5vcHRpb25zICYmIHRoaXMucHJvcHMub3B0aW9ucy5sYWJlbCkgfHwge319XG4gIGdldCBhbmltYXRlKCkge3JldHVybiB0aGlzLnByb3BzLmFuaW1hdGUgfHwgKHRoaXMucHJvcHMub3B0aW9ucyAmJiB0aGlzLnByb3BzLm9wdGlvbnMuYW5pbWF0ZSkgfHwge319XG59XG4iXX0=