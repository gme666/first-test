4c56f92d78695149a5eaed1de12bd6c3
Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}



var DEG_TO_RAD=Math.PI/180;var





















Matrix2D=
function Matrix2D(a,b,c,d,tx,ty){_classCallCheck(this,Matrix2D);_initialiseProps.call(this);
this.setTransform(a,b,c,d,tx,ty);






































};var _initialiseProps=function _initialiseProps(){this.












setTransform=function(a,b,c,d,tx,ty){

this.a=a==null?1:a;
this.b=b||0;
this.c=c||0;
this.d=d==null?1:d;
this.tx=tx||0;
this.ty=ty||0;
return this;
};this.






reset=function(){
this.a=this.d=1;
this.b=this.c=this.tx=this.ty=0;
return this;
};this.






toArray=function(){
return[this.a,this.b,this.c,this.d,this.tx,this.ty];
};this.







copy=function(matrix){
return this.setTransform(matrix.a,matrix.b,matrix.c,matrix.d,matrix.tx,matrix.ty);
};this.






clone=function(){
return new Matrix2D(this.a,this.b,this.c,this.d,this.tx,this.ty);
};this.














prepend=function(a,b,c,d,tx,ty){
var a1=this.a;
var c1=this.c;
var tx1=this.tx;

this.a=a*a1+c*this.b;
this.b=b*a1+d*this.b;
this.c=a*c1+c*this.d;
this.d=b*c1+d*this.d;
this.tx=a*tx1+c*this.ty+tx;
this.ty=b*tx1+d*this.ty+ty;
return this;
};this.













append=function(a,b,c,d,tx,ty){
var a1=this.a;
var b1=this.b;
var c1=this.c;
var d1=this.d;
if(a!==1||b!==0||c!==0||d!==1){
this.a=a1*a+c1*b;
this.b=b1*a+d1*b;
this.c=a1*c+c1*d;
this.d=b1*c+d1*d;
}
this.tx=a1*tx+c1*ty+this.tx;
this.ty=b1*tx+d1*ty+this.ty;
return this;
};this.



















appendTransform=function(x,y,scaleX,scaleY,rotation,skewX,skewY,regX,regY){
if(rotation%360){
var r=rotation*DEG_TO_RAD;
var cos=Math.cos(r);
var sin=Math.sin(r);
}else{
cos=1;
sin=0;
}

if(skewX||skewY){

skewX*=DEG_TO_RAD;
skewY*=DEG_TO_RAD;
this.append(Math.cos(skewY),Math.sin(skewY),-Math.sin(skewX),Math.cos(skewX),x,y);
this.append(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,0,0);
}else{
this.append(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,x,y);
}

if(regX||regY){

this.tx-=regX*this.a+regY*this.c;
this.ty-=regX*this.b+regY*this.d;
}
return this;
};this.


























prependTransform=function(x,y,scaleX,scaleY,rotation,skewX,skewY,regX,regY){
if(rotation%360){
var r=rotation*DEG_TO_RAD;
var cos=Math.cos(r);
var sin=Math.sin(r);
}else{
cos=1;
sin=0;
}

if(regX||regY){

this.tx-=regX;this.ty-=regY;
}
if(skewX||skewY){

skewX*=DEG_TO_RAD;
skewY*=DEG_TO_RAD;
this.prepend(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,0,0);
this.prepend(Math.cos(skewY),Math.sin(skewY),-Math.sin(skewX),Math.cos(skewX),x,y);
}else{
this.prepend(cos*scaleX,sin*scaleX,-sin*scaleY,cos*scaleY,x,y);
}
return this;
};};exports.default=Matrix2D;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hdHJpeDJELmpzIl0sIm5hbWVzIjpbIkRFR19UT19SQUQiLCJNYXRoIiwiUEkiLCJNYXRyaXgyRCIsImEiLCJiIiwiYyIsImQiLCJ0eCIsInR5Iiwic2V0VHJhbnNmb3JtIiwicmVzZXQiLCJ0b0FycmF5IiwiY29weSIsIm1hdHJpeCIsImNsb25lIiwicHJlcGVuZCIsImExIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJiMSIsImQxIiwiYXBwZW5kVHJhbnNmb3JtIiwieCIsInkiLCJzY2FsZVgiLCJzY2FsZVkiLCJyb3RhdGlvbiIsInNrZXdYIiwic2tld1kiLCJyZWdYIiwicmVnWSIsInIiLCJjb3MiLCJzaW4iLCJwcmVwZW5kVHJhbnNmb3JtIl0sIm1hcHBpbmdzIjoiOzs7O0FBSUEsR0FBTUEsWUFBYUMsS0FBS0MsRUFBTCxDQUFVLEdBQTdCLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzQnFCQyxRO0FBQ2pCLGtCQUFZQyxDQUFaLENBQWVDLENBQWYsQ0FBa0JDLENBQWxCLENBQXFCQyxDQUFyQixDQUF3QkMsRUFBeEIsQ0FBNEJDLEVBQTVCLENBQWdDO0FBQzVCLEtBQUtDLFlBQUwsQ0FBa0JOLENBQWxCLENBQXFCQyxDQUFyQixDQUF3QkMsQ0FBeEIsQ0FBMkJDLENBQTNCLENBQThCQyxFQUE5QixDQUFrQ0MsRUFBbEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVDSCxDOzs7Ozs7Ozs7Ozs7O0FBYURDLFksQ0FBZSxTQUFTTixDQUFULENBQVlDLENBQVosQ0FBZUMsQ0FBZixDQUFrQkMsQ0FBbEIsQ0FBcUJDLEVBQXJCLENBQXlCQyxFQUF6QixDQUE2Qjs7QUFFeEMsS0FBS0wsQ0FBTCxDQUFTQSxHQUFLLElBQUwsQ0FBWSxDQUFaLENBQWdCQSxDQUF6QjtBQUNBLEtBQUtDLENBQUwsQ0FBU0EsR0FBSyxDQUFkO0FBQ0EsS0FBS0MsQ0FBTCxDQUFTQSxHQUFLLENBQWQ7QUFDQSxLQUFLQyxDQUFMLENBQVNBLEdBQUss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N0IsVUFBVDtBQUNBOEIsT0FBUzlCLFVBQVQ7QUFDQSxLQUFLZ0IsT0FBTCxDQUFha0IsSUFBTVIsTUFBbkIsQ0FBMkJTLElBQU1ULE1BQWpDLENBQXlDLENBQUNTLEdBQUQsQ0FBT1IsTUFBaEQsQ0FBd0RPLElBQU1QLE1BQTlELENBQXNFLENBQXRFLENBQXlFLENBQXpFO0FBQ0EsS0FBS1gsT0FBTCxDQUFhZixLQUFLaUMsR0FBTCxDQUFTSixLQUFULENBQWIsQ0FBOEI3QixLQUFLa0MsR0FBTCxDQUFTTCxLQUFULENBQTlCLENBQStDLENBQUM3QixLQUFLa0MsR0FBTCxDQUFTTixLQUFULENBQWhELENBQWlFNUIsS0FBS2lDLEdBQUwsQ0FBU0wsS0FBVCxDQUFqRSxDQUFrRkwsQ0FBbEYsQ0FBcUZDLENBQXJGO0FBQ0gsQ0FORCxJQU1PO0FBQ0gsS0FBS1QsT0FBTCxDQUFha0IsSUFBTVIsTUFBbkIsQ0FBMkJTLElBQU1ULE1BQWpDLENBQXlDLENBQUNTLEdBQUQsQ0FBT1IsTUFBaEQsQ0FBd0RPLElBQU1QLE1BQTlELENBQXNFSCxDQUF0RSxDQUF5RUMsQ0FBekU7QUFDSDtBQUNELE1BQU8sS0FBUDtBQUNILEMsbUJBOVBnQnRCLFEiLCJmaWxlIjoiTWF0cml4MkQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIGJhc2VkIG9uXG4gKiBodHRwczovL2dpdGh1Yi5jb20vQ3JlYXRlSlMvRWFzZWxKUy9ibG9iLzYzMWNkZmZiODVlZmY5NDEzZGFiNDNiNDY3NmYwNTliNDIzMmQyOTEvc3JjL2Vhc2VsanMvZ2VvbS9NYXRyaXgyRC5qc1xuICovXG5jb25zdCBERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGFmZmluZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXgsIGFuZCBwcm92aWRlcyB0b29scyBmb3IgY29uc3RydWN0aW5nIGFuZCBjb25jYXRlbmF0aW5nIG1hdHJpY2VzLlxuICpcbiAqIFRoaXMgbWF0cml4IGNhbiBiZSB2aXN1YWxpemVkIGFzOlxuICpcbiAqIFx0WyBhICBjICB0eFxuICogXHQgIGIgIGQgIHR5XG4gKiBcdCAgMCAgMCAgMSAgXVxuICpcbiAqIE5vdGUgdGhlIGxvY2F0aW9ucyBvZiBiIGFuZCBjLlxuICpcbiAqIEBjbGFzcyBNYXRyaXgyRFxuICogQHBhcmFtIHtOdW1iZXJ9IFthPTFdIFNwZWNpZmllcyB0aGUgYSBwcm9wZXJ0eSBmb3IgdGhlIG5ldyBtYXRyaXguXG4gKiBAcGFyYW0ge051bWJlcn0gW2I9MF0gU3BlY2lmaWVzIHRoZSBiIHByb3BlcnR5IGZvciB0aGUgbmV3IG1hdHJpeC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBbYz0wXSBTcGVjaWZpZXMgdGhlIGMgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuICogQHBhcmFtIHtOdW1iZXJ9IFtkPTFdIFNwZWNpZmllcyB0aGUgZCBwcm9wZXJ0eSBmb3IgdGhlIG5ldyBtYXRyaXguXG4gKiBAcGFyYW0ge051bWJlcn0gW3R4PTBdIFNwZWNpZmllcyB0aGUgdHggcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuICogQHBhcmFtIHtOdW1iZXJ9IFt0eT0wXSBTcGVjaWZpZXMgdGhlIHR5IHByb3BlcnR5IGZvciB0aGUgbmV3IG1hdHJpeC5cbiAqIEBjb25zdHJ1Y3RvclxuICoqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0cml4MkQge1xuICAgIGNvbnN0cnVjdG9yKGEsIGIsIGMsIGQsIHR4LCB0eSkge1xuICAgICAgICB0aGlzLnNldFRyYW5zZm9ybShhLCBiLCBjLCBkLCB0eCwgdHkpO1xuXG4gICAgICAgIC8vIHB1YmxpYyBwcm9wZXJ0aWVzOlxuICAgICAgICAvLyBhc3NpZ25lZCBpbiB0aGUgc2V0VmFsdWVzIG1ldGhvZC5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvc2l0aW9uICgwLCAwKSBpbiBhIDN4MyBhZmZpbmUgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKiBAcHJvcGVydHkgYVxuICAgICAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgICAgICoqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb3NpdGlvbiAoMCwgMSkgaW4gYSAzeDMgYWZmaW5lIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICogQHByb3BlcnR5IGJcbiAgICAgICAgICogQHR5cGUgTnVtYmVyXG4gICAgICAgICAqKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9zaXRpb24gKDEsIDApIGluIGEgM3gzIGFmZmluZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXguXG4gICAgICAgICAqIEBwcm9wZXJ0eSBjXG4gICAgICAgICAqIEB0eXBlIE51bWJlclxuICAgICAgICAgKiovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvc2l0aW9uICgxLCAxKSBpbiBhIDN4MyBhZmZpbmUgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKiBAcHJvcGVydHkgZFxuICAgICAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgICAgICoqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQb3NpdGlvbiAoMiwgMCkgaW4gYSAzeDMgYWZmaW5lIHRyYW5zZm9ybWF0aW9uIG1hdHJpeC5cbiAgICAgICAgICogQHByb3BlcnR5IHR4XG4gICAgICAgICAqIEB0eXBlIE51bWJlclxuICAgICAgICAgKiovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvc2l0aW9uICgyLCAxKSBpbiBhIDN4MyBhZmZpbmUgdHJhbnNmb3JtYXRpb24gbWF0cml4LlxuICAgICAgICAgKiBAcHJvcGVydHkgdHlcbiAgICAgICAgICogQHR5cGUgTnVtYmVyXG4gICAgICAgICAqKi9cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgY3VycmVudCBtYXRyaXggdG8gbmV3IGFic29sdXRlIG1hdHJpeC5cbiAgICAgKiBAbWV0aG9kIHNldFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYT0xXSBTcGVjaWZpZXMgdGhlIGEgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYj0wXSBTcGVjaWZpZXMgdGhlIGIgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbYz0wXSBTcGVjaWZpZXMgdGhlIGMgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZD0xXSBTcGVjaWZpZXMgdGhlIGQgcHJvcGVydHkgZm9yIHRoZSBuZXcgbWF0cml4LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdHg9MF0gU3BlY2lmaWVzIHRoZSB0eCBwcm9wZXJ0eSBmb3IgdGhlIG5ldyBtYXRyaXguXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0eT0wXSBTcGVjaWZpZXMgdGhlIHR5IHByb3BlcnR5IGZvciB0aGUgbmV3IG1hdHJpeC5cbiAgICAgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBpbnN0YW5jZS4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24oYSwgYiwgYywgZCwgdHgsIHR5KSB7XG4gICAgICAgIC8qZXNsaW50IGVxZXFlcTowKi9cbiAgICAgICAgdGhpcy5hID0gYSA9PSBudWxsID8gMSA6IGE7XG4gICAgICAgIHRoaXMuYiA9IGIgfHwgMDtcbiAgICAgICAgdGhpcy5jID0gYyB8fCAwO1xuICAgICAgICB0aGlzLmQgPSBkID09IG51bGwgPyAxIDogZDtcbiAgICAgICAgdGhpcy50eCA9IHR4IHx8IDA7XG4gICAgICAgIHRoaXMudHkgPSB0eSB8fCAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXQgY3VycmVudCBtYXRyaXggdG8gYW4gaWRlbnRpdHkgbWF0cml4LlxuICAgICAqIEBtZXRob2QgcmVzZXRcbiAgICAgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBtYXRyaXguIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqKi9cbiAgICByZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmEgPSB0aGlzLmQgPSAxO1xuICAgICAgICB0aGlzLmIgPSB0aGlzLmMgPSB0aGlzLnR4ID0gdGhpcy50eSA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IHdpdGggY3VycmVudCBtYXRyaXggdmFsdWVzLlxuICAgICAqIEBtZXRob2QgdG9BcnJheVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSB3aXRoIGN1cnJlbnQgbWF0cml4IHZhbHVlcy5cbiAgICAgKiovXG4gICAgdG9BcnJheSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuYSwgdGhpcy5iLCB0aGlzLmMsIHRoaXMuZCwgdGhpcy50eCwgdGhpcy50eV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvcGllcyBhbGwgcHJvcGVydGllcyBmcm9tIHRoZSBzcGVjaWZpZWQgbWF0cml4IHRvIHRoaXMgbWF0cml4LlxuICAgICAqIEBtZXRob2QgY29weVxuICAgICAqIEBwYXJhbSB7TWF0cml4MkR9IG1hdHJpeCBUaGUgbWF0cml4IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEByZXR1cm4ge01hdHJpeDJEfSBUaGlzIG1hdHJpeC4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovXG4gICAgY29weSA9IGZ1bmN0aW9uKG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRUcmFuc2Zvcm0obWF0cml4LmEsIG1hdHJpeC5iLCBtYXRyaXguYywgbWF0cml4LmQsIG1hdHJpeC50eCwgbWF0cml4LnR5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIGN1cnJlbnQgaW5zdGFuY2UgYW5kIHJldHVybmluZyBhIG5ldyBtYXRyaXguXG4gICAgICogQG1ldGhvZCBjbG9uZVxuICAgICAqIEByZXR1cm4ge01hdHJpeDJEfSBhIGNsb25lIG9mIHRoZSBNYXRyaXgyRCBpbnN0YW5jZS5cbiAgICAgKiovXG4gICAgY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgyRCh0aGlzLmEsIHRoaXMuYiwgdGhpcy5jLCB0aGlzLmQsIHRoaXMudHgsIHRoaXMudHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVwZW5kcyB0aGUgc3BlY2lmaWVkIG1hdHJpeCBwcm9wZXJ0aWVzIHRvIHRoaXMgbWF0cml4LlxuICAgICAqIFRoaXMgaXMgdGhlIGVxdWl2YWxlbnQgb2YgbXVsdGlwbHlpbmcgYChzcGVjaWZpZWQgbWF0cml4KSAqICh0aGlzIG1hdHJpeClgLlxuICAgICAqIEFsbCBwYXJhbWV0ZXJzIGFyZSByZXF1aXJlZC5cbiAgICAgKiBAbWV0aG9kIHByZXBlbmRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBiXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eVxuICAgICAqIEByZXR1cm4ge01hdHJpeDJEfSBUaGlzIG1hdHJpeC4gVXNlZnVsIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICoqL1xuICAgIHByZXBlbmQgPSBmdW5jdGlvbihhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuXG4gICAgICAgIHRoaXMuYSAgPSBhICogYTEgKyBjICogdGhpcy5iO1xuICAgICAgICB0aGlzLmIgID0gYiAqIGExICsgZCAqIHRoaXMuYjtcbiAgICAgICAgdGhpcy5jICA9IGEgKiBjMSArIGMgKiB0aGlzLmQ7XG4gICAgICAgIHRoaXMuZCAgPSBiICogYzEgKyBkICogdGhpcy5kO1xuICAgICAgICB0aGlzLnR4ID0gYSAqIHR4MSArIGMgKiB0aGlzLnR5ICsgdHg7XG4gICAgICAgIHRoaXMudHkgPSBiICogdHgxICsgZCAqIHRoaXMudHkgKyB0eTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgdGhlIHNwZWNpZmllZCBtYXRyaXggcHJvcGVydGllcyB0byB0aGlzIG1hdHJpeC4gQWxsIHBhcmFtZXRlcnMgYXJlIHJlcXVpcmVkLlxuICAgICAqIFRoaXMgaXMgdGhlIGVxdWl2YWxlbnQgb2YgbXVsdGlwbHlpbmcgYCh0aGlzIG1hdHJpeCkgKiAoc3BlY2lmaWVkIG1hdHJpeClgLlxuICAgICAqIEBtZXRob2QgYXBwZW5kXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdHlcbiAgICAgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBtYXRyaXguIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqKi9cbiAgICBhcHBlbmQgPSBmdW5jdGlvbihhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgdmFyIGExID0gdGhpcy5hO1xuICAgICAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcbiAgICAgICAgdmFyIGQxID0gdGhpcy5kO1xuICAgICAgICBpZiAoYSAhPT0gMSB8fCBiICE9PSAwIHx8IGMgIT09IDAgfHwgZCAhPT0gMSkge1xuICAgICAgICAgICAgdGhpcy5hICA9IGExICogYSArIGMxICogYjtcbiAgICAgICAgICAgIHRoaXMuYiAgPSBiMSAqIGEgKyBkMSAqIGI7XG4gICAgICAgICAgICB0aGlzLmMgID0gYTEgKiBjICsgYzEgKiBkO1xuICAgICAgICAgICAgdGhpcy5kICA9IGIxICogYyArIGQxICogZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnR4ID0gYTEgKiB0eCArIGMxICogdHkgKyB0aGlzLnR4O1xuICAgICAgICB0aGlzLnR5ID0gYjEgKiB0eCArIGQxICogdHkgKyB0aGlzLnR5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIG1hdHJpeCBwcm9wZXJ0aWVzIGZyb20gdGhlIHNwZWNpZmllZCBkaXNwbGF5IG9iamVjdCB0cmFuc2Zvcm0gcHJvcGVydGllcywgYW5kIGFwcGVuZHMgdGhlbSB0byB0aGlzIG1hdHJpeC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgeW91IGNhbiB1c2UgdGhpcyB0byBnZW5lcmF0ZSBhIG1hdHJpeCByZXByZXNlbnRpbmcgdGhlIHRyYW5zZm9ybWF0aW9ucyBvZiBhIGRpc3BsYXkgb2JqZWN0OlxuICAgICAqXG4gICAgICogXHR2YXIgbXR4ID0gbmV3IGNyZWF0ZWpzLk1hdHJpeDJEKCk7XG4gICAgICogXHRtdHguYXBwZW5kVHJhbnNmb3JtKG8ueCwgby55LCBvLnNjYWxlWCwgby5zY2FsZVksIG8ucm90YXRpb24pO1xuICAgICAqIEBtZXRob2QgYXBwZW5kVHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVZXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNrZXdYXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNrZXdZXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlZ1ggT3B0aW9uYWwuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlZ1kgT3B0aW9uYWwuXG4gICAgICogQHJldHVybiB7TWF0cml4MkR9IFRoaXMgbWF0cml4LiBVc2VmdWwgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKiovXG4gICAgYXBwZW5kVHJhbnNmb3JtID0gZnVuY3Rpb24oeCwgeSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1ksIHJlZ1gsIHJlZ1kpIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uICUgMzYwKSB7XG4gICAgICAgICAgICB2YXIgciA9IHJvdGF0aW9uICogREVHX1RPX1JBRDtcbiAgICAgICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhyKTtcbiAgICAgICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvcyA9IDE7XG4gICAgICAgICAgICBzaW4gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNrZXdYIHx8IHNrZXdZKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBjYW4gdGhpcyBiZSBjb21iaW5lZCBpbnRvIGEgc2luZ2xlIGFwcGVuZCBvcGVyYXRpb24/XG4gICAgICAgICAgICBza2V3WCAqPSBERUdfVE9fUkFEO1xuICAgICAgICAgICAgc2tld1kgKj0gREVHX1RPX1JBRDtcbiAgICAgICAgICAgIHRoaXMuYXBwZW5kKE1hdGguY29zKHNrZXdZKSwgTWF0aC5zaW4oc2tld1kpLCAtTWF0aC5zaW4oc2tld1gpLCBNYXRoLmNvcyhza2V3WCksIHgsIHkpO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmQoY29zICogc2NhbGVYLCBzaW4gKiBzY2FsZVgsIC1zaW4gKiBzY2FsZVksIGNvcyAqIHNjYWxlWSwgMCwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZChjb3MgKiBzY2FsZVgsIHNpbiAqIHNjYWxlWCwgLXNpbiAqIHNjYWxlWSwgY29zICogc2NhbGVZLCB4LCB5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWdYIHx8IHJlZ1kpIHtcbiAgICAgICAgICAgIC8vIGFwcGVuZCB0aGUgcmVnaXN0cmF0aW9uIG9mZnNldDpcbiAgICAgICAgICAgIHRoaXMudHggLT0gcmVnWCAqIHRoaXMuYSArIHJlZ1kgKiB0aGlzLmM7XG4gICAgICAgICAgICB0aGlzLnR5IC09IHJlZ1ggKiB0aGlzLmIgKyByZWdZICogdGhpcy5kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgbWF0cml4IHByb3BlcnRpZXMgZnJvbSB0aGUgc3BlY2lmaWVkIGRpc3BsYXkgb2JqZWN0IHRyYW5zZm9ybSBwcm9wZXJ0aWVzLCBhbmQgcHJlcGVuZHMgdGhlbSB0byB0aGlzIG1hdHJpeC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgeW91IGNvdWxkIGNhbGN1bGF0ZSB0aGUgY29tYmluZWQgdHJhbnNmb3JtYXRpb24gZm9yIGEgY2hpbGQgb2JqZWN0IHVzaW5nOlxuICAgICAqXG4gICAgICogXHR2YXIgbyA9IG15RGlzcGxheU9iamVjdDtcbiAgICAgKiBcdHZhciBtdHggPSBuZXcgY3JlYXRlanMuTWF0cml4MkQoKTtcbiAgICAgKiBcdGRvICB7XG5cdCAqIFx0XHQvLyBwcmVwZW5kIGVhY2ggcGFyZW50J3MgdHJhbnNmb3JtYXRpb24gaW4gdHVybjpcblx0ICogXHRcdG10eC5wcmVwZW5kVHJhbnNmb3JtKG8ueCwgby55LCBvLnNjYWxlWCwgby5zY2FsZVksIG8ucm90YXRpb24sIG8uc2tld1gsIG8uc2tld1ksIG8ucmVnWCwgby5yZWdZKTtcblx0ICogXHR9IHdoaWxlIChvID0gby5wYXJlbnQpO1xuICAgICAqXG4gICAgICogXHROb3RlIHRoYXQgdGhlIGFib3ZlIGV4YW1wbGUgd291bGQgbm90IGFjY291bnQgZm9yIHt7I2Nyb3NzTGluayBcIkRpc3BsYXlPYmplY3QvdHJhbnNmb3JtTWF0cml4OnByb3BlcnR5XCJ9fXt7L2Nyb3NzTGlua319XG4gICAgICogXHR2YWx1ZXMuIFNlZSB7eyNjcm9zc0xpbmsgXCJNYXRyaXgyRC9wcmVwZW5kTWF0cml4XCJ9fXt7L2Nyb3NzTGlua319IGZvciBhbiBleGFtcGxlIHRoYXQgZG9lcy5cbiAgICAgKiBAbWV0aG9kIHByZXBlbmRUcmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlWFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsZVlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2tld1hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2tld1lcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVnWCBPcHRpb25hbC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVnWSBPcHRpb25hbC5cbiAgICAgKiBAcmV0dXJuIHtNYXRyaXgyRH0gVGhpcyBtYXRyaXguIFVzZWZ1bCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqKi9cbiAgICBwcmVwZW5kVHJhbnNmb3JtID0gZnVuY3Rpb24oeCwgeSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1ksIHJlZ1gsIHJlZ1kpIHtcbiAgICAgICAgaWYgKHJvdGF0aW9uICUgMzYwKSB7XG4gICAgICAgICAgICB2YXIgciA9IHJvdGF0aW9uICogREVHX1RPX1JBRDtcbiAgICAgICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhyKTtcbiAgICAgICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvcyA9IDE7XG4gICAgICAgICAgICBzaW4gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlZ1ggfHwgcmVnWSkge1xuICAgICAgICAgICAgLy8gcHJlcGVuZCB0aGUgcmVnaXN0cmF0aW9uIG9mZnNldDpcbiAgICAgICAgICAgIHRoaXMudHggLT0gcmVnWDsgdGhpcy50eSAtPSByZWdZO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2V3WCB8fCBza2V3WSkge1xuICAgICAgICAgICAgLy8gVE9ETzogY2FuIHRoaXMgYmUgY29tYmluZWQgaW50byBhIHNpbmdsZSBwcmVwZW5kIG9wZXJhdGlvbj9cbiAgICAgICAgICAgIHNrZXdYICo9IERFR19UT19SQUQ7XG4gICAgICAgICAgICBza2V3WSAqPSBERUdfVE9fUkFEO1xuICAgICAgICAgICAgdGhpcy5wcmVwZW5kKGNvcyAqIHNjYWxlWCwgc2luICogc2NhbGVYLCAtc2luICogc2NhbGVZLCBjb3MgKiBzY2FsZVksIDAsIDApO1xuICAgICAgICAgICAgdGhpcy5wcmVwZW5kKE1hdGguY29zKHNrZXdZKSwgTWF0aC5zaW4oc2tld1kpLCAtTWF0aC5zaW4oc2tld1gpLCBNYXRoLmNvcyhza2V3WCksIHgsIHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmVwZW5kKGNvcyAqIHNjYWxlWCwgc2luICogc2NhbGVYLCAtc2luICogc2NhbGVZLCBjb3MgKiBzY2FsZVksIHgsIHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG59XG4iXX0=