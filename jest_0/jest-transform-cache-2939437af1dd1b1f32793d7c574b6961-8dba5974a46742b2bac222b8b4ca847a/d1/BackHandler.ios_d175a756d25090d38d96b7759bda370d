08e7b05c683ffde72791732c30cff89b














'use strict';function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}

var Platform=require('Platform');
var TVEventHandler=require('TVEventHandler');





function emptyFunction(){}































var BackHandler=void 0;

if(Platform.isTVOS){
var _tvEventHandler=new TVEventHandler();
var _backPressSubscriptions=new Set();

_tvEventHandler.enable(this,function(cmp,evt){
if(evt&&evt.eventType==='menu'){
var backPressSubscriptions=new Set(_backPressSubscriptions);
var invokeDefault=true;
var subscriptions=[].concat(_toConsumableArray(backPressSubscriptions)).reverse();
for(var i=0;i<subscriptions.length;++i){
if(subscriptions[i]()){
invokeDefault=false;
break;
}
}

if(invokeDefault){
BackHandler.exitApp();
}
}
});

BackHandler={
exitApp:emptyFunction,

addEventListener:function addEventListener(
eventName,
handler)
{
_backPressSubscriptions.add(handler);
return{
remove:function remove(){return BackHandler.removeEventListener(eventName,handler);}};

},

removeEventListener:function removeEventListener(
eventName,
handler)
{
_backPressSubscriptions.delete(handler);
}};



}else{

BackHandler={
exitApp:emptyFunction,
addEventListener:function addEventListener(){
return{
remove:emptyFunction};

},
removeEventListener:emptyFunction};


}

module.exports=BackHandler;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkJhY2tIYW5kbGVyLmlvcy5qcyJdLCJuYW1lcyI6WyJQbGF0Zm9ybSIsInJlcXVpcmUiLCJUVkV2ZW50SGFuZGxlciIsImVtcHR5RnVuY3Rpb24iLCJCYWNrSGFuZGxlciIsImlzVFZPUyIsIl90dkV2ZW50SGFuZGxlciIsIl9iYWNrUHJlc3NTdWJzY3JpcHRpb25zIiwiU2V0IiwiZW5hYmxlIiwiY21wIiwiZXZ0IiwiZXZlbnRUeXBlIiwiYmFja1ByZXNzU3Vic2NyaXB0aW9ucyIsImludm9rZURlZmF1bHQiLCJzdWJzY3JpcHRpb25zIiwicmV2ZXJzZSIsImkiLCJsZW5ndGgiLCJleGl0QXBwIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJhZGQiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGVsZXRlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFjQSxhOztBQUVBLEdBQU1BLFVBQVdDLFFBQVEsVUFBUixDQUFqQjtBQUNBLEdBQU1DLGdCQUFpQkQsUUFBUSxnQkFBUixDQUF2Qjs7Ozs7O0FBTUEsUUFBU0UsY0FBVCxFQUF5QixDQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWdDM0IsR0FBSUMsbUJBQUo7O0FBRUEsR0FBSUosU0FBU0ssTUFBYixDQUFxQjtBQUNuQixHQUFNQyxpQkFBa0IsR0FBSUosZUFBSixFQUF4QjtBQUNBLEdBQUlLLHlCQUEwQixHQUFJQyxJQUFKLEVBQTlCOztBQUVBRixnQkFBZ0JHLE1BQWhCLENBQXVCLElBQXZCLENBQTZCLFNBQVNDLEdBQVQsQ0FBY0MsR0FBZCxDQUFtQjtBQUM5QyxHQUFJQSxLQUFPQSxJQUFJQyxTQUFKLEdBQWtCLE1BQTdCLENBQXFDO0FBQ25DLEdBQUlDLHdCQUF5QixHQUFJTCxJQUFKLENBQVFELHVCQUFSLENBQTdCO0FBQ0EsR0FBSU8sZUFBZ0IsSUFBcEI7QUFDQSxHQUFJQyxlQUFnQiw2QkFBSUYsc0JBQUosR0FBNEJHLE9BQTVCLEVBQXBCO0FBQ0EsSUFBSyxHQUFJQyxHQUFJLENBQWIsQ0FBZ0JBLEVBQUlGLGNBQWNHLE1BQWxDLENBQTBDLEVBQUVELENBQTVDLENBQStDO0FBQzdDLEdBQUlGLGNBQWNFLENBQWQsR0FBSixDQUF3QjtBQUN0QkgsY0FBZ0IsS0FBaEI7QUFDQTtBQUNEO0FBQ0Y7O0FBRUQsR0FBSUEsYUFBSixDQUFtQjtBQUNqQlYsWUFBWWUsT0FBWjtBQUNEO0FBQ0Y7QUFDRixDQWhCRDs7QUFrQkFmLFlBQWM7QUFDWmUsUUFBU2hCLGFBREc7O0FBR1ppQixpQkFBa0I7QUFDaEJDLFNBRGdCO0FBRWhCQyxPQUZnQjtBQUdNO0FBQ3RCZix3QkFBd0JnQixHQUF4QixDQUE0QkQsT0FBNUI7QUFDQSxNQUFPO0FBQ0xFLE9BQVEsd0JBQU1wQixhQUFZcUIsbUJBQVosQ0FBZ0NKLFNBQWhDLENBQTJDQyxPQUEzQyxDQUFOLEVBREgsQ0FBUDs7QUFHRCxDQVhXOztBQWFaRyxvQkFBcUI7QUFDbkJKLFNBRG1CO0FBRW5CQyxPQUZtQjtBQUdiO0FBQ05mLHdCQUF3Qm1CLE1BQXhCLENBQStCSixPQUEvQjtBQUNELENBbEJXLENBQWQ7Ozs7QUFzQkQsQ0E1Q0QsSUE0Q087O0FBRUxsQixZQUFjO0FBQ1plLFFBQVNoQixhQURHO0FBRVppQixnQkFGWSw0QkFFTztBQUNqQixNQUFPO0FBQ0xJLE9BQVFyQixhQURILENBQVA7O0FBR0QsQ0FOVztBQU9ac0Isb0JBQXFCdEIsYUFQVCxDQUFkOzs7QUFVRDs7QUFFRHdCLE9BQU9DLE9BQVAsQ0FBaUJ4QixXQUFqQiIsImZpbGUiOiJCYWNrSGFuZGxlci5pb3MuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKlxuICogT24gQXBwbGUgVFYsIHRoaXMgaW1wbGVtZW50cyBiYWNrIG5hdmlnYXRpb24gdXNpbmcgdGhlIFRWIHJlbW90ZSdzIG1lbnUgYnV0dG9uLlxuICogT24gaU9TLCB0aGlzIGp1c3QgaW1wbGVtZW50cyBhIHN0dWIuXG4gKlxuICogQHByb3ZpZGVzTW9kdWxlIEJhY2tIYW5kbGVyXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBQbGF0Zm9ybSA9IHJlcXVpcmUoJ1BsYXRmb3JtJyk7XG5jb25zdCBUVkV2ZW50SGFuZGxlciA9IHJlcXVpcmUoJ1RWRXZlbnRIYW5kbGVyJyk7XG5cbnR5cGUgQmFja1ByZXNzRXZlbnROYW1lID0gJEVudW08e1xuICBiYWNrUHJlc3M6IHN0cmluZyxcbn0+O1xuXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge31cblxuLyoqXG4gKiBEZXRlY3QgaGFyZHdhcmUgYnV0dG9uIHByZXNzZXMgZm9yIGJhY2sgbmF2aWdhdGlvbi5cbiAqXG4gKiBBbmRyb2lkOiBEZXRlY3QgaGFyZHdhcmUgYmFjayBidXR0b24gcHJlc3NlcywgYW5kIHByb2dyYW1tYXRpY2FsbHkgaW52b2tlIHRoZSBkZWZhdWx0IGJhY2sgYnV0dG9uXG4gKiBmdW5jdGlvbmFsaXR5IHRvIGV4aXQgdGhlIGFwcCBpZiB0aGVyZSBhcmUgbm8gbGlzdGVuZXJzIG9yIGlmIG5vbmUgb2YgdGhlIGxpc3RlbmVycyByZXR1cm4gdHJ1ZS5cbiAqXG4gKiB0dk9TOiBEZXRlY3QgcHJlc3NlcyBvZiB0aGUgbWVudSBidXR0b24gb24gdGhlIFRWIHJlbW90ZS4gIChTdGlsbCB0byBiZSBpbXBsZW1lbnRlZDpcbiAqIHByb2dyYW1tYXRpY2FsbHkgZGlzYWJsZSBtZW51IGJ1dHRvbiBoYW5kbGluZ1xuICogZnVuY3Rpb25hbGl0eSB0byBleGl0IHRoZSBhcHAgaWYgdGhlcmUgYXJlIG5vIGxpc3RlbmVycyBvciBpZiBub25lIG9mIHRoZSBsaXN0ZW5lcnMgcmV0dXJuIHRydWUuKVxuICpcbiAqIGlPUzogTm90IGFwcGxpY2FibGUuXG4gKlxuICogVGhlIGV2ZW50IHN1YnNjcmlwdGlvbnMgYXJlIGNhbGxlZCBpbiByZXZlcnNlIG9yZGVyIChpLmUuIGxhc3QgcmVnaXN0ZXJlZCBzdWJzY3JpcHRpb24gZmlyc3QpLFxuICogYW5kIGlmIG9uZSBzdWJzY3JpcHRpb24gcmV0dXJucyB0cnVlIHRoZW4gc3Vic2NyaXB0aW9ucyByZWdpc3RlcmVkIGVhcmxpZXIgd2lsbCBub3QgYmUgY2FsbGVkLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQmFja0hhbmRsZXIuYWRkRXZlbnRMaXN0ZW5lcignaGFyZHdhcmVCYWNrUHJlc3MnLCBmdW5jdGlvbigpIHtcbiAqICAvLyB0aGlzLm9uTWFpblNjcmVlbiBhbmQgdGhpcy5nb0JhY2sgYXJlIGp1c3QgZXhhbXBsZXMsIHlvdSBuZWVkIHRvIHVzZSB5b3VyIG93biBpbXBsZW1lbnRhdGlvbiBoZXJlXG4gKiAgLy8gVHlwaWNhbGx5IHlvdSB3b3VsZCB1c2UgdGhlIG5hdmlnYXRvciBoZXJlIHRvIGdvIHRvIHRoZSBsYXN0IHN0YXRlLlxuICpcbiAqICBpZiAoIXRoaXMub25NYWluU2NyZWVuKCkpIHtcbiAqICAgIHRoaXMuZ29CYWNrKCk7XG4gKiAgICByZXR1cm4gdHJ1ZTtcbiAqICB9XG4gKiAgcmV0dXJuIGZhbHNlO1xuICogfSk7XG4gKiBgYGBcbiAqL1xubGV0IEJhY2tIYW5kbGVyO1xuXG5pZiAoUGxhdGZvcm0uaXNUVk9TKSB7XG4gIGNvbnN0IF90dkV2ZW50SGFuZGxlciA9IG5ldyBUVkV2ZW50SGFuZGxlcigpO1xuICB2YXIgX2JhY2tQcmVzc1N1YnNjcmlwdGlvbnMgPSBuZXcgU2V0KCk7XG5cbiAgX3R2RXZlbnRIYW5kbGVyLmVuYWJsZSh0aGlzLCBmdW5jdGlvbihjbXAsIGV2dCkge1xuICAgIGlmIChldnQgJiYgZXZ0LmV2ZW50VHlwZSA9PT0gJ21lbnUnKSB7XG4gICAgICB2YXIgYmFja1ByZXNzU3Vic2NyaXB0aW9ucyA9IG5ldyBTZXQoX2JhY2tQcmVzc1N1YnNjcmlwdGlvbnMpO1xuICAgICAgdmFyIGludm9rZURlZmF1bHQgPSB0cnVlO1xuICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSBbLi4uYmFja1ByZXNzU3Vic2NyaXB0aW9uc10ucmV2ZXJzZSgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpcHRpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zW2ldKCkpIHtcbiAgICAgICAgICBpbnZva2VEZWZhdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGludm9rZURlZmF1bHQpIHtcbiAgICAgICAgQmFja0hhbmRsZXIuZXhpdEFwcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgQmFja0hhbmRsZXIgPSB7XG4gICAgZXhpdEFwcDogZW1wdHlGdW5jdGlvbixcblxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChcbiAgICAgIGV2ZW50TmFtZTogQmFja1ByZXNzRXZlbnROYW1lLFxuICAgICAgaGFuZGxlcjogRnVuY3Rpb25cbiAgICApOiB7cmVtb3ZlOiAoKSA9PiB2b2lkfSB7XG4gICAgICBfYmFja1ByZXNzU3Vic2NyaXB0aW9ucy5hZGQoaGFuZGxlcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmU6ICgpID0+IEJhY2tIYW5kbGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uKFxuICAgICAgZXZlbnROYW1lOiBCYWNrUHJlc3NFdmVudE5hbWUsXG4gICAgICBoYW5kbGVyOiBGdW5jdGlvblxuICAgICk6IHZvaWQge1xuICAgICAgX2JhY2tQcmVzc1N1YnNjcmlwdGlvbnMuZGVsZXRlKGhhbmRsZXIpO1xuICAgIH0sXG5cbiAgfTtcblxufSBlbHNlIHtcblxuICBCYWNrSGFuZGxlciA9IHtcbiAgICBleGl0QXBwOiBlbXB0eUZ1bmN0aW9uLFxuICAgIGFkZEV2ZW50TGlzdGVuZXIoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZW1vdmU6IGVtcHR5RnVuY3Rpb24sXG4gICAgICB9O1xuICAgIH0sXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogZW1wdHlGdW5jdGlvbixcbiAgfTtcblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEJhY2tIYW5kbGVyO1xuIl19