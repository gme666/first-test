c2f40c508630d116097b1763c5c6d527
































'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}

var Animated=require('react-native').Animated;
var NavigationCardStackPanResponder=require('./NavigationCardStackPanResponder');
var NavigationCardStackStyleInterpolator=require('./NavigationCardStackStyleInterpolator');
var NavigationContainer=require('./NavigationContainer');
var NavigationPagerPanResponder=require('./NavigationPagerPanResponder');
var NavigationPagerStyleInterpolator=require('./NavigationPagerStyleInterpolator');
var NavigationPointerEventsContainer=require('./NavigationPointerEventsContainer');
var NavigationPropTypes=require('./NavigationPropTypes');
var React=require('react');
var ReactComponentWithPureRenderMixin=require('react-addons-pure-render-mixin');
var StyleSheet=require('react-native').StyleSheet;
var View=require('react-native').View;var




















PropTypes=React.PropTypes;var

SceneView=function(_React$Component){_inherits(SceneView,_React$Component);function SceneView(){_classCallCheck(this,SceneView);return _possibleConstructorReturn(this,(SceneView.__proto__||Object.getPrototypeOf(SceneView)).apply(this,arguments));}_createClass(SceneView,[{key:'shouldComponentUpdate',value:function shouldComponentUpdate(






nextProps,nextState){
return(
nextProps.sceneRendererProps.scene.navigationState!==
this.props.sceneRendererProps.scene.navigationState);

}},{key:'render',value:function render()

{
return this.props.sceneRenderer(this.props.sceneRendererProps);
}}]);return SceneView;}(React.Component);SceneView.propTypes={sceneRenderer:PropTypes.func.isRequired,sceneRendererProps:NavigationPropTypes.SceneRenderer};var





NavigationCard=function(_React$Component2){_inherits(NavigationCard,_React$Component2);function NavigationCard(){_classCallCheck(this,NavigationCard);return _possibleConstructorReturn(this,(NavigationCard.__proto__||Object.getPrototypeOf(NavigationCard)).apply(this,arguments));}_createClass(NavigationCard,[{key:'shouldComponentUpdate',value:function shouldComponentUpdate(











nextProps,nextState){
return ReactComponentWithPureRenderMixin.shouldComponentUpdate.call(
this,
nextProps,
nextState);

}},{key:'render',value:function render()

{var _props=






this.props,panHandlers=_props.panHandlers,pointerEvents=_props.pointerEvents,renderScene=_props.renderScene,style=_props.style,props=_objectWithoutProperties(_props,['panHandlers','pointerEvents','renderScene','style']);

var viewStyle=style===undefined?
NavigationCardStackStyleInterpolator.forHorizontal(props):
style;

var viewPanHandlers=panHandlers===undefined?
NavigationCardStackPanResponder.forHorizontal(props):
panHandlers;

return(
React.createElement(Animated.View,_extends({},
viewPanHandlers,{
pointerEvents:pointerEvents,
ref:this.props.onComponentRef,
style:[styles.main,viewStyle]}),
React.createElement(SceneView,{
sceneRenderer:renderScene,
sceneRendererProps:props})));



}}]);return NavigationCard;}(React.Component);NavigationCard.propTypes=_extends({},NavigationPropTypes.SceneRendererProps,{onComponentRef:PropTypes.func.isRequired,panHandlers:NavigationPropTypes.panHandlers,pointerEvents:PropTypes.string.isRequired,renderScene:PropTypes.func.isRequired,style:PropTypes.any});


var styles=StyleSheet.create({
main:{
backgroundColor:'white',
bottom:0,
left:0,
position:'absolute',
right:0,
top:0}});



NavigationCard=NavigationPointerEventsContainer.create(NavigationCard);
NavigationCard=NavigationContainer.create(NavigationCard);


NavigationCard.CardStackPanResponder=NavigationCardStackPanResponder;
NavigationCard.CardStackStyleInterpolator=NavigationCardStackStyleInterpolator;
NavigationCard.PagerPanResponder=NavigationPagerPanResponder;
NavigationCard.PagerStyleInterpolator=NavigationPagerStyleInterpolator;

module.exports=NavigationCard;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk5hdmlnYXRpb25DYXJkLmpzIl0sIm5hbWVzIjpbIkFuaW1hdGVkIiwicmVxdWlyZSIsIk5hdmlnYXRpb25DYXJkU3RhY2tQYW5SZXNwb25kZXIiLCJOYXZpZ2F0aW9uQ2FyZFN0YWNrU3R5bGVJbnRlcnBvbGF0b3IiLCJOYXZpZ2F0aW9uQ29udGFpbmVyIiwiTmF2aWdhdGlvblBhZ2VyUGFuUmVzcG9uZGVyIiwiTmF2aWdhdGlvblBhZ2VyU3R5bGVJbnRlcnBvbGF0b3IiLCJOYXZpZ2F0aW9uUG9pbnRlckV2ZW50c0NvbnRhaW5lciIsIk5hdmlnYXRpb25Qcm9wVHlwZXMiLCJSZWFjdCIsIlJlYWN0Q29tcG9uZW50V2l0aFB1cmVSZW5kZXJNaXhpbiIsIlN0eWxlU2hlZXQiLCJWaWV3IiwiUHJvcFR5cGVzIiwiU2NlbmVWaWV3IiwibmV4dFByb3BzIiwibmV4dFN0YXRlIiwic2NlbmVSZW5kZXJlclByb3BzIiwic2NlbmUiLCJuYXZpZ2F0aW9uU3RhdGUiLCJwcm9wcyIsInNjZW5lUmVuZGVyZXIiLCJDb21wb25lbnQiLCJwcm9wVHlwZXMiLCJmdW5jIiwiaXNSZXF1aXJlZCIsIlNjZW5lUmVuZGVyZXIiLCJOYXZpZ2F0aW9uQ2FyZCIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImNhbGwiLCJwYW5IYW5kbGVycyIsInBvaW50ZXJFdmVudHMiLCJyZW5kZXJTY2VuZSIsInN0eWxlIiwidmlld1N0eWxlIiwidW5kZWZpbmVkIiwiZm9ySG9yaXpvbnRhbCIsInZpZXdQYW5IYW5kbGVycyIsIm9uQ29tcG9uZW50UmVmIiwic3R5bGVzIiwibWFpbiIsIlNjZW5lUmVuZGVyZXJQcm9wcyIsInN0cmluZyIsImFueSIsImNyZWF0ZSIsImJhY2tncm91bmRDb2xvciIsImJvdHRvbSIsImxlZnQiLCJwb3NpdGlvbiIsInJpZ2h0IiwidG9wIiwiQ2FyZFN0YWNrUGFuUmVzcG9uZGVyIiwiQ2FyZFN0YWNrU3R5bGVJbnRlcnBvbGF0b3IiLCJQYWdlclBhblJlc3BvbmRl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ckIsR0FBTUosUUFBUzVCLFdBQVdpQyxNQUFYLENBQWtCO0FBQy9CSixLQUFNO0FBQ0pLLGdCQUFpQixPQURiO0FBRUpDLE9BQVEsQ0FGSjtBQUdKQyxLQUFNLENBSEY7QUFJSkMsU0FBVSxVQUpOO0FBS0pDLE1BQU8sQ0FMSDtBQU1KQyxJQUFLLENBTkQsQ0FEeUIsQ0FBbEIsQ0FBZjs7OztBQVdBdkIsZUFBaUJwQixpQ0FBaUNxQyxNQUFqQyxDQUF3Q2pCLGNBQXhDLENBQWpCO0FBQ0FBLGVBQWlCdkIsb0JBQW9Cd0MsTUFBcEIsQ0FBMkJqQixjQUEzQixDQUFqQjs7O0FBR0FBLGVBQWV3QixxQkFBZixDQUF1Q2pELCtCQUF2QztBQUNBeUIsZUFBZXlCLDBCQUFmLENBQTRDakQsb0NBQTVDO0FBQ0F3QixlQUFlMEIsaUJBQWYsQ0FBbUNoRCwyQkFBbkM7QUFDQXNCLGVBQWUyQixzQkFBZixDQUF3Q2hELGdDQUF4Qzs7QUFFQWlELE9BQU9DLE9BQVAsQ0FBaUI3QixjQUFqQiIsImZpbGUiOiJOYXZpZ2F0aW9uQ2FyZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqXG4gKiBGYWNlYm9vaywgSW5jLiAoXCJGYWNlYm9va1wiKSBvd25zIGFsbCByaWdodCwgdGl0bGUgYW5kIGludGVyZXN0LCBpbmNsdWRpbmdcbiAqIGFsbCBpbnRlbGxlY3R1YWwgcHJvcGVydHkgYW5kIG90aGVyIHByb3ByaWV0YXJ5IHJpZ2h0cywgaW4gYW5kIHRvIHRoZSBSZWFjdFxuICogTmF0aXZlIEN1c3RvbUNvbXBvbmVudHMgc29mdHdhcmUgKHRoZSBcIlNvZnR3YXJlXCIpLiAgU3ViamVjdCB0byB5b3VyXG4gKiBjb21wbGlhbmNlIHdpdGggdGhlc2UgdGVybXMsIHlvdSBhcmUgaGVyZWJ5IGdyYW50ZWQgYSBub24tZXhjbHVzaXZlLFxuICogd29ybGR3aWRlLCByb3lhbHR5LWZyZWUgY29weXJpZ2h0IGxpY2Vuc2UgdG8gKDEpIHVzZSBhbmQgY29weSB0aGUgU29mdHdhcmU7XG4gKiBhbmQgKDIpIHJlcHJvZHVjZSBhbmQgZGlzdHJpYnV0ZSB0aGUgU29mdHdhcmUgYXMgcGFydCBvZiB5b3VyIG93biBzb2Z0d2FyZVxuICogKFwiWW91ciBTb2Z0d2FyZVwiKS4gIEZhY2Vib29rIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvXG4gKiB5b3UgaW4gdGhpcyBsaWNlbnNlIGFncmVlbWVudC5cbiAqXG4gKiBUSEUgU09GVFdBUkUgQU5EIERPQ1VNRU5UQVRJT04sIElGIEFOWSwgQVJFIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1NcbiAqIE9SIElNUExJRUQgV0FSUkFOVElFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVNcbiAqIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UpIEFSRSBESVNDTEFJTUVELlxuICogSU4gTk8gRVZFTlQgU0hBTEwgRkFDRUJPT0sgT1IgSVRTIEFGRklMSUFURVMsIE9GRklDRVJTLCBESVJFQ1RPUlMgT1JcbiAqIEVNUExPWUVFUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLFxuICogRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLFxuICogUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7XG4gKiBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSxcbiAqIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SXG4gKiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSEUgU09GVFdBUkUsIEVWRU4gSUZcbiAqIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBOYXZpZ2F0aW9uQ2FyZFxuICogQGZsb3dcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBBbmltYXRlZCA9IHJlcXVpcmUoJ3JlYWN0LW5hdGl2ZScpLkFuaW1hdGVkO1xuY29uc3QgTmF2aWdhdGlvbkNhcmRTdGFja1BhblJlc3BvbmRlciA9IHJlcXVpcmUoJy4vTmF2aWdhdGlvbkNhcmRTdGFja1BhblJlc3BvbmRlcicpO1xuY29uc3QgTmF2aWdhdGlvbkNhcmRTdGFja1N0eWxlSW50ZXJwb2xhdG9yID0gcmVxdWlyZSgnLi9OYXZpZ2F0aW9uQ2FyZFN0YWNrU3R5bGVJbnRlcnBvbGF0b3InKTtcbmNvbnN0IE5hdmlnYXRpb25Db250YWluZXIgPSByZXF1aXJlKCcuL05hdmlnYXRpb25Db250YWluZXInKTtcbmNvbnN0IE5hdmlnYXRpb25QYWdlclBhblJlc3BvbmRlciA9IHJlcXVpcmUoJy4vTmF2aWdhdGlvblBhZ2VyUGFuUmVzcG9uZGVyJyk7XG5jb25zdCBOYXZpZ2F0aW9uUGFnZXJTdHlsZUludGVycG9sYXRvciA9IHJlcXVpcmUoJy4vTmF2aWdhdGlvblBhZ2VyU3R5bGVJbnRlcnBvbGF0b3InKTtcbmNvbnN0IE5hdmlnYXRpb25Qb2ludGVyRXZlbnRzQ29udGFpbmVyID0gcmVxdWlyZSgnLi9OYXZpZ2F0aW9uUG9pbnRlckV2ZW50c0NvbnRhaW5lcicpO1xuY29uc3QgTmF2aWdhdGlvblByb3BUeXBlcyA9IHJlcXVpcmUoJy4vTmF2aWdhdGlvblByb3BUeXBlcycpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuY29uc3QgUmVhY3RDb21wb25lbnRXaXRoUHVyZVJlbmRlck1peGluID0gcmVxdWlyZSgncmVhY3QtYWRkb25zLXB1cmUtcmVuZGVyLW1peGluJyk7XG5jb25zdCBTdHlsZVNoZWV0ID0gcmVxdWlyZSgncmVhY3QtbmF0aXZlJykuU3R5bGVTaGVldDtcbmNvbnN0IFZpZXcgPSByZXF1aXJlKCdyZWFjdC1uYXRpdmUnKS5WaWV3O1xuXG5pbXBvcnQgdHlwZSAge1xuICBOYXZpZ2F0aW9uUGFuUGFuSGFuZGxlcnMsXG4gIE5hdmlnYXRpb25TY2VuZVJlbmRlcmVyLFxuICBOYXZpZ2F0aW9uU2NlbmVSZW5kZXJlclByb3BzLFxufSBmcm9tICdOYXZpZ2F0aW9uVHlwZURlZmluaXRpb24nO1xuXG50eXBlIFNjZW5lVmlld1Byb3BzID0gIHtcbiAgc2NlbmVSZW5kZXJlcjogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXIsXG4gIHNjZW5lUmVuZGVyZXJQcm9wczogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXJQcm9wcyxcbn07XG5cbnR5cGUgUHJvcHMgPSBOYXZpZ2F0aW9uU2NlbmVSZW5kZXJlclByb3BzICYge1xuICBvbkNvbXBvbmVudFJlZjogKHJlZjogYW55KSA9PiB2b2lkLFxuICBwYW5IYW5kbGVyczogP05hdmlnYXRpb25QYW5QYW5IYW5kbGVycyxcbiAgcG9pbnRlckV2ZW50czogc3RyaW5nLFxuICByZW5kZXJTY2VuZTogTmF2aWdhdGlvblNjZW5lUmVuZGVyZXIsXG4gIHN0eWxlOiBhbnksXG59O1xuXG5jb25zdCB7UHJvcFR5cGVzfSA9IFJlYWN0O1xuXG5jbGFzcyBTY2VuZVZpZXcgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55LCBTY2VuZVZpZXdQcm9wcywgYW55PiB7XG5cbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICBzY2VuZVJlbmRlcmVyOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHNjZW5lUmVuZGVyZXJQcm9wczogTmF2aWdhdGlvblByb3BUeXBlcy5TY2VuZVJlbmRlcmVyLFxuICB9O1xuXG4gIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHM6IFNjZW5lVmlld1Byb3BzLCBuZXh0U3RhdGU6IGFueSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBuZXh0UHJvcHMuc2NlbmVSZW5kZXJlclByb3BzLnNjZW5lLm5hdmlnYXRpb25TdGF0ZSAhPT1cbiAgICAgICAgdGhpcy5wcm9wcy5zY2VuZVJlbmRlcmVyUHJvcHMuc2NlbmUubmF2aWdhdGlvblN0YXRlXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpOiA/UmVhY3RFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5zY2VuZVJlbmRlcmVyKHRoaXMucHJvcHMuc2NlbmVSZW5kZXJlclByb3BzKTtcbiAgfVxufVxuXG4vKipcbiAqIENvbXBvbmVudCB0aGF0IHJlbmRlcnMgdGhlIHNjZW5lIGFzIGNhcmQgZm9yIHRoZSA8TmF2aWdhdGlvbkNhcmRTdGFjayAvPi5cbiAqL1xuY2xhc3MgTmF2aWdhdGlvbkNhcmQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55LCBQcm9wcywgYW55PiB7XG4gIHByb3BzOiBQcm9wcztcblxuICBzdGF0aWMgcHJvcFR5cGVzID0ge1xuICAgIC4uLk5hdmlnYXRpb25Qcm9wVHlwZXMuU2NlbmVSZW5kZXJlclByb3BzLFxuICAgIG9uQ29tcG9uZW50UmVmOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHBhbkhhbmRsZXJzOiBOYXZpZ2F0aW9uUHJvcFR5cGVzLnBhbkhhbmRsZXJzLFxuICAgIHBvaW50ZXJFdmVudHM6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICByZW5kZXJTY2VuZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBzdHlsZTogUHJvcFR5cGVzLmFueSxcbiAgfTtcblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzOiBQcm9wcywgbmV4dFN0YXRlOiBhbnkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gUmVhY3RDb21wb25lbnRXaXRoUHVyZVJlbmRlck1peGluLnNob3VsZENvbXBvbmVudFVwZGF0ZS5jYWxsKFxuICAgICAgdGhpcyxcbiAgICAgIG5leHRQcm9wcyxcbiAgICAgIG5leHRTdGF0ZVxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKTogUmVhY3RFbGVtZW50IHtcbiAgICBjb25zdCB7XG4gICAgICBwYW5IYW5kbGVycyxcbiAgICAgIHBvaW50ZXJFdmVudHMsXG4gICAgICByZW5kZXJTY2VuZSxcbiAgICAgIHN0eWxlLFxuICAgICAgLi4ucHJvcHMsIC8qIE5hdmlnYXRpb25TY2VuZVJlbmRlcmVyUHJvcHMgKi9cbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHZpZXdTdHlsZSA9IHN0eWxlID09PSB1bmRlZmluZWQgP1xuICAgICAgTmF2aWdhdGlvbkNhcmRTdGFja1N0eWxlSW50ZXJwb2xhdG9yLmZvckhvcml6b250YWwocHJvcHMpIDpcbiAgICAgIHN0eWxlO1xuXG4gICAgY29uc3Qgdmlld1BhbkhhbmRsZXJzID0gcGFuSGFuZGxlcnMgPT09IHVuZGVmaW5lZCA/XG4gICAgICBOYXZpZ2F0aW9uQ2FyZFN0YWNrUGFuUmVzcG9uZGVyLmZvckhvcml6b250YWwocHJvcHMpIDpcbiAgICAgIHBhbkhhbmRsZXJzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxBbmltYXRlZC5WaWV3XG4gICAgICAgIHsuLi52aWV3UGFuSGFuZGxlcnN9XG4gICAgICAgIHBvaW50ZXJFdmVudHM9e3BvaW50ZXJFdmVudHN9XG4gICAgICAgIHJlZj17dGhpcy5wcm9wcy5vbkNvbXBvbmVudFJlZn1cbiAgICAgICAgc3R5bGU9e1tzdHlsZXMubWFpbiwgdmlld1N0eWxlXX0+XG4gICAgICAgIDxTY2VuZVZpZXdcbiAgICAgICAgICBzY2VuZVJlbmRlcmVyPXtyZW5kZXJTY2VuZX1cbiAgICAgICAgICBzY2VuZVJlbmRlcmVyUHJvcHM9e3Byb3BzfVxuICAgICAgICAvPlxuICAgICAgPC9BbmltYXRlZC5WaWV3PlxuICAgICk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBtYWluOiB7XG4gICAgYmFja2dyb3VuZENvbG9yOiAnd2hpdGUnLFxuICAgIGJvdHRvbTogMCxcbiAgICBsZWZ0OiAwLFxuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHJpZ2h0OiAwLFxuICAgIHRvcDogMCxcbiAgfSxcbn0pO1xuXG5OYXZpZ2F0aW9uQ2FyZCA9IE5hdmlnYXRpb25Qb2ludGVyRXZlbnRzQ29udGFpbmVyLmNyZWF0ZShOYXZpZ2F0aW9uQ2FyZCk7XG5OYXZpZ2F0aW9uQ2FyZCA9IE5hdmlnYXRpb25Db250YWluZXIuY3JlYXRlKE5hdmlnYXRpb25DYXJkKTtcblxuLy8gRXhwb3J0IHRoZXNlIGJ1aWwtaW4gaW50ZXJhY3Rpb24gbW9kdWxlcy5cbk5hdmlnYXRpb25DYXJkLkNhcmRTdGFja1BhblJlc3BvbmRlciA9IE5hdmlnYXRpb25DYXJkU3RhY2tQYW5SZXNwb25kZXI7XG5OYXZpZ2F0aW9uQ2FyZC5DYXJkU3RhY2tTdHlsZUludGVycG9sYXRvciA9IE5hdmlnYXRpb25DYXJkU3RhY2tTdHlsZUludGVycG9sYXRvcjtcbk5hdmlnYXRpb25DYXJkLlBhZ2VyUGFuUmVzcG9uZGVyID0gTmF2aWdhdGlvblBhZ2VyUGFuUmVzcG9uZGVyO1xuTmF2aWdhdGlvbkNhcmQuUGFnZXJTdHlsZUludGVycG9sYXRvciA9IE5hdmlnYXRpb25QYWdlclN0eWxlSW50ZXJwb2xhdG9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE5hdmlnYXRpb25DYXJkO1xuIl19