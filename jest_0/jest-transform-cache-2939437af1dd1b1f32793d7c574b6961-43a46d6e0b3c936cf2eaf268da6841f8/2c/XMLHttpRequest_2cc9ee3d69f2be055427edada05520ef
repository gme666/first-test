b23067e949f19a7b03b4fe746a2c2b40











'use strict';var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}

var EventTarget=require('event-target-shim');
var RCTNetworking=require('RCTNetworking');

var base64=require('base64-js');
var invariant=require('fbjs/lib/invariant');
var warning=require('fbjs/lib/warning');































var UNSENT=0;
var OPENED=1;
var HEADERS_RECEIVED=2;
var LOADING=3;
var DONE=4;

var SUPPORTED_RESPONSE_TYPES={
arraybuffer:typeof global.ArrayBuffer==='function',
blob:typeof global.Blob==='function',
document:false,
json:true,
text:true,
'':true};


var REQUEST_EVENTS=[
'abort',
'error',
'load',
'loadstart',
'progress',
'timeout',
'loadend'];


var XHR_EVENTS=REQUEST_EVENTS.concat('readystatechange');var

XMLHttpRequestEventTarget=function(_EventTarget){_inherits(XMLHttpRequestEventTarget,_EventTarget);function XMLHttpRequestEventTarget(){_classCallCheck(this,XMLHttpRequestEventTarget);return _possibleConstructorReturn(this,(XMLHttpRequestEventTarget.__proto__||Object.getPrototypeOf(XMLHttpRequestEventTarget)).apply(this,arguments));}return XMLHttpRequestEventTarget;}(EventTarget.apply(undefined,REQUEST_EVENTS));var












XMLHttpRequest=function(_EventTarget2){_inherits(XMLHttpRequest,_EventTarget2);_createClass(XMLHttpRequest,null,[{key:'setInterceptor',value:function setInterceptor(




















































interceptor){
XMLHttpRequest._interceptor=interceptor;
}}]);

function XMLHttpRequest(){_classCallCheck(this,XMLHttpRequest);var _this2=_possibleConstructorReturn(this,(XMLHttpRequest.__proto__||Object.getPrototypeOf(XMLHttpRequest)).call(this));_this2.UNSENT=UNSENT;_this2.OPENED=OPENED;_this2.HEADERS_RECEIVED=HEADERS_RECEIVED;_this2.LOADING=LOADING;_this2.DONE=DONE;_this2.readyState=UNSENT;_this2.status=0;_this2.timeout=0;_this2.withCredentials=true;_this2.upload=new XMLHttpRequestEventTarget();_this2._aborted=false;_this2._hasError=false;_this2._method=null;_this2._response='';_this2._url=null;_this2._timedOut=false;_this2._trackingName='unknown';_this2._incrementalEvents=false;

_this2._reset();return _this2;
}_createClass(XMLHttpRequest,[{key:'_reset',value:function _reset()

{
this.readyState=this.UNSENT;
this.responseHeaders=undefined;
this.status=0;
delete this.responseURL;

this._requestId=null;

this._cachedResponse=undefined;
this._hasError=false;
this._headers={};
this._response='';
this._responseType='';
this._sent=false;
this._lowerCaseResponseHeaders={};

this._clearSubscriptions();
this._timedOut=false;
}},{key:'__didCreateRequest',value:function __didCreateRequest(

























































































requestId){
this._requestId=requestId;

XMLHttpRequest._interceptor&&XMLHttpRequest._interceptor.requestSent(
requestId,
this._url||'',
this._method||'GET',
this._headers);
}},{key:'__didUploadProgress',value:function __didUploadProgress(



requestId,
progress,
total)
{
if(requestId===this._requestId){
this.upload.dispatchEvent({
type:'progress',
lengthComputable:true,
loaded:progress,
total:total});

}
}},{key:'__didReceiveResponse',value:function __didReceiveResponse(


requestId,
status,
responseHeaders,
responseURL)
{
if(requestId===this._requestId){
this.status=status;
this.setResponseHeaders(responseHeaders);
this.setReadyState(this.HEADERS_RECEIVED);
if(responseURL||responseURL===''){
this.responseURL=responseURL;
}else{
delete this.responseURL;
}

XMLHttpRequest._interceptor&&XMLHttpRequest._interceptor.responseReceived(
requestId,
responseURL||this._url||'',
status,
responseHeaders||{});
}
}},{key:'__didReceiveData',value:function __didReceiveData(

requestId,response){
if(requestId!==this._requestId){
return;
}
this._response=response;
this._cachedResponse=undefined;
this.setReadyState(this.LOADING);

XMLHttpRequest._interceptor&&XMLHttpRequest._interceptor.dataReceived(
requestId,
response);
}},{key:'__didReceiveIncrementalData',value:function __didReceiveIncrementalData(


requestId,
responseText,
progress,
total)
{
if(requestId!==this._requestId){
return;
}
if(!this._response){
this._response=responseText;
}else{
this._response+=responseText;
}

XMLHttpRequest._interceptor&&XMLHttpRequest._interceptor.dataReceived(
requestId,
responseText);

this.setReadyState(this.LOADING);
this.__didReceiveDataProgress(requestId,progress,total);
}},{key:'__didReceiveDataProgress',value:function __didReceiveDataProgress(


requestId,
loaded,
total)
{
if(requestId!==this._requestId){
return;
}
this.dispatchEvent({
type:'progress',
lengthComputable:total>=0,
loaded:loaded,
total:total});

}},{key:'__didCompleteResponse',value:function __didCompleteResponse(



requestId,
error,
timeOutError)
{
if(requestId===this._requestId){
if(error){
if(this._responseType===''||this._responseType==='text'){
this._response=error;
}
this._hasError=true;
if(timeOutError){
this._timedOut=true;
}
}
this._clearSubscriptions();
this._requestId=null;
this.setReadyState(this.DONE);

if(error){
XMLHttpRequest._interceptor&&XMLHttpRequest._interceptor.loadingFailed(
requestId,
error);
}else{
XMLHttpRequest._interceptor&&XMLHttpRequest._interceptor.loadingFinished(
requestId,
this._response.length);
}
}
}},{key:'_clearSubscriptions',value:function _clearSubscriptions()

{
(this._subscriptions||[]).forEach(function(sub){
sub.remove();
});
this._subscriptions=[];
}},{key:'getAllResponseHeaders',value:function getAllResponseHeaders()

{
if(!this.responseHeaders){

return null;
}
var headers=this.responseHeaders||{};
return Object.keys(headers).map(function(headerName){
return headerName+': '+headers[headerName];
}).join('\r\n');
}},{key:'getResponseHeader',value:function getResponseHeader(

header){
var value=this._lowerCaseResponseHeaders[header.toLowerCase()];
return value!==undefined?value:null;
}},{key:'setRequestHeader',value:function setRequestHeader(

header,value){
if(this.readyState!==this.OPENED){
throw new Error('Request has not been opened');
}
this._headers[header.toLowerCase()]=String(value);
}},{key:'setTrackingName',value:function setTrackingName(




trackingName){
this._trackingName=trackingName;
return this;
}},{key:'open',value:function open(

method,url,async){

if(this.readyState!==this.UNSENT){
throw new Error('Cannot open, already sending');
}
if(async!==undefined&&!async){

throw new Error('Synchronous http requests are not supported');
}
if(!url){
throw new Error('Cannot load an empty url');
}
this._method=method.toUpperCase();
this._url=url;
this._aborted=false;
this.setReadyState(this.OPENED);
}},{key:'send',value:function send(

data){var _this3=this;
if(this.readyState!==this.OPENED){
throw new Error('Request has not been opened');
}
if(this._sent){
throw new Error('Request has already been sent');
}
this._sent=true;
var incrementalEvents=this._incrementalEvents||
!!this.onreadystatechange||
!!this.onprogress;

this._subscriptions.push(RCTNetworking.addListener(
'didSendNetworkData',
function(args){return _this3.__didUploadProgress.apply(_this3,_toConsumableArray(args));}));

this._subscriptions.push(RCTNetworking.addListener(
'didReceiveNetworkResponse',
function(args){return _this3.__didReceiveResponse.apply(_this3,_toConsumableArray(args));}));

this._subscriptions.push(RCTNetworking.addListener(
'didReceiveNetworkData',
function(args){return _this3.__didReceiveData.apply(_this3,_toConsumableArray(args));}));

this._subscriptions.push(RCTNetworking.addListener(
'didReceiveNetworkIncrementalData',
function(args){return _this3.__didReceiveIncrementalData.apply(_this3,_toConsumableArray(args));}));

this._subscriptions.push(RCTNetworking.addListener(
'didReceiveNetworkDataProgress',
function(args){return _this3.__didReceiveDataProgress.apply(_this3,_toConsumableArray(args));}));

this._subscriptions.push(RCTNetworking.addListener(
'didCompleteNetworkResponse',
function(args){return _this3.__didCompleteResponse.apply(_this3,_toConsumableArray(args));}));


var nativeResponseType='text';
if(this._responseType==='arraybuffer'||this._responseType==='blob'){
nativeResponseType='base64';
}

invariant(this._method,'Request method needs to be defined.');
invariant(this._url,'Request URL needs to be defined.');
RCTNetworking.sendRequest(
this._method,
this._trackingName,
this._url,
this._headers,
data,
nativeResponseType,
incrementalEvents,
this.timeout,
this.__didCreateRequest.bind(this),
this.withCredentials);

}},{key:'abort',value:function abort()

{
this._aborted=true;
if(this._requestId){
RCTNetworking.abortRequest(this._requestId);
}


if(!(this.readyState===this.UNSENT||
this.readyState===this.OPENED&&!this._sent||
this.readyState===this.DONE)){
this._reset();
this.setReadyState(this.DONE);
}

this._reset();
}},{key:'setResponseHeaders',value:function setResponseHeaders(

responseHeaders){
this.responseHeaders=responseHeaders||null;
var headers=responseHeaders||{};
this._lowerCaseResponseHeaders=
Object.keys(headers).reduce(function(lcaseHeaders,headerName){
lcaseHeaders[headerName.toLowerCase()]=headers[headerName];
return lcaseHeaders;
},{});
}},{key:'setReadyState',value:function setReadyState(

newState){
this.readyState=newState;
this.dispatchEvent({type:'readystatechange'});
if(newState===this.DONE){
if(this._aborted){
this.dispatchEvent({type:'abort'});
}else if(this._hasError){
if(this._timedOut){
this.dispatchEvent({type:'timeout'});
}else{
this.dispatchEvent({type:'error'});
}
}else{
this.dispatchEvent({type:'load'});
}
this.dispatchEvent({type:'loadend'});
}
}},{key:'addEventListener',value:function addEventListener(


type,listener){




if(type==='readystatechange'||type==='progress'){
this._incrementalEvents=true;
}
_get(XMLHttpRequest.prototype.__proto__||Object.getPrototypeOf(XMLHttpRequest.prototype),'addEventListener',this).call(this,type,listener);
}},{key:'responseType',get:function get(){return this._responseType;},set:function set(responseType){if(this._sent){throw new Error('Failed to set the \'responseType\' property on \'XMLHttpRequest\': The '+'response type cannot be set after the request has been sent.');}if(!SUPPORTED_RESPONSE_TYPES.hasOwnProperty(responseType)){warning(false,'The provided value \''+responseType+'\' is not a valid \'responseType\'.');return;}invariant(SUPPORTED_RESPONSE_TYPES[responseType]||responseType==='document','The provided value \''+responseType+'\' is unsupported in this environment.');this._responseType=responseType;}},{key:'responseText',get:function get(){if(this._responseType!==''&&this._responseType!=='text'){throw new Error("The 'responseText' property is only available if 'responseType' "+('is set to \'\' or \'text\', but it is \''+this._responseType+'\'.'));}if(this.readyState<LOADING){return'';}return this._response;}},{key:'response',get:function get(){var responseType=this.responseType;if(responseType===''||responseType==='text'){return this.readyState<LOADING||this._hasError?'':this._response;}if(this.readyState!==DONE){return null;}if(this._cachedResponse!==undefined){return this._cachedResponse;}switch(responseType){case'document':this._cachedResponse=null;break;case'arraybuffer':this._cachedResponse=base64.toByteArray(this._response).buffer;break;case'blob':this._cachedResponse=new global.Blob([base64.toByteArray(this._response).buffer],{type:this.getResponseHeader('content-type')||''});break;case'json':try{this._cachedResponse=JSON.parse(this._response);}catch(_){this._cachedResponse=null;}break;default:this._cachedResponse=null;}return this._cachedResponse;}}]);return XMLHttpRequest;}(EventTarget.apply(undefined,_toConsumableArray(XHR_EVENTS)));XMLHttpRequest.UNSENT=UNSENT;XMLHttpRequest.OPENED=OPENED;XMLHttpRequest.HEADERS_RECEIVED=HEADERS_RECEIVED;XMLHttpRequest.LOADING=LOADING;XMLHttpRequest.DONE=DONE;XMLHttpRequest._interceptor=null;


module.exports=XMLHttpRequest;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlhNTEh0dHBSZXF1ZXN0LmpzIl0sIm5hbWVzIjpbIkV2ZW50VGFyZ2V0IiwicmVxdWlyZSIsIlJDVE5ldHdvcmtpbmciLCJiYXNlNjQiLCJpbnZhcmlhbnQiLCJ3YXJuaW5nIiwiVU5TRU5UIiwiT1BFTkVEIiwiSEVBREVSU19SRUNFSVZFRCIsIkxPQURJTkciLCJET05FIiwiU1VQUE9SVEVEX1JFU1BPTlNFX1RZUEVTIiwiYXJyYXlidWZmZXIiLCJnbG9iYWwiLCJBcnJheUJ1ZmZlciIsImJsb2IiLCJCbG9iIiwiZG9jdW1lbnQiLCJqc29uIiwidGV4dCIsIlJFUVVFU1RfRVZFTlRTIiwiWEhSX0VWRU5UUyIsImNvbmNhdCIsIlhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQiLCJYTUxIdHRwUmVxdWVzdCIsImludGVyY2VwdG9yIiwiX2ludGVyY2VwdG9yIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInRpbWVvdXQiLCJ3aXRoQ3JlZGVudGlhbHMiLCJ1cGxvYWQiLCJfYWJvcnRlZCIsIl9oYXNFcnJvciIsIl9tZXRob2QiLCJfcmVzcG9uc2UiLCJfdXJsIiwiX3RpbWVkT3V0IiwiX3RyYWNraW5nTmFtZSIsIl9pbmNyZW1lbnRhbEV2ZW50cyIsIl9yZXNldCIsInJlc3BvbnNlSGVhZGVycyIsInVuZGVmaW5lZCIsInJlc3BvbnNlVVJMIiwiX3JlcXVlc3RJZCIsIl9jYWNoZWRSZXNwb25zZSIsIl9oZWFkZXJzIiwiX3Jlc3BvbnNlVHlwZSIsIl9zZW50IiwiX2xvd2VyQ2FzZVJlc3BvbnNlSGVhZGVycyIsIl9jbGVhclN1YnNjcmlwdGlvbnMiLCJyZXF1ZXN0SWQiLCJyZXF1ZXN0U2VudCIsInByb2dyZXNzIiwidG90YWwiLCJkaXNwYXRjaEV2ZW50IiwidHlwZSIsImxlbmd0aENvbXB1dGFibGUiLCJsb2FkZWQiLCJzZXRSZXNwb25zZUhlYWRlcnMiLCJzZXRSZWFkeVN0YXRlIiwicmVzcG9uc2VSZWNlaXZlZCIsInJlc3BvbnNlIiwiZGF0YVJlY2VpdmVkIiwicmVzcG9uc2VUZXh0IiwiX19kaWRSZWNlaXZlRGF0YVByb2dyZXNzIiwiZXJyb3IiLCJ0aW1lT3V0RXJyb3IiLCJsb2FkaW5nRmFpbGVkIiwibG9hZGluZ0ZpbmlzaGVkIiwibGVuZ3RoIiwiX3N1YnNjcmlwdGlvbnMiLCJmb3JFYWNoIiwic3ViIiwicmVtb3ZlIiwiaGVhZGVycyIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJoZWFkZXJOYW1lIiwiam9pbiIsImhlYWRlciIsInZhbHVlIiwidG9Mb3dlckNhc2UiLCJFcnJvciIsIlN0cmluZyIsInRyYWNraW5nTmFtZSIsIm1ldGhvZCIsInVybCIsImFzeW5jIiwidG9VcHBlckNhc2UiLCJkYXRhIiwiaW5jcmVtZW50YWxFdmVudHMiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJvbnByb2dyZXNzIiwicHVzaCIsImFkZExpc3RlbmVyIiwiYXJncyIsIl9fZGlkVXBsb2FkUHJvZ3Jlc3MiLCJfX2RpZFJlY2VpdmVSZXNwb25zZSIsIl9fZGlkUmVjZWl2ZURhdGEiLCJfX2RpZFJlY2VpdmVJbmNyZW1lbnRhbERhdGEiLCJfX2RpZENvbXBsZXRlUmVzcG9uc2UiLCJuYXRpdmVSZXNwb25zZVR5cGUiLCJzZW5kUmVxdWVzdCIsIl9fZGlkQ3JlYXRlUmVxdWVzdCIsImJpbmQiLCJhYm9ydFJlcXVlc3QiLCJyZWR1Y2UiLCJsY2FzZUhlYWRlcnMiLCJuZXdTdGF0ZSIsImxpc3RlbmVyIiwicmVzcG9uc2VUeXBlIiwiaGFzT3duUHJvcGVydHkiLCJ0b0J5dGVBcnJheSIsImJ1ZmZlciIsImdldFJlc3BvbnNlSGVhZGVyIiwiSlNPTiIsInBhcnNlIiwiXyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBV0EsYTs7QUFFQSxHQUFNQSxhQUFjQyxRQUFRLG1CQUFSLENBQXBCO0FBQ0EsR0FBTUMsZUFBZ0JELFFBQVEsZUFBUixDQUF0Qjs7QUFFQSxHQUFNRSxRQUFTRixRQUFRLFdBQVIsQ0FBZjtBQUNBLEdBQU1HLFdBQVlILFFB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S0FBSy9FLFNBQXhCLEVBQW1DZ0YsTUFBcEMsQ0FEcUIsQ0FFckIsQ0FBQzNELEtBQU0sS0FBSzRELGlCQUFMLENBQXVCLGNBQXZCLEdBQTBDLEVBQWpELENBRnFCLENBQXZCLENBSUEsTUFFRixJQUFLLE1BQUwsQ0FDRSxHQUFJLENBQ0YsS0FBS3ZFLGVBQUwsQ0FBdUJ3RSxLQUFLQyxLQUFMLENBQVcsS0FBS25GLFNBQWhCLENBQXZCLENBQ0QsQ0FBQyxNQUFPb0YsQ0FBUCxDQUFVLENBQ1YsS0FBSzFFLGVBQUwsQ0FBdUIsSUFBdkIsQ0FDRCxDQUNELE1BRUYsUUFDRSxLQUFLQSxlQUFMLENBQXVCLElBQXZCLENBekJKLENBNEJBLE1BQU8sTUFBS0EsZUFBWixDQUNELEMsNEJBdkswQjdDLCtDQUFlcUIsVUFBZixFLEVBQXZCRyxjLENBRUdsQixNLENBQWlCQSxNLENBRnBCa0IsYyxDQUdHakIsTSxDQUFpQkEsTSxDQUhwQmlCLGMsQ0FJR2hCLGdCLENBQTJCQSxnQixDQUo5QmdCLGMsQ0FLR2YsTyxDQUFrQkEsTyxDQUxyQmUsYyxDQU1HZCxJLENBQWVBLEksQ0FObEJjLGMsQ0FRR0UsWSxDQUFnQyxJOzs7QUFxZHpDOEYsT0FBT0MsT0FBUCxDQUFpQmpHLGNBQWpCIiwiZmlsZSI6IlhNTEh0dHBSZXF1ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuIEFuIGFkZGl0aW9uYWwgZ3JhbnRcbiAqIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBYTUxIdHRwUmVxdWVzdFxuICogQGZsb3dcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBFdmVudFRhcmdldCA9IHJlcXVpcmUoJ2V2ZW50LXRhcmdldC1zaGltJyk7XG5jb25zdCBSQ1ROZXR3b3JraW5nID0gcmVxdWlyZSgnUkNUTmV0d29ya2luZycpO1xuXG5jb25zdCBiYXNlNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKTtcbmNvbnN0IGludmFyaWFudCA9IHJlcXVpcmUoJ2ZianMvbGliL2ludmFyaWFudCcpO1xuY29uc3Qgd2FybmluZyA9IHJlcXVpcmUoJ2ZianMvbGliL3dhcm5pbmcnKTtcblxudHlwZSBSZXNwb25zZVR5cGUgPSAnJyB8ICdhcnJheWJ1ZmZlcicgfCAnYmxvYicgfCAnZG9jdW1lbnQnIHwgJ2pzb24nIHwgJ3RleHQnO1xudHlwZSBSZXNwb25zZSA9ID9PYmplY3QgfCBzdHJpbmc7XG5cbnR5cGUgWEhSSW50ZXJjZXB0b3IgPSB7XG4gIHJlcXVlc3RTZW50KFxuICAgIGlkOiBudW1iZXIsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbWV0aG9kOiBzdHJpbmcsXG4gICAgaGVhZGVyczogT2JqZWN0XG4gICk6IHZvaWQsXG4gIHJlc3BvbnNlUmVjZWl2ZWQoXG4gICAgaWQ6IG51bWJlcixcbiAgICB1cmw6IHN0cmluZyxcbiAgICBzdGF0dXM6IG51bWJlcixcbiAgICBoZWFkZXJzOiBPYmplY3RcbiAgKTogdm9pZCxcbiAgZGF0YVJlY2VpdmVkKFxuICAgIGlkOiBudW1iZXIsXG4gICAgZGF0YTogc3RyaW5nXG4gICk6IHZvaWQsXG4gIGxvYWRpbmdGaW5pc2hlZChcbiAgICBpZDogbnVtYmVyLFxuICAgIGVuY29kZWREYXRhTGVuZ3RoOiBudW1iZXJcbiAgKTogdm9pZCxcbiAgbG9hZGluZ0ZhaWxlZChcbiAgICBpZDogbnVtYmVyLFxuICAgIGVycm9yOiBzdHJpbmdcbiAgKTogdm9pZCxcbn07XG5cbmNvbnN0IFVOU0VOVCA9IDA7XG5jb25zdCBPUEVORUQgPSAxO1xuY29uc3QgSEVBREVSU19SRUNFSVZFRCA9IDI7XG5jb25zdCBMT0FESU5HID0gMztcbmNvbnN0IERPTkUgPSA0O1xuXG5jb25zdCBTVVBQT1JURURfUkVTUE9OU0VfVFlQRVMgPSB7XG4gIGFycmF5YnVmZmVyOiB0eXBlb2YgZ2xvYmFsLkFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nLFxuICBibG9iOiB0eXBlb2YgZ2xvYmFsLkJsb2IgPT09ICdmdW5jdGlvbicsXG4gIGRvY3VtZW50OiBmYWxzZSxcbiAganNvbjogdHJ1ZSxcbiAgdGV4dDogdHJ1ZSxcbiAgJyc6IHRydWUsXG59O1xuXG5jb25zdCBSRVFVRVNUX0VWRU5UUyA9IFtcbiAgJ2Fib3J0JyxcbiAgJ2Vycm9yJyxcbiAgJ2xvYWQnLFxuICAnbG9hZHN0YXJ0JyxcbiAgJ3Byb2dyZXNzJyxcbiAgJ3RpbWVvdXQnLFxuICAnbG9hZGVuZCcsXG5dO1xuXG5jb25zdCBYSFJfRVZFTlRTID0gUkVRVUVTVF9FVkVOVFMuY29uY2F0KCdyZWFkeXN0YXRlY2hhbmdlJyk7XG5cbmNsYXNzIFhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQgZXh0ZW5kcyBFdmVudFRhcmdldCguLi5SRVFVRVNUX0VWRU5UUykge1xuICBvbmxvYWQ6ID9GdW5jdGlvbjtcbiAgb25sb2Fkc3RhcnQ6ID9GdW5jdGlvbjtcbiAgb25wcm9ncmVzczogP0Z1bmN0aW9uO1xuICBvbnRpbWVvdXQ6ID9GdW5jdGlvbjtcbiAgb25lcnJvcjogP0Z1bmN0aW9uO1xuICBvbmFib3J0OiA/RnVuY3Rpb247XG4gIG9ubG9hZGVuZDogP0Z1bmN0aW9uO1xufVxuXG4vKipcbiAqIFNoYXJlZCBiYXNlIGZvciBwbGF0Zm9ybS1zcGVjaWZpYyBYTUxIdHRwUmVxdWVzdCBpbXBsZW1lbnRhdGlvbnMuXG4gKi9cbmNsYXNzIFhNTEh0dHBSZXF1ZXN0IGV4dGVuZHMgRXZlbnRUYXJnZXQoLi4uWEhSX0VWRU5UUykge1xuXG4gIHN0YXRpYyBVTlNFTlQ6IG51bWJlciA9IFVOU0VOVDtcbiAgc3RhdGljIE9QRU5FRDogbnVtYmVyID0gT1BFTkVEO1xuICBzdGF0aWMgSEVBREVSU19SRUNFSVZFRDogbnVtYmVyID0gSEVBREVSU19SRUNFSVZFRDtcbiAgc3RhdGljIExPQURJTkc6IG51bWJlciA9IExPQURJTkc7XG4gIHN0YXRpYyBET05FOiBudW1iZXIgPSBET05FO1xuXG4gIHN0YXRpYyBfaW50ZXJjZXB0b3I6ID9YSFJJbnRlcmNlcHRvciA9IG51bGw7XG5cbiAgVU5TRU5UOiBudW1iZXIgPSBVTlNFTlQ7XG4gIE9QRU5FRDogbnVtYmVyID0gT1BFTkVEO1xuICBIRUFERVJTX1JFQ0VJVkVEOiBudW1iZXIgPSBIRUFERVJTX1JFQ0VJVkVEO1xuICBMT0FESU5HOiBudW1iZXIgPSBMT0FESU5HO1xuICBET05FOiBudW1iZXIgPSBET05FO1xuXG4gIC8vIEV2ZW50VGFyZ2V0IGF1dG9tYXRpY2FsbHkgaW5pdGlhbGl6ZXMgdGhlc2UgdG8gYG51bGxgLlxuICBvbmxvYWQ6ID9GdW5jdGlvbjtcbiAgb25sb2Fkc3RhcnQ6ID9GdW5jdGlvbjtcbiAgb25wcm9ncmVzczogP0Z1bmN0aW9uO1xuICBvbnRpbWVvdXQ6ID9GdW5jdGlvbjtcbiAgb25lcnJvcjogP0Z1bmN0aW9uO1xuICBvbmFib3J0OiA/RnVuY3Rpb247XG4gIG9ubG9hZGVuZDogP0Z1bmN0aW9uO1xuICBvbnJlYWR5c3RhdGVjaGFuZ2U6ID9GdW5jdGlvbjtcblxuICByZWFkeVN0YXRlOiBudW1iZXIgPSBVTlNFTlQ7XG4gIHJlc3BvbnNlSGVhZGVyczogP09iamVjdDtcbiAgc3RhdHVzOiBudW1iZXIgPSAwO1xuICB0aW1lb3V0OiBudW1iZXIgPSAwO1xuICByZXNwb25zZVVSTDogP3N0cmluZztcbiAgd2l0aENyZWRlbnRpYWxzOiBib29sZWFuID0gdHJ1ZVxuXG4gIHVwbG9hZDogWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldCA9IG5ldyBYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0KCk7XG5cbiAgX3JlcXVlc3RJZDogP251bWJlcjtcbiAgX3N1YnNjcmlwdGlvbnM6IEFycmF5PCo+O1xuXG4gIF9hYm9ydGVkOiBib29sZWFuID0gZmFsc2U7XG4gIF9jYWNoZWRSZXNwb25zZTogUmVzcG9uc2U7XG4gIF9oYXNFcnJvcjogYm9vbGVhbiA9IGZhbHNlO1xuICBfaGVhZGVyczogT2JqZWN0O1xuICBfbG93ZXJDYXNlUmVzcG9uc2VIZWFkZXJzOiBPYmplY3Q7XG4gIF9tZXRob2Q6ID9zdHJpbmcgPSBudWxsO1xuICBfcmVzcG9uc2U6IHN0cmluZyB8ID9PYmplY3Q7XG4gIF9yZXNwb25zZVR5cGU6IFJlc3BvbnNlVHlwZTtcbiAgX3Jlc3BvbnNlOiBzdHJpbmcgPSAnJztcbiAgX3NlbnQ6IGJvb2xlYW47XG4gIF91cmw6ID9zdHJpbmcgPSBudWxsO1xuICBfdGltZWRPdXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgX3RyYWNraW5nTmFtZTogc3RyaW5nID0gJ3Vua25vd24nO1xuICBfaW5jcmVtZW50YWxFdmVudHM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBzdGF0aWMgc2V0SW50ZXJjZXB0b3IoaW50ZXJjZXB0b3I6ID9YSFJJbnRlcmNlcHRvcikge1xuICAgIFhNTEh0dHBSZXF1ZXN0Ll9pbnRlcmNlcHRvciA9IGludGVyY2VwdG9yO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9yZXNldCgpO1xuICB9XG5cbiAgX3Jlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IHRoaXMuVU5TRU5UO1xuICAgIHRoaXMucmVzcG9uc2VIZWFkZXJzID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuc3RhdHVzID0gMDtcbiAgICBkZWxldGUgdGhpcy5yZXNwb25zZVVSTDtcblxuICAgIHRoaXMuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICB0aGlzLl9jYWNoZWRSZXNwb25zZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9oYXNFcnJvciA9IGZhbHNlO1xuICAgIHRoaXMuX2hlYWRlcnMgPSB7fTtcbiAgICB0aGlzLl9yZXNwb25zZSA9ICcnO1xuICAgIHRoaXMuX3Jlc3BvbnNlVHlwZSA9ICcnO1xuICAgIHRoaXMuX3NlbnQgPSBmYWxzZTtcbiAgICB0aGlzLl9sb3dlckNhc2VSZXNwb25zZUhlYWRlcnMgPSB7fTtcblxuICAgIHRoaXMuX2NsZWFyU3Vic2NyaXB0aW9ucygpO1xuICAgIHRoaXMuX3RpbWVkT3V0ID0gZmFsc2U7XG4gIH1cblxuICBnZXQgcmVzcG9uc2VUeXBlKCk6IFJlc3BvbnNlVHlwZSB7XG4gICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlVHlwZTtcbiAgfVxuXG4gIHNldCByZXNwb25zZVR5cGUocmVzcG9uc2VUeXBlOiBSZXNwb25zZVR5cGUpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5fc2VudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnRmFpbGVkIHRvIHNldCB0aGUgXFwncmVzcG9uc2VUeXBlXFwnIHByb3BlcnR5IG9uIFxcJ1hNTEh0dHBSZXF1ZXN0XFwnOiBUaGUgJyArXG4gICAgICAgICdyZXNwb25zZSB0eXBlIGNhbm5vdCBiZSBzZXQgYWZ0ZXIgdGhlIHJlcXVlc3QgaGFzIGJlZW4gc2VudC4nXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIVNVUFBPUlRFRF9SRVNQT05TRV9UWVBFUy5oYXNPd25Qcm9wZXJ0eShyZXNwb25zZVR5cGUpKSB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgYFRoZSBwcm92aWRlZCB2YWx1ZSAnJHtyZXNwb25zZVR5cGV9JyBpcyBub3QgYSB2YWxpZCAncmVzcG9uc2VUeXBlJy5gXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlZGJveGVzIGVhcmx5LCBlLmcuIGZvciAnYXJyYXlidWZmZXInIG9uIGlvcyA3XG4gICAgaW52YXJpYW50KFxuICAgICAgU1VQUE9SVEVEX1JFU1BPTlNFX1RZUEVTW3Jlc3BvbnNlVHlwZV0gfHwgcmVzcG9uc2VUeXBlID09PSAnZG9jdW1lbnQnLFxuICAgICAgYFRoZSBwcm92aWRlZCB2YWx1ZSAnJHtyZXNwb25zZVR5cGV9JyBpcyB1bnN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LmBcbiAgICApO1xuICAgIHRoaXMuX3Jlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcbiAgfVxuXG4gIGdldCByZXNwb25zZVRleHQoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5fcmVzcG9uc2VUeXBlICE9PSAnJyAmJiB0aGlzLl9yZXNwb25zZVR5cGUgIT09ICd0ZXh0Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSAncmVzcG9uc2VUZXh0JyBwcm9wZXJ0eSBpcyBvbmx5IGF2YWlsYWJsZSBpZiAncmVzcG9uc2VUeXBlJyBcIiArXG4gICAgICAgIGBpcyBzZXQgdG8gJycgb3IgJ3RleHQnLCBidXQgaXQgaXMgJyR7dGhpcy5fcmVzcG9uc2VUeXBlfScuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA8IExPQURJTkcpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Jlc3BvbnNlO1xuICB9XG5cbiAgZ2V0IHJlc3BvbnNlKCk6IFJlc3BvbnNlIHtcbiAgICBjb25zdCB7cmVzcG9uc2VUeXBlfSA9IHRoaXM7XG4gICAgaWYgKHJlc3BvbnNlVHlwZSA9PT0gJycgfHwgcmVzcG9uc2VUeXBlID09PSAndGV4dCcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlYWR5U3RhdGUgPCBMT0FESU5HIHx8IHRoaXMuX2hhc0Vycm9yXG4gICAgICAgID8gJydcbiAgICAgICAgOiB0aGlzLl9yZXNwb25zZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSBET05FKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY2FjaGVkUmVzcG9uc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFJlc3BvbnNlO1xuICAgIH1cblxuICAgIHN3aXRjaCAocmVzcG9uc2VUeXBlKSB7XG4gICAgICBjYXNlICdkb2N1bWVudCc6XG4gICAgICAgIHRoaXMuX2NhY2hlZFJlc3BvbnNlID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2FycmF5YnVmZmVyJzpcbiAgICAgICAgdGhpcy5fY2FjaGVkUmVzcG9uc2UgPSBiYXNlNjQudG9CeXRlQXJyYXkodGhpcy5fcmVzcG9uc2UpLmJ1ZmZlcjtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2Jsb2InOlxuICAgICAgICB0aGlzLl9jYWNoZWRSZXNwb25zZSA9IG5ldyBnbG9iYWwuQmxvYihcbiAgICAgICAgICBbYmFzZTY0LnRvQnl0ZUFycmF5KHRoaXMuX3Jlc3BvbnNlKS5idWZmZXJdLFxuICAgICAgICAgIHt0eXBlOiB0aGlzLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKSB8fCAnJ31cbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMuX2NhY2hlZFJlc3BvbnNlID0gSlNPTi5wYXJzZSh0aGlzLl9yZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICB0aGlzLl9jYWNoZWRSZXNwb25zZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuX2NhY2hlZFJlc3BvbnNlID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fY2FjaGVkUmVzcG9uc2U7XG4gIH1cblxuICAvLyBleHBvc2VkIGZvciB0ZXN0aW5nXG4gIF9fZGlkQ3JlYXRlUmVxdWVzdChyZXF1ZXN0SWQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuX3JlcXVlc3RJZCA9IHJlcXVlc3RJZDtcblxuICAgIFhNTEh0dHBSZXF1ZXN0Ll9pbnRlcmNlcHRvciAmJiBYTUxIdHRwUmVxdWVzdC5faW50ZXJjZXB0b3IucmVxdWVzdFNlbnQoXG4gICAgICByZXF1ZXN0SWQsXG4gICAgICB0aGlzLl91cmwgfHwgJycsXG4gICAgICB0aGlzLl9tZXRob2QgfHwgJ0dFVCcsXG4gICAgICB0aGlzLl9oZWFkZXJzKTtcbiAgfVxuXG4gIC8vIGV4cG9zZWQgZm9yIHRlc3RpbmdcbiAgX19kaWRVcGxvYWRQcm9ncmVzcyhcbiAgICByZXF1ZXN0SWQ6IG51bWJlcixcbiAgICBwcm9ncmVzczogbnVtYmVyLFxuICAgIHRvdGFsOiBudW1iZXJcbiAgKTogdm9pZCB7XG4gICAgaWYgKHJlcXVlc3RJZCA9PT0gdGhpcy5fcmVxdWVzdElkKSB7XG4gICAgICB0aGlzLnVwbG9hZC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgdHlwZTogJ3Byb2dyZXNzJyxcbiAgICAgICAgbGVuZ3RoQ29tcHV0YWJsZTogdHJ1ZSxcbiAgICAgICAgbG9hZGVkOiBwcm9ncmVzcyxcbiAgICAgICAgdG90YWwsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfX2RpZFJlY2VpdmVSZXNwb25zZShcbiAgICByZXF1ZXN0SWQ6IG51bWJlcixcbiAgICBzdGF0dXM6IG51bWJlcixcbiAgICByZXNwb25zZUhlYWRlcnM6ID9PYmplY3QsXG4gICAgcmVzcG9uc2VVUkw6ID9zdHJpbmdcbiAgKTogdm9pZCB7XG4gICAgaWYgKHJlcXVlc3RJZCA9PT0gdGhpcy5fcmVxdWVzdElkKSB7XG4gICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgIHRoaXMuc2V0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlSGVhZGVycyk7XG4gICAgICB0aGlzLnNldFJlYWR5U3RhdGUodGhpcy5IRUFERVJTX1JFQ0VJVkVEKTtcbiAgICAgIGlmIChyZXNwb25zZVVSTCB8fCByZXNwb25zZVVSTCA9PT0gJycpIHtcbiAgICAgICAgdGhpcy5yZXNwb25zZVVSTCA9IHJlc3BvbnNlVVJMO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucmVzcG9uc2VVUkw7XG4gICAgICB9XG5cbiAgICAgIFhNTEh0dHBSZXF1ZXN0Ll9pbnRlcmNlcHRvciAmJiBYTUxIdHRwUmVxdWVzdC5faW50ZXJjZXB0b3IucmVzcG9uc2VSZWNlaXZlZChcbiAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICByZXNwb25zZVVSTCB8fCB0aGlzLl91cmwgfHwgJycsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzIHx8IHt9KTtcbiAgICB9XG4gIH1cblxuICBfX2RpZFJlY2VpdmVEYXRhKHJlcXVlc3RJZDogbnVtYmVyLCByZXNwb25zZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKHJlcXVlc3RJZCAhPT0gdGhpcy5fcmVxdWVzdElkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX3Jlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5fY2FjaGVkUmVzcG9uc2UgPSB1bmRlZmluZWQ7IC8vIGZvcmNlIGxhenkgcmVjb21wdXRhdGlvblxuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLkxPQURJTkcpO1xuXG4gICAgWE1MSHR0cFJlcXVlc3QuX2ludGVyY2VwdG9yICYmIFhNTEh0dHBSZXF1ZXN0Ll9pbnRlcmNlcHRvci5kYXRhUmVjZWl2ZWQoXG4gICAgICByZXF1ZXN0SWQsXG4gICAgICByZXNwb25zZSk7XG4gIH1cblxuICBfX2RpZFJlY2VpdmVJbmNyZW1lbnRhbERhdGEoXG4gICAgcmVxdWVzdElkOiBudW1iZXIsXG4gICAgcmVzcG9uc2VUZXh0OiBzdHJpbmcsXG4gICAgcHJvZ3Jlc3M6IG51bWJlcixcbiAgICB0b3RhbDogbnVtYmVyXG4gICkge1xuICAgIGlmIChyZXF1ZXN0SWQgIT09IHRoaXMuX3JlcXVlc3RJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuX3Jlc3BvbnNlKSB7XG4gICAgICB0aGlzLl9yZXNwb25zZSA9IHJlc3BvbnNlVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcmVzcG9uc2UgKz0gcmVzcG9uc2VUZXh0O1xuICAgIH1cblxuICAgIFhNTEh0dHBSZXF1ZXN0Ll9pbnRlcmNlcHRvciAmJiBYTUxIdHRwUmVxdWVzdC5faW50ZXJjZXB0b3IuZGF0YVJlY2VpdmVkKFxuICAgICAgcmVxdWVzdElkLFxuICAgICAgcmVzcG9uc2VUZXh0KTtcblxuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLkxPQURJTkcpO1xuICAgIHRoaXMuX19kaWRSZWNlaXZlRGF0YVByb2dyZXNzKHJlcXVlc3RJZCwgcHJvZ3Jlc3MsIHRvdGFsKTtcbiAgfVxuXG4gIF9fZGlkUmVjZWl2ZURhdGFQcm9ncmVzcyhcbiAgICByZXF1ZXN0SWQ6IG51bWJlcixcbiAgICBsb2FkZWQ6IG51bWJlcixcbiAgICB0b3RhbDogbnVtYmVyXG4gICk6IHZvaWQge1xuICAgIGlmIChyZXF1ZXN0SWQgIT09IHRoaXMuX3JlcXVlc3RJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgdHlwZTogJ3Byb2dyZXNzJyxcbiAgICAgIGxlbmd0aENvbXB1dGFibGU6IHRvdGFsID49IDAsXG4gICAgICBsb2FkZWQsXG4gICAgICB0b3RhbCxcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGV4cG9zZWQgZm9yIHRlc3RpbmdcbiAgX19kaWRDb21wbGV0ZVJlc3BvbnNlKFxuICAgIHJlcXVlc3RJZDogbnVtYmVyLFxuICAgIGVycm9yOiBzdHJpbmcsXG4gICAgdGltZU91dEVycm9yOiBib29sZWFuXG4gICk6IHZvaWQge1xuICAgIGlmIChyZXF1ZXN0SWQgPT09IHRoaXMuX3JlcXVlc3RJZCkge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXNwb25zZVR5cGUgPT09ICcnIHx8IHRoaXMuX3Jlc3BvbnNlVHlwZSA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgdGhpcy5fcmVzcG9uc2UgPSBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYXNFcnJvciA9IHRydWU7XG4gICAgICAgIGlmICh0aW1lT3V0RXJyb3IpIHtcbiAgICAgICAgICB0aGlzLl90aW1lZE91dCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX2NsZWFyU3Vic2NyaXB0aW9ucygpO1xuICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLkRPTkUpO1xuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgWE1MSHR0cFJlcXVlc3QuX2ludGVyY2VwdG9yICYmIFhNTEh0dHBSZXF1ZXN0Ll9pbnRlcmNlcHRvci5sb2FkaW5nRmFpbGVkKFxuICAgICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgICBlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBYTUxIdHRwUmVxdWVzdC5faW50ZXJjZXB0b3IgJiYgWE1MSHR0cFJlcXVlc3QuX2ludGVyY2VwdG9yLmxvYWRpbmdGaW5pc2hlZChcbiAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgdGhpcy5fcmVzcG9uc2UubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfY2xlYXJTdWJzY3JpcHRpb25zKCk6IHZvaWQge1xuICAgICh0aGlzLl9zdWJzY3JpcHRpb25zIHx8IFtdKS5mb3JFYWNoKHN1YiA9PiB7XG4gICAgICBzdWIucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtdO1xuICB9XG5cbiAgZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk6ID9zdHJpbmcge1xuICAgIGlmICghdGhpcy5yZXNwb25zZUhlYWRlcnMpIHtcbiAgICAgIC8vIGFjY29yZGluZyB0byB0aGUgc3BlYywgcmV0dXJuIG51bGwgaWYgbm8gcmVzcG9uc2UgaGFzIGJlZW4gcmVjZWl2ZWRcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgaGVhZGVycyA9IHRoaXMucmVzcG9uc2VIZWFkZXJzIHx8IHt9O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhoZWFkZXJzKS5tYXAoKGhlYWRlck5hbWUpID0+IHtcbiAgICAgIHJldHVybiBoZWFkZXJOYW1lICsgJzogJyArIGhlYWRlcnNbaGVhZGVyTmFtZV07XG4gICAgfSkuam9pbignXFxyXFxuJyk7XG4gIH1cblxuICBnZXRSZXNwb25zZUhlYWRlcihoZWFkZXI6IHN0cmluZyk6ID9zdHJpbmcge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX2xvd2VyQ2FzZVJlc3BvbnNlSGVhZGVyc1toZWFkZXIudG9Mb3dlckNhc2UoKV07XG4gICAgcmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IG51bGw7XG4gIH1cblxuICBzZXRSZXF1ZXN0SGVhZGVyKGhlYWRlcjogc3RyaW5nLCB2YWx1ZTogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gdGhpcy5PUEVORUQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVxdWVzdCBoYXMgbm90IGJlZW4gb3BlbmVkJyk7XG4gICAgfVxuICAgIHRoaXMuX2hlYWRlcnNbaGVhZGVyLnRvTG93ZXJDYXNlKCldID0gU3RyaW5nKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdXN0b20gZXh0ZW5zaW9uIGZvciB0cmFja2luZyBvcmlnaW5zIG9mIHJlcXVlc3QuXG4gICAqL1xuICBzZXRUcmFja2luZ05hbWUodHJhY2tpbmdOYW1lOiBzdHJpbmcpOiBYTUxIdHRwUmVxdWVzdCB7XG4gICAgdGhpcy5fdHJhY2tpbmdOYW1lID0gdHJhY2tpbmdOYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgb3BlbihtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIGFzeW5jOiA/Ym9vbGVhbik6IHZvaWQge1xuICAgIC8qIE90aGVyIG9wdGlvbmFsIGFyZ3VtZW50cyBhcmUgbm90IHN1cHBvcnRlZCB5ZXQgKi9cbiAgICBpZiAodGhpcy5yZWFkeVN0YXRlICE9PSB0aGlzLlVOU0VOVCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3Qgb3BlbiwgYWxyZWFkeSBzZW5kaW5nJyk7XG4gICAgfVxuICAgIGlmIChhc3luYyAhPT0gdW5kZWZpbmVkICYmICFhc3luYykge1xuICAgICAgLy8gYXN5bmMgaXMgZGVmYXVsdFxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTeW5jaHJvbm91cyBodHRwIHJlcXVlc3RzIGFyZSBub3Qgc3VwcG9ydGVkJyk7XG4gICAgfVxuICAgIGlmICghdXJsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBsb2FkIGFuIGVtcHR5IHVybCcpO1xuICAgIH1cbiAgICB0aGlzLl9tZXRob2QgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICB0aGlzLl91cmwgPSB1cmw7XG4gICAgdGhpcy5fYWJvcnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZSh0aGlzLk9QRU5FRCk7XG4gIH1cblxuICBzZW5kKGRhdGE6IGFueSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgIT09IHRoaXMuT1BFTkVEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3QgaGFzIG5vdCBiZWVuIG9wZW5lZCcpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc2VudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXF1ZXN0IGhhcyBhbHJlYWR5IGJlZW4gc2VudCcpO1xuICAgIH1cbiAgICB0aGlzLl9zZW50ID0gdHJ1ZTtcbiAgICBjb25zdCBpbmNyZW1lbnRhbEV2ZW50cyA9IHRoaXMuX2luY3JlbWVudGFsRXZlbnRzIHx8XG4gICAgICAhIXRoaXMub25yZWFkeXN0YXRlY2hhbmdlIHx8XG4gICAgICAhIXRoaXMub25wcm9ncmVzcztcblxuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMucHVzaChSQ1ROZXR3b3JraW5nLmFkZExpc3RlbmVyKFxuICAgICAgJ2RpZFNlbmROZXR3b3JrRGF0YScsXG4gICAgICAoYXJncykgPT4gdGhpcy5fX2RpZFVwbG9hZFByb2dyZXNzKC4uLmFyZ3MpXG4gICAgKSk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5wdXNoKFJDVE5ldHdvcmtpbmcuYWRkTGlzdGVuZXIoXG4gICAgICAnZGlkUmVjZWl2ZU5ldHdvcmtSZXNwb25zZScsXG4gICAgICAoYXJncykgPT4gdGhpcy5fX2RpZFJlY2VpdmVSZXNwb25zZSguLi5hcmdzKVxuICAgICkpO1xuICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMucHVzaChSQ1ROZXR3b3JraW5nLmFkZExpc3RlbmVyKFxuICAgICAgJ2RpZFJlY2VpdmVOZXR3b3JrRGF0YScsXG4gICAgICAoYXJncykgPT4gdGhpcy5fX2RpZFJlY2VpdmVEYXRhKC4uLmFyZ3MpXG4gICAgKSk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5wdXNoKFJDVE5ldHdvcmtpbmcuYWRkTGlzdGVuZXIoXG4gICAgICAnZGlkUmVjZWl2ZU5ldHdvcmtJbmNyZW1lbnRhbERhdGEnLFxuICAgICAgKGFyZ3MpID0+IHRoaXMuX19kaWRSZWNlaXZlSW5jcmVtZW50YWxEYXRhKC4uLmFyZ3MpXG4gICAgKSk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5wdXNoKFJDVE5ldHdvcmtpbmcuYWRkTGlzdGVuZXIoXG4gICAgICAnZGlkUmVjZWl2ZU5ldHdvcmtEYXRhUHJvZ3Jlc3MnLFxuICAgICAgKGFyZ3MpID0+IHRoaXMuX19kaWRSZWNlaXZlRGF0YVByb2dyZXNzKC4uLmFyZ3MpXG4gICAgKSk7XG4gICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5wdXNoKFJDVE5ldHdvcmtpbmcuYWRkTGlzdGVuZXIoXG4gICAgICAnZGlkQ29tcGxldGVOZXR3b3JrUmVzcG9uc2UnLFxuICAgICAgKGFyZ3MpID0+IHRoaXMuX19kaWRDb21wbGV0ZVJlc3BvbnNlKC4uLmFyZ3MpXG4gICAgKSk7XG5cbiAgICBsZXQgbmF0aXZlUmVzcG9uc2VUeXBlID0gJ3RleHQnO1xuICAgIGlmICh0aGlzLl9yZXNwb25zZVR5cGUgPT09ICdhcnJheWJ1ZmZlcicgfHwgdGhpcy5fcmVzcG9uc2VUeXBlID09PSAnYmxvYicpIHtcbiAgICAgIG5hdGl2ZVJlc3BvbnNlVHlwZSA9ICdiYXNlNjQnO1xuICAgIH1cblxuICAgIGludmFyaWFudCh0aGlzLl9tZXRob2QsICdSZXF1ZXN0IG1ldGhvZCBuZWVkcyB0byBiZSBkZWZpbmVkLicpO1xuICAgIGludmFyaWFudCh0aGlzLl91cmwsICdSZXF1ZXN0IFVSTCBuZWVkcyB0byBiZSBkZWZpbmVkLicpO1xuICAgIFJDVE5ldHdvcmtpbmcuc2VuZFJlcXVlc3QoXG4gICAgICB0aGlzLl9tZXRob2QsXG4gICAgICB0aGlzLl90cmFja2luZ05hbWUsXG4gICAgICB0aGlzLl91cmwsXG4gICAgICB0aGlzLl9oZWFkZXJzLFxuICAgICAgZGF0YSxcbiAgICAgIG5hdGl2ZVJlc3BvbnNlVHlwZSxcbiAgICAgIGluY3JlbWVudGFsRXZlbnRzLFxuICAgICAgdGhpcy50aW1lb3V0LFxuICAgICAgdGhpcy5fX2RpZENyZWF0ZVJlcXVlc3QuYmluZCh0aGlzKSxcbiAgICAgIHRoaXMud2l0aENyZWRlbnRpYWxzXG4gICAgKTtcbiAgfVxuXG4gIGFib3J0KCk6IHZvaWQge1xuICAgIHRoaXMuX2Fib3J0ZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLl9yZXF1ZXN0SWQpIHtcbiAgICAgIFJDVE5ldHdvcmtpbmcuYWJvcnRSZXF1ZXN0KHRoaXMuX3JlcXVlc3RJZCk7XG4gICAgfVxuICAgIC8vIG9ubHkgY2FsbCBvbnJlYWR5c3RhdGVjaGFuZ2UgaWYgdGhlcmUgaXMgc29tZXRoaW5nIHRvIGFib3J0LFxuICAgIC8vIGJlbG93IGxvZ2ljIGlzIHBlciBzcGVjXG4gICAgaWYgKCEodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLlVOU0VOVCB8fFxuICAgICAgICAodGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLk9QRU5FRCAmJiAhdGhpcy5fc2VudCkgfHxcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID09PSB0aGlzLkRPTkUpKSB7XG4gICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgdGhpcy5zZXRSZWFkeVN0YXRlKHRoaXMuRE9ORSk7XG4gICAgfVxuICAgIC8vIFJlc2V0IGFnYWluIGFmdGVyLCBpbiBjYXNlIG1vZGlmaWVkIGluIGhhbmRsZXJcbiAgICB0aGlzLl9yZXNldCgpO1xuICB9XG5cbiAgc2V0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlSGVhZGVyczogP09iamVjdCk6IHZvaWQge1xuICAgIHRoaXMucmVzcG9uc2VIZWFkZXJzID0gcmVzcG9uc2VIZWFkZXJzIHx8IG51bGw7XG4gICAgdmFyIGhlYWRlcnMgPSByZXNwb25zZUhlYWRlcnMgfHwge307XG4gICAgdGhpcy5fbG93ZXJDYXNlUmVzcG9uc2VIZWFkZXJzID1cbiAgICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLnJlZHVjZSgobGNhc2VIZWFkZXJzLCBoZWFkZXJOYW1lKSA9PiB7XG4gICAgICAgIGxjYXNlSGVhZGVyc1toZWFkZXJOYW1lLnRvTG93ZXJDYXNlKCldID0gaGVhZGVyc1toZWFkZXJOYW1lXTtcbiAgICAgICAgcmV0dXJuIGxjYXNlSGVhZGVycztcbiAgICAgIH0sIHt9KTtcbiAgfVxuXG4gIHNldFJlYWR5U3RhdGUobmV3U3RhdGU6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IG5ld1N0YXRlO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogJ3JlYWR5c3RhdGVjaGFuZ2UnfSk7XG4gICAgaWYgKG5ld1N0YXRlID09PSB0aGlzLkRPTkUpIHtcbiAgICAgIGlmICh0aGlzLl9hYm9ydGVkKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogJ2Fib3J0J30pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9oYXNFcnJvcikge1xuICAgICAgICBpZiAodGhpcy5fdGltZWRPdXQpIHtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ICd0aW1lb3V0J30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7dHlwZTogJ2Vycm9yJ30pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ICdsb2FkJ30pO1xuICAgICAgfVxuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHt0eXBlOiAnbG9hZGVuZCd9KTtcbiAgICB9XG4gIH1cblxuICAvKiBnbG9iYWwgRXZlbnRMaXN0ZW5lciAqL1xuICBhZGRFdmVudExpc3RlbmVyKHR5cGU6IHN0cmluZywgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIpOiB2b2lkIHtcbiAgICAvLyBJZiB3ZSBkb250JyBoYXZlIGEgJ3JlYWR5c3RhdGVjaGFuZ2UnIGV2ZW50IGhhbmRsZXIsIHdlIGRvbid0XG4gICAgLy8gaGF2ZSB0byBzZW5kIHJlcGVhdGVkIExPQURJTkcgZXZlbnRzIHdpdGggaW5jcmVtZW50YWwgdXBkYXRlc1xuICAgIC8vIHRvIHJlc3BvbnNlVGV4dCwgd2hpY2ggd2lsbCBhdm9pZCBhIGJ1bmNoIG9mIG5hdGl2ZSAtPiBKU1xuICAgIC8vIGJyaWRnZSB0cmFmZmljLlxuICAgIGlmICh0eXBlID09PSAncmVhZHlzdGF0ZWNoYW5nZScgfHwgdHlwZSA9PT0gJ3Byb2dyZXNzJykge1xuICAgICAgdGhpcy5faW5jcmVtZW50YWxFdmVudHMgPSB0cnVlO1xuICAgIH1cbiAgICBzdXBlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFhNTEh0dHBSZXF1ZXN0O1xuIl19